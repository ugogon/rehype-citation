{"version":3,"file":"rehype-citation.mjs","sources":["../../src/regex.js","../../src/parse-citation.js","../../src/utils.js","../../src/html-transform-node.js","../../src/gen-citation.js","../../src/gen-biblio.js","../../src/gen-footnote.js","../../src/generator.js","../../src/citation-js/core/Cite/log.js","../../src/citation-js/core/Cite/validate.js","../../src/citation-js/core/Cite/options.js","../../src/citation-js/core/plugins/input/dataType.js","../../src/citation-js/core/plugins/input/graph.js","../../src/citation-js/core/logger.js","../../src/citation-js/core/plugins/input/type.js","../../src/citation-js/core/plugins/input/parser.js","../../src/citation-js/core/plugins/input/csl.js","../../src/citation-js/core/util/csl.js","../../src/citation-js/core/util/deepCopy.js","../../node_modules/webidl-conversions/lib/index.js","../../node_modules/whatwg-url/lib/utils.js","../../node_modules/tr46/index.js","../../node_modules/whatwg-url/lib/url-state-machine.js","../../node_modules/whatwg-url/lib/URL-impl.js","../../node_modules/whatwg-url/lib/URL.js","../../node_modules/whatwg-url/lib/public-api.js","../../node_modules/node-fetch/lib/index.mjs","../../node_modules/sync-fetch/shared.js","../../node_modules/sync-fetch/index.js","../../node_modules/fetch-ponyfill/fetch-node.js","../../src/citation-js/core/util/fetchFile.js","../../src/citation-js/core/util/fetchId.js","../../src/citation-js/core/util/register.js","../../src/citation-js/core/util/grammar.js","../../src/citation-js/core/util/translator.js","../../src/citation-js/core/plugins/input/chain.js","../../src/citation-js/core/plugins/input/data.js","../../src/citation-js/core/plugins/input/register.js","../../src/citation-js/core/plugins/input/index.js","../../src/citation-js/core/Cite/set.js","../../src/citation-js/core/plugin-common/output/label.js","../../src/citation-js/core/Cite/sort.js","../../src/citation-js/core/Cite/async.js","../../src/citation-js/core/Cite/static.js","../../src/citation-js/core/plugins/output.js","../../src/citation-js/core/Cite/get.js","../../src/citation-js/core/Cite/index.js","../../src/citation-js/core/plugins/dict.js","../../src/citation-js/core/plugins/config.js","../../src/citation-js/core/plugins/index.js","../../src/citation-js/core/plugin-common/input/empty.js","../../src/citation-js/core/plugin-common/input/json.js","../../src/citation-js/core/plugin-common/input/jquery.js","../../src/citation-js/core/plugin-common/input/html.js","../../src/citation-js/core/plugin-common/input/index.js","../../src/citation-js/core/plugin-common/output/json.js","../../src/citation-js/core/plugin-common/output/index.js","../../src/citation-js/core/plugin-common/index.js","../../src/citation-js/plugin-bibjson/json.js","../../src/citation-js/plugin-bibjson/index.js","../../node_modules/moo/moo.js","../../src/citation-js/plugin-bibtex/input/constants.js","../../src/citation-js/plugin-bibtex/input/file.js","../../src/citation-js/plugin-bibtex/input/bibtxt.js","../../src/citation-js/plugin-bibtex/config.js","../../src/citation-js/plugin-bibtex/mapping/shared.js","../../src/citation-js/plugin-bibtex/mapping/biblatex.js","../../src/citation-js/plugin-bibtex/mapping/bibtex.js","../../src/citation-js/plugin-bibtex/mapping/crossref.js","../../src/citation-js/plugin-bibtex/mapping/index.js","../../src/citation-js/plugin-bibtex/input/name.js","../../src/citation-js/plugin-bibtex/input/value.js","../../src/citation-js/plugin-bibtex/input/entries.js","../../src/citation-js/plugin-bibtex/input/index.js","../../src/citation-js/plugin-bibtex/output/value.js","../../src/citation-js/plugin-bibtex/output/entries.js","../../src/citation-js/plugin-bibtex/output/bibtex.js","../../src/citation-js/plugin-bibtex/output/bibtxt.js","../../src/citation-js/plugin-bibtex/output/index.js","../../src/citation-js/plugin-bibtex/index.js","../../src/citation-js/plugin-csl/locales.js","../../src/citation-js/plugin-csl/styles.js","../../src/citation-js/plugin-csl/engines.js","../../src/citation-js/plugin-csl/attr.js","../../src/citation-js/plugin-csl/bibliography.js","../../src/citation-js/plugin-csl/citation.js","../../src/citation-js/plugin-csl/index.js","../../src/cite.js","../../styles/mla.js","../../styles/chicago.js","../../styles/harvard1.js","../../styles/vancouver.js","../../src/index.js"],"sourcesContent":["// Regex adapted from https://github.com/Zettlr/Zettlr/blob/develop/source/common/util/extract-citations.ts\n\n/**\n * Citation detection: The first alternative matches \"full\" citations surrounded\n * by square brackets, whereas the second one matches in-text citations,\n * optionally with suffixes.\n *\n * * Group 1 matches regular \"full\" citations\n * * Group 2 matches in-text citations (not surrounded by brackets)\n * * Group 3 matches optional square-brackets suffixes to group 2 matches\n *\n * For more information, see https://pandoc.org/MANUAL.html#extension-citations\n *\n * @var {RegExp}\n */\nexport const citationRE =\n  /(?:\\[([^[\\]]*@[^[\\]]+)\\])|(?<=\\s|^|(-))(?:@([\\p{L}\\d_][^\\s]*[\\p{L}\\d_]|\\{.+\\})(?:\\s+\\[(.*?)\\])?)/u\n\n/**\n * I hate everything at this. This can match every single possible variation on\n * whatever the f*** you can possibly do within square brackets according to the\n * documentation. I opted for named groups for these because otherwise I have no\n * idea what I have been doing here.\n *\n * * Group prefix: Contains the prefix, ends with a dash if we should suppress the author\n * * Group citekey: Contains the actual citekey, can be surrounded in curly brackets\n * * Group explicitLocator: Contains an explicit locator statement. If given, we MUST ignore any form of locator in the suffix\n * * Group explicitLocatorInSuffix: Same as above, but not concatenated to the citekey\n * * Group suffix: Contains the suffix, but may start with a locator (if explicitLocator and explicitLocatorInSuffix are not given)\n *\n * @var {RegExp}\n */\nexport const fullCitationRE =\n  /(?<prefix>.+)?(?:@(?<citekey>[\\p{L}\\d_][^\\s{]*[\\p{L}\\d_]|\\{.+\\}))(?:\\{(?<explicitLocator>.*)\\})?(?:,\\s+(?:\\{(?<explicitLocatorInSuffix>.*)\\})?(?<suffix>.*))?/u\n\n/**\n * This regular expression matches locator ranges, like the following:\n *\n * * 23-45, and further (here it matches up to, not including the comma)\n * * 45\n * * 15423\n * * 14235-12532\n * * 12-34, 23, 56\n * * 12, 23-14, 23\n * * 12, 54, 12-23\n * * 1, 1-4\n * * 3\n * * NEW NEW NEW: Now also matches Roman numerals as sometimes used in forewords!\n *\n * @var {RegExp}\n */\nexport const locatorRE = /^(?:[\\d, -]*\\d|[ivxlcdm, -]*[ivxlcdm])/i\n","/**\n * @typedef {import('./types').CiteItem} CiteItem\n * @typedef {import('./types').CiteItemSuffix} CiteItemSuffix\n */\n\nimport { fullCitationRE, locatorRE } from './regex.js'\n\n/**\n * The locatorLabels have been sourced from the Citr library. Basically it's just\n * a map with valid CSL locator labels and an array of possible natural labels\n * which a user might want to write (instead of the standardized labels).\n *\n * @var {{ [key: string]: string[] }}}\n */\nconst locatorLabels = {\n  book: ['Buch', 'Bücher', 'B.', 'book', 'books', 'bk.', 'bks.', 'livre', 'livres', 'liv.'],\n  chapter: ['Kapitel', 'Kap.', 'chapter', 'chapters', 'chap.', 'chaps', 'chapitre', 'chapitres'],\n  column: ['Spalte', 'Spalten', 'Sp.', 'column', 'columns', 'col.', 'cols', 'colonne', 'colonnes'],\n  figure: ['Abbildung', 'Abbildungen', 'Abb.', 'figure', 'figures', 'fig.', 'figs'],\n  folio: ['Blatt', 'Blätter', 'Fol.', 'folio', 'folios', 'fol.', 'fols', 'fᵒ', 'fᵒˢ'],\n  issue: [\n    'Nummer',\n    'Nummern',\n    'Nr.',\n    'number',\n    'numbers',\n    'no.',\n    'nos.',\n    'numéro',\n    'numéros',\n    'nᵒ',\n    'nᵒˢ',\n  ],\n  line: ['Zeile', 'Zeilen', 'Z', 'line', 'lines', 'l.', 'll.', 'ligne', 'lignes'],\n  note: ['Note', 'Noten', 'N.', 'note', 'notes', 'n.', 'nn.'],\n  opus: ['Opus', 'Opera', 'op.', 'opus', 'opera', 'opp.'],\n  page: ['Seite', 'Seiten', 'S.', 'page', 'pages', 'p.', 'pp.'],\n  paragraph: [\n    'Absatz',\n    'Absätze',\n    'Abs.',\n    '¶',\n    '¶¶',\n    'paragraph',\n    'paragraphs',\n    'para.',\n    'paras',\n    'paragraphe',\n    'paragraphes',\n    'paragr.',\n  ],\n  part: ['Teil', 'Teile', 'part', 'parts', 'pt.', 'pts', 'partie', 'parties', 'part.'],\n  section: [\n    'Abschnitt',\n    'Abschnitte',\n    'Abschn.',\n    '§',\n    '§§',\n    'section',\n    'sections',\n    'sec.',\n    'secs',\n    'sect.',\n  ],\n  'sub verbo': ['sub verbo', 'sub verbis', 's.&#160;v.', 's.&#160;vv.', 's.v.', 's.vv.'],\n  verse: ['Vers', 'Verse', 'V.', 'verse', 'verses', 'v.', 'vv.', 'verset', 'versets'],\n  volume: ['Band', 'Bände', 'Bd.', 'Bde.', 'volume', 'volumes', 'vol.', 'vols.'],\n}\n\n/**\n * Parses a given citation string and return entries and isComposite flag required for cite-proc.\n * Adapted from https://github.com/Zettlr/Zettlr/blob/develop/source/common/util/extract-citations.ts\n *\n * @param {RegExpMatchArray} regexMatch Cite string in the form of '[@item]' or '@item'\n * @return {[CiteItem[], boolean]} [entries, isComposite]\n */\nexport const parseCitation = (regexMatch) => {\n  /** @type {CiteItem[]} */\n  let entries = []\n  let isComposite = false\n  const fullCitation = regexMatch[1]\n  const inTextSuppressAuthor = regexMatch[2]\n  const inTextCitation = regexMatch[3]\n  const optionalSuffix = regexMatch[4]\n\n  if (fullCitation !== undefined) {\n    // Handle citations in the form of [@item1; @item2]\n    for (const citationPart of fullCitation.split(';')) {\n      const match = fullCitationRE.exec(citationPart.trim())\n      if (match === null) {\n        continue // Faulty citation\n      }\n      // Prefix is the portion before @ e.g. [see @item1] or an empty string\n      // We explicitly cast groups since we have groups in our RegExp and as\n      // such the groups object will be set.\n      /** @type {CiteItem} */\n      const thisCitation = {\n        id: match.groups.citekey.replace(/{(.+)}/, '$1'),\n        prefix: undefined,\n        locator: undefined,\n        label: 'page',\n        'suppress-author': false,\n        suffix: undefined,\n      }\n\n      // First, deal with the prefix. The speciality here is that it can\n      // indicate if we should suppress the author.\n      const rawPrefix = match.groups.prefix\n      if (rawPrefix !== undefined) {\n        thisCitation['suppress-author'] = rawPrefix.trim().endsWith('-')\n        if (thisCitation['suppress-author']) {\n          thisCitation.prefix = rawPrefix.substring(0, rawPrefix.trim().length - 1).trim()\n        } else {\n          thisCitation.prefix = rawPrefix.trim()\n        }\n      }\n\n      // Second, deal with the suffix. This one can be much more tricky than\n      // the prefix. We have three alternatives where the locator may be\n      // present: If we have an explicitLocator or an explicitLocatorInSuffix,\n      // we should extract the locator from there and leave the actual suffix\n      // untouched. Only if those two alternatives are not present, then we\n      // have a look at the rawSuffix and extract a (potential) locator.\n      const explicitLocator = match.groups.explicitLocator\n      const explicitLocatorInSuffix = match.groups.explicitLocatorInSuffix\n      const rawSuffix = match.groups.suffix\n\n      let suffixToParse\n      let containsLocator = true\n      if (explicitLocator === undefined && explicitLocatorInSuffix === undefined) {\n        // Potential locator in rawSuffix. Only in this case should we overwrite\n        // the suffix (hence the same if-condition below)\n        suffixToParse = rawSuffix\n        containsLocator = false\n      } else if (explicitLocatorInSuffix !== undefined || explicitLocator !== undefined) {\n        suffixToParse = explicitLocator !== undefined ? explicitLocator : explicitLocatorInSuffix\n        thisCitation.suffix = rawSuffix?.trim()\n      }\n\n      const { label, locator, suffix } = parseSuffix(suffixToParse, containsLocator)\n      thisCitation.locator = locator\n\n      if (label !== undefined) {\n        thisCitation.label = label\n      }\n\n      if (explicitLocator === undefined && explicitLocatorInSuffix === undefined) {\n        thisCitation.suffix = suffix\n      } else if (suffix !== undefined && thisCitation.locator !== undefined) {\n        // If we're here, we should not change the suffix, but parseSuffix may\n        // have put something into the suffix return. If we're here, that will\n        // definitely be a part of the locator.\n        thisCitation.locator += suffix\n      }\n\n      entries.push(thisCitation)\n    }\n  } else {\n    // We have an in-text citation, so we can take a shortcut\n    isComposite = true\n    entries.push({\n      prefix: undefined,\n      id: inTextCitation.replace(/{(.+)}/, '$1'),\n      'suppress-author': inTextSuppressAuthor !== undefined,\n      ...parseSuffix(optionalSuffix, false), // Populate more depending on the suffix\n    })\n  }\n  return [entries, isComposite]\n}\n\n/**\n * This takes a suffix and extracts optional label and locator from this. Pass\n * true for the containsLocator property to indicate to this function that what\n * it got was not a regular suffix with an optional locator, but an explicit\n * locator so it knows it just needs to look for an optional label.\n *\n * @param {string} suffix           The suffix to parse\n * @param {boolean} containsLocator  If true, forces parseSuffix to return a locator\n *\n * @return {CiteItemSuffix} An object containing three optional properties locator, label, or suffix.\n */\nfunction parseSuffix(suffix, containsLocator) {\n  /** @type {CiteItemSuffix} */\n  const retValue = {\n    locator: undefined,\n    label: 'page',\n    suffix: undefined,\n  }\n\n  if (suffix === undefined) {\n    return retValue\n  }\n\n  // Make sure the suffix does not start or end with spaces\n  suffix = suffix.trim()\n\n  // If there is a label, the suffix must start with it\n  for (const label in locatorLabels) {\n    for (const natural of locatorLabels[label]) {\n      if (suffix.toLowerCase().startsWith(natural.toLowerCase())) {\n        retValue.label = label\n        if (containsLocator) {\n          // The suffix actually is the full locator, we just had to extract\n          // the label from it. There is no remaining suffix.\n          retValue.locator = suffix.substr(natural.length).trim()\n        } else {\n          // The caller indicated that this is a regular suffix, so we must also\n          // extract the locator from what is left after label extraction.\n          retValue.suffix = suffix.substr(natural.length).trim()\n          const match = locatorRE.exec(retValue.suffix)\n          if (match !== null) {\n            retValue.locator = match[0] // Extract the full match\n            retValue.suffix = retValue.suffix.substr(match[0].length).trim()\n          }\n        }\n\n        return retValue // Early exit\n      }\n    }\n  }\n\n  // If we're here, there was no explicit label given, but the caller has indicated\n  // that this suffix MUST contain a locator. This means that the whole suffix is\n  // the locator.\n  if (containsLocator) {\n    retValue.locator = suffix\n  } else {\n    // The caller has not indicated that the whole suffix is the locator, so it\n    // can be at the beginning. We only accept simple page/number ranges here.\n    // For everything, the user should please be more specific.\n    const match = locatorRE.exec(suffix)\n    if (match !== null) {\n      retValue.locator = match[0] // Full match is the locator\n      retValue.suffix = suffix.substr(match[0].length).trim() // The rest is the suffix.\n    }\n  }\n\n  return retValue\n}\n","import fetch from 'cross-fetch'\n\nexport const isNode = typeof window === 'undefined'\n\nexport const readFile = async (path) => {\n  if (isValidHttpUrl(path)) {\n    return fetch(path)\n      .then((response) => response.text())\n      .then((data) => data)\n  } else {\n    if (isNode) {\n      return import('fs').then((fs) => fs.readFileSync(path, 'utf8'))\n    } else {\n      throw new Error(`Cannot read non valid URL in node env.`)\n    }\n  }\n}\n\n/**\n * Check if valid URL\n * https://stackoverflow.com/questions/5717093/check-if-a-javascript-string-is-a-url\n *\n * @param {string} str\n * @return {boolean}\n */\nexport const isValidHttpUrl = (str) => {\n  let url\n\n  try {\n    url = new URL(str)\n  } catch (_) {\n    return false\n  }\n\n  return url.protocol === 'http:' || url.protocol === 'https:'\n}\n\n/**\n * Get bibliography by merging options and vfile data\n *\n * @param {import('./generator.js').Options} options\n * @param {import('vfile').VFile} file\n */\nexport const getBibliography = async (options, file) => {\n  let bibliography = ''\n  if (options.bibliography) {\n    bibliography = options.bibliography\n    // @ts-ignore\n  } else if (file?.data?.frontmatter?.bibliography) {\n    // @ts-ignore\n    bibliography = file.data.frontmatter.bibliography\n    // If local path, get absolute path\n    if (!isValidHttpUrl(bibliography)) {\n      if (isNode) {\n        bibliography = await import('path').then((path) =>\n          path.join(options.path || file.cwd, bibliography)\n        )\n      } else {\n        throw new Error(`Cannot read non valid bibliography URL in node env.`)\n      }\n    }\n  }\n\n  return bibliography\n}\n\n/**\n * Load CSL - supports predefined name from config.templates.data or http, file path (nodejs)\n *\n * @param {*} Cite cite object from citation-js\n * @param {string} format CSL name e.g. apa or file path to CSL file\n * @param {string} root optional root path\n */\nexport const loadCSL = async (Cite, format, root = '') => {\n  const config = Cite.plugins.config.get('@csl')\n  if (!Object.keys(config.templates.data).includes(format)) {\n    const cslName = `customCSL-${Math.random().toString(36).slice(2, 7)}`\n    let cslPath = ''\n    if (isValidHttpUrl(format)) cslPath = format\n    else {\n      if (isNode) cslPath = await import('path').then((path) => path.join(root, format))\n    }\n    try {\n      config.templates.add(cslName, await readFile(cslPath))\n    } catch (err) {\n      throw new Error(`Input CSL option, ${format}, is invalid or is an unknown file.`)\n    }\n    return cslName\n  } else {\n    return format\n  }\n}\n\n/**\n * Load locale - supports predefined name from config.locales.data or http, file path (nodejs)\n *\n * @param {*} Cite cite object from citation-js\n * @param {string} format locale name\n * @param {string} root optional root path\n */\nexport const loadLocale = async (Cite, format, root = '') => {\n  const config = Cite.plugins.config.get('@csl')\n  if (!Object.keys(config.locales.data).includes(format)) {\n    let localePath = ''\n    if (isValidHttpUrl(format)) localePath = format\n    else {\n      if (isNode) localePath = await import('path').then((path) => path.join(root, format))\n    }\n    try {\n      const file = await readFile(localePath)\n      const xmlLangRe = /xml:lang=\"(.+)\"/\n      const localeName = file.match(xmlLangRe)[1]\n      config.locales.add(localeName, file)\n      return localeName\n    } catch (err) {\n      throw new Error(`Input locale option, ${format}, is invalid or is an unknown file.`)\n    }\n  } else {\n    return format\n  }\n}\n\n/**\n * Get citation format\n *\n * @param {*} citeproc citeproc\n * @returns string\n */\nexport const getCitationFormat = (citeproc) => {\n  const info = citeproc.cslXml.dataObj.children[0]\n  const node = info.children.find((x) => x['attrs'] && x['attrs']['citation-format'])\n  // citation-format takes 5 possible values\n  // https://docs.citationstyles.org/en/stable/specification.html#toc-entry-14\n  /** @type {'author-date' | 'author' | 'numeric' | 'note' | 'label'} */\n  const citationFormat = node['attrs']['citation-format']\n  return citationFormat\n}\n\n/**\n * Get registry objects that matches a list of relevantIds\n * If sorted is false, retrieve registry item in the order of the given relevantIds\n *\n * @param {*} citeproc citeproc\n * @param {string[]} relevantIds\n * @param {boolean} sorted\n * @return {*} registry objects that matches Ids, in the correct order\n */\nexport const getSortedRelevantRegistryItems = (citeproc, relevantIds, sorted) => {\n  const res = []\n  if (sorted) {\n    // If sorted follow registry order\n    for (const item of citeproc.registry.reflist) {\n      if (relevantIds.includes(item.id)) res.push(item)\n    }\n  } else {\n    // Otherwise follow the relevantIds\n    for (const id of relevantIds) {\n      res.push(citeproc.registry.reflist.find((x) => x.id === id))\n    }\n  }\n  return res\n}\n\n/**\n * Split a string into two parts based on a given index position\n *\n * @param {string} str\n * @param {number} index\n * @return {string[]}\n */\nexport const split = (str, index) => {\n  return [str.slice(0, index), str.slice(index)]\n}\n\n/**\n * Check if two registry objects belong to the same author\n * Currently only checks on family name\n *\n * @param {*} item registry object\n * @param {*} item2 registry object\n * @return {boolean}\n */\nexport const isSameAuthor = (item, item2) => {\n  const authorList = item.ref.author\n  const authorList2 = item2.ref.author\n  if (authorList.length !== authorList2.length) return false\n  for (let i = 0; i < authorList.length; i++) {\n    if (authorList[i].family !== authorList2[i].family) return false\n  }\n  return true\n}\n","import parse5 from 'parse5'\nimport { fromParse5 } from 'hast-util-from-parse5'\n\n/**\n * Convert HTML to HAST node\n *\n * @param {string} html\n */\nexport const htmlToHast = (html) => {\n  const p5ast = parse5.parseFragment(html)\n  return fromParse5(p5ast).children[0]\n}\n","/**\n * @typedef {import('./types').CiteItem} CiteItem\n * @typedef {import('./types').Mode} Mode\n * @typedef {import('./types').Options} Options\n */\n\nimport { getSortedRelevantRegistryItems, split, isSameAuthor } from './utils.js'\nimport { htmlToHast } from './html-transform-node.js'\n\n/**\n * Generate citation using citeproc\n * This accounts for prev citations and additional properties\n *\n * @param {*} citeproc\n * @param {Mode} mode\n * @param {CiteItem[]} entries\n * @param {string} citationIdRoot\n * @param {number} citationId\n * @param {any[]} citationPre\n * @param {Options} options\n * @param {boolean} isComposite\n * @param {import('./types').CitationFormat} citationFormat\n * @return {[string, string]}\n */\nexport const genCitation = (\n  citeproc,\n  mode,\n  entries,\n  citationIdRoot,\n  citationId,\n  citationPre,\n  options,\n  isComposite,\n  citationFormat\n) => {\n  const { inlineClass, linkCitations } = options\n  const key = `${citationIdRoot}-${citationId}`\n  const c = citeproc.processCitationCluster(\n    {\n      citationID: key,\n      citationItems: entries,\n      properties:\n        mode === 'in-text'\n          ? { noteIndex: 0, mode: isComposite ? 'composite' : '' }\n          : { noteIndex: citationId, mode: isComposite ? 'composite' : '' },\n    },\n    citationPre.length > 0 ? citationPre : [],\n    []\n  )\n  // c = [ { bibchange: true, citation_errors: [] }, [ [ 0, '(1)', 'CITATION-1' ] ]]\n\n  const citationText = c[1].find((x) => x[2] === key)[1]\n  const ids = `citation--${entries.map((x) => x.id.toLowerCase()).join('--')}--${citationId}`\n  if (mode === 'note') {\n    // Use cite-fn-{id} to denote footnote from citation, will clean it up later to follow gfm \"user-content\" format\n    return [\n      citationText,\n      htmlToHast(\n        `<span class=\"${(inlineClass ?? []).join(\n          ' '\n        )}\" id=${ids}><sup><a href=\"#cite-fn-${citationId}\" id=\"cite-fnref-${citationId}\" data-footnote-ref aria-describedby=\"footnote-label\">${citationId}</a></sup></span>`\n      ),\n    ]\n  } else if (linkCitations && citationFormat === 'numeric') {\n    // e.g. [1, 2]\n    let i = 0\n    const refIds = entries.map((e) => e.id)\n    const output = citationText.replace(/\\d+/g, function (d) {\n      const url = `<a href=\"#bib-${refIds[i].toLowerCase()}\">${d}</a>`\n      i++\n      return url\n    })\n\n    return [\n      citationText,\n      htmlToHast(`<span class=\"${(inlineClass ?? []).join(' ')}\" id=${ids}>${output}</span>`),\n    ]\n  } else if (linkCitations && citationFormat === 'author-date') {\n    // E.g. (see Nash, 1950, pp. 12–13, 1951); (Nash, 1950; Xie, 2016)\n    if (entries.length === 1) {\n      // Do not link bracket\n      const output = isComposite\n        ? `<a href=\"#bib-${entries[0].id.toLowerCase()}\">${citationText}</a>`\n        : `${citationText.slice(0,1)}<a href=\"#bib-${entries[0].id.toLowerCase()}\">${citationText.slice(1, -1)}</a>${citationText.slice(-1)}`\n      return [\n        citationText,\n        htmlToHast(`<span class=\"${(inlineClass ?? []).join(' ')}\" id=${ids}>${output}</span>`),\n      ]\n    } else {\n      // Retrieve the items in the correct order and attach link each of them\n      const refIds = entries.map((e) => e.id)\n      const results = getSortedRelevantRegistryItems(citeproc, refIds, citeproc.opt.sort_citations)\n      const output = []\n      let str = citationText\n\n      for (const [i, item] of results.entries()) {\n        // Need to compare author. If same just match on date.\n        const id = item.id\n        let citeMatch = item.ambig\n        // If author is the same as the previous, some styles like apa collapse the author\n        if (i > 0 && isSameAuthor(results[i - 1], item) && str.indexOf(citeMatch) === -1) {\n          // Just match on year\n          citeMatch = item.ref.issued.year.toString()\n        }\n        const startPos = str.indexOf(citeMatch)\n        const [start, rest] = split(str, startPos)\n        output.push(start) // Irrelevant parts\n        const url = `<a href=\"#bib-${id.toLowerCase()}\">${rest.substring(0, citeMatch.length)}</a>`\n        output.push(url)\n        str = rest.substr(citeMatch.length)\n      }\n      output.push(str)\n      return [\n        citationText,\n        htmlToHast(\n          `<span class=\"${(inlineClass ?? []).join(' ')}\" id=${ids}>${output.join('')}</span>`\n        ),\n      ]\n    }\n  } else {\n    return [\n      citationText,\n      htmlToHast(`<span class=\"${(inlineClass ?? []).join(' ')}\" id=${ids}>${citationText}</span>`),\n    ]\n  }\n}\n","import { htmlToHast } from './html-transform-node.js'\n\n/**\n * Generate bibliography in html and convert it to hast\n *\n * @param {*} citeproc\n */\nexport const genBiblioNode = (citeproc) => {\n  const [params, bibBody] = citeproc.makeBibliography()\n  const bibliography =\n    '<div id=\"refs\" class=\"references csl-bib-body\">\\n' + bibBody.join('') + '</div>'\n  const biblioNode = htmlToHast(bibliography)\n\n  // Add citekey id to each bibliography entry.\n  biblioNode.children\n    .filter((node) => node.properties?.className?.includes('csl-entry'))\n    .forEach((node, i) => {\n      const citekey = params.entry_ids[i][0].toLowerCase()\n      node.properties = node.properties || {}\n      node.properties.id = 'bib-' + citekey\n    })\n  return biblioNode\n}\n","/**\n * @typedef {import('hast').Element} Element\n */\n\nimport { htmlToHast } from './html-transform-node.js'\n\n/**\n * Create new footnote section node based on footnoteArray mappings\n *\n * @param {{int: string}} citationDict\n * @param {{type: 'citation' | 'existing', oldId: number}[]} footnoteArray\n * @param {Element | undefined} footnoteSection\n * @return {Element}\n */\nexport const genFootnoteSection = (citationDict, footnoteArray, footnoteSection) => {\n  /** @type {Element} */\n  const list = {\n    type: 'element',\n    tagName: 'ol',\n    children: [{ type: 'text', value: '\\n' }],\n  }\n  let oldFootnoteList\n  if (footnoteSection) {\n    oldFootnoteList = footnoteSection.children.find((n) => n.tagName === 'ol')\n  }\n  for (const [idx, item] of footnoteArray.entries()) {\n    const { type, oldId } = item\n    if (type === 'citation') {\n      list.children.push({\n        type: 'element',\n        tagName: 'li',\n        properties: { id: `user-content-fn-${idx + 1}` },\n        children: [\n          {\n            type: 'element',\n            tagName: 'p',\n            properties: {},\n            children: [\n              htmlToHast(`<span>${citationDict[oldId]}</span>`),\n              {\n                type: 'element',\n                tagName: 'a',\n                properties: {\n                  href: `#user-content-fnref-${idx + 1}`,\n                  dataFootnoteBackref: true,\n                  className: ['data-footnote-backref'],\n                  ariaLabel: 'Back to content',\n                },\n                children: [{ type: 'text', value: '↩' }],\n              },\n            ],\n          },\n          { type: 'text', value: '\\n' },\n        ],\n      })\n    } else if (type === 'existing') {\n      // @ts-ignore\n      const liNode = oldFootnoteList.children.find(\n        (n) => n.tagName === 'li' && n.properties.id === `user-content-fn-${oldId}`\n      )\n      liNode.properties.id = `user-content-fn-${idx + 1}`\n      const aNode = liNode.children[1].children.find((n) => n.tagName === 'a')\n      aNode.properties.href = `#user-content-fnref-${idx + 1}`\n      list.children.push(liNode)\n    }\n  }\n\n  /** @type {Element} */\n  const newfootnoteSection = {\n    type: 'element',\n    tagName: 'section',\n    properties: { dataFootnotes: true, className: ['footnotes'] },\n    children: [\n      {\n        type: 'element',\n        tagName: 'h2',\n        properties: { className: ['sr-only'], id: 'footnote-label' },\n        children: [{ type: 'text', value: 'Footnotes' }],\n      },\n      { type: 'text', value: '\\n' },\n      list,\n    ],\n  }\n  return newfootnoteSection\n}\n","//@ts-nocheck\n/**\n * @typedef {import('hast').Node} Node\n * @typedef {import('hast').Parent} Parent\n * @typedef {import('hast').Root} Root\n * @typedef {import('hast').Element} Element\n * @typedef {import('unist-util-visit').Visitor<Node>} Visitor\n * @typedef {import('./types').CiteItem} CiteItem\n * @typedef {import('./types').Mode} Mode\n * @typedef {import('./types').Options} Options\n */\n\nimport { visit } from 'unist-util-visit'\nimport fetch from 'cross-fetch'\nimport { parseCitation } from './parse-citation.js'\nimport { genCitation } from './gen-citation.js'\nimport { genBiblioNode } from './gen-biblio.js'\nimport { genFootnoteSection } from './gen-footnote.js'\nimport { citationRE } from './regex.js'\nimport {\n  isNode,\n  isValidHttpUrl,\n  readFile,\n  getBibliography,\n  loadCSL,\n  loadLocale,\n  getCitationFormat,\n} from './utils.js'\n\nconst defaultCiteFormat = 'apa'\nconst permittedTags = ['div', 'p', 'span', 'li', 'td', 'th']\nconst idRoot = 'CITATION'\n\n/**\n * Rehype plugin that formats citations in markdown documents and insert bibliography in html format\n *\n *    [-@wadler1990]                              --> (1990)\n *    [@hughes1989, sec 3.4]                      --> (Hughes 1989, sec 3.4)\n *    [see @wadler1990; and @hughes1989, pp. 4]   --> (see Wadler 1990 and Hughes 1989, pp. 4)\n *\n * @param {*} Cite cite object from citation-js configured with the required CSLs\n * @return {import('unified').Plugin<[Options?], Root>}\n */\nconst rehypeCitationGenerator = (Cite) => {\n  return (options = {}) => {\n    return async (tree, file) => {\n      let bibliography = await getBibliography(options, file)\n      if (!bibliography) {\n        return\n      }\n\n      /** @type {string} */\n      let bibtexFile\n      /** @type {string} */ // @ts-ignore\n      const inputCiteformat = options.csl || file?.data?.frontmatter?.csl || defaultCiteFormat\n      const inputLang = options.lang || 'en-US'\n      const config = Cite.plugins.config.get('@csl')\n      const citeFormat = await loadCSL(Cite, inputCiteformat, options.path)\n      const lang = await loadLocale(Cite, inputLang, options.path)\n\n      if (isValidHttpUrl(bibliography)) {\n        isNode\n        const response = await fetch(bibliography)\n        bibtexFile = await response.text()\n      } else {\n        if (isNode) {\n          bibtexFile = await readFile(bibliography)\n        } else {\n          throw new Error(`Cannot read non valid bibliography URL in node env.`)\n        }\n      }\n\n      const citations = new Cite(bibtexFile)\n      const citationIds = citations.data.map((x) => x.id)\n      const citationPre = []\n      const citationDict = {}\n      let citationId = 1\n      const citeproc = config.engine(citations.data, citeFormat, lang, 'html')\n      /** @type {Mode} */\n      const mode = citeproc.opt.xclass\n      const citationFormat = getCitationFormat(citeproc)\n\n      visit(tree, 'text', (node, idx, parent) => {\n        const match = node.value.match(citationRE)\n        //@ts-ignore\n        if (!match || !permittedTags.includes(parent.tagName)) return\n        let citeStartIdx = match.index\n        let citeEndIdx = match.index + match[0].length\n        // If we have an in-text citation and we should suppress the author, the\n        // match.index does NOT include the positive lookbehind, so we have to manually\n        // shift \"from\" to one before.\n        if (match[2] !== undefined) {\n          citeStartIdx--\n        }\n        const newChildren = []\n        // if preceding string\n        if (citeStartIdx !== 0) {\n          // create a new child node\n          newChildren.push({\n            type: 'text',\n            value: node.value.slice(0, citeStartIdx),\n          })\n        }\n\n        const [entries, isComposite] = parseCitation(match)\n\n        // If id is not in citation file (e.g. route alias or js package), abort process\n        for (const citeItem of entries) {\n          if (!citationIds.includes(citeItem.id)) return\n        }\n        const [citedText, citedTextNode] = genCitation(\n          citeproc,\n          mode,\n          entries,\n          idRoot,\n          citationId,\n          citationPre,\n          options,\n          isComposite,\n          citationFormat\n        )\n        citationDict[citationId] = citedText\n\n        // Prepare citationPre and citationId for the next cite instance\n        citationPre.push([`${idRoot}-${citationId}`, 0])\n        citationId = citationId + 1\n\n        newChildren.push(citedTextNode)\n\n        // if trailing string\n        if (citeEndIdx < node.value.length) {\n          newChildren.push({\n            type: 'text',\n            value: node.value.slice(citeEndIdx),\n          })\n        }\n\n        // insert into the parent\n        // @ts-ignore\n        parent.children = [\n          ...parent.children.slice(0, idx),\n          ...newChildren,\n          ...parent.children.slice(idx + 1),\n        ]\n      })\n\n      if (options.noCite) {\n        citeproc.updateItems(options.noCite.map((x) => x.replace('@', '')))\n      }\n\n      if (\n        citeproc.registry.mylist.length >= 1 &&\n        (!options.suppressBibliography || options.inlineBibClass?.length > 0)\n      ) {\n        const biblioNode = genBiblioNode(citeproc)\n        let bilioInserted = false\n\n        const biblioMap = {}\n        biblioNode.children\n          .filter((node) => node.properties?.className?.includes('csl-entry'))\n          .forEach((node) => {\n            const citekey = node.properties.id.split('-').slice(1).join('-')\n            biblioMap[citekey] = { ...node }\n            biblioMap[citekey].properties = { id: 'inlinebib-' + citekey }\n          })\n\n        // Insert it at ^ref, if not found insert it as the last element of the tree\n        visit(tree, 'element', (node, idx, parent) => {\n          // Add inline bibliography\n          if (\n            options.inlineBibClass?.length > 0 &&\n            node.properties?.id?.toString().startsWith('citation-')\n          ) {\n            // id is citation--nash1951--nash1950--1\n            const [, ...citekeys] = node.properties.id.toString().split('--')\n            const citationID = citekeys.pop()\n\n            const inlineBibNode = {\n              type: 'element',\n              tagName: 'div',\n              properties: {\n                className: options.inlineBibClass,\n                id: `inlineBib--${citekeys.join('--')}--${citationID}`,\n              },\n              children: citekeys.map((citekey) => {\n                const aBibNode = biblioMap[citekey]\n                aBibNode.properties = {\n                  class: 'inline-entry',\n                  id: `inline--${citekey}--${citationID}`,\n                }\n                return aBibNode\n              }),\n            }\n            parent.children.push(inlineBibNode)\n          }\n\n          // Add bibliography\n          if (\n            !options.suppressBibliography &&\n            (node.tagName === 'p' || node.tagName === 'div') &&\n            node.children[0].value === '[^ref]'\n          ) {\n            parent.children[idx] = biblioNode\n            bilioInserted = true\n          }\n        })\n\n        if (!options.suppressBibliography && !bilioInserted) {\n          tree.children.push(biblioNode)\n        }\n      }\n\n      let footnoteSection\n      visit(tree, 'element', (node, index, parent) => {\n        if (node.tagName === 'section' && node.properties.dataFootnotes) {\n          footnoteSection = node\n          parent.children.splice(index, 1)\n        }\n      })\n\n      // Need to adjust footnote numbering based on existing ones already assigned\n      // And insert them into the footnote section (if exists)\n      // Footnote comes after bibliography\n      if (mode === 'note' && Object.keys(citationDict).length > 0) {\n        /** @type {{type: 'citation' | 'existing', oldId: number}[]} */\n        let fnArray = []\n        let index = 1\n        visit(tree, 'element', (node) => {\n          if (node.tagName === 'sup') {\n            let nextNode = node.children[0]\n            if (nextNode.tagName === 'a') {\n              // @ts-ignore\n              const { href, id } = nextNode.properties\n              if (href.includes('fn') && id.includes('fnref')) {\n                const oldId = href.split('-').pop()\n                fnArray.push({\n                  type: href.includes('cite') ? 'citation' : 'existing',\n                  oldId,\n                })\n                // Update ref number\n                // @ts-ignore\n                nextNode.properties.href = `#user-content-fn-${index}`\n                // @ts-ignore\n                nextNode.properties.id = `user-content-fnref-${index}`\n                nextNode.children[0].value = index.toString()\n                index += 1\n              }\n            }\n          }\n        })\n        // @ts-ignore\n        const newFootnoteSection = genFootnoteSection(citationDict, fnArray, footnoteSection)\n        tree.children.push(newFootnoteSection)\n      } else {\n        if (footnoteSection) tree.children.push(footnoteSection)\n      }\n    }\n  }\n}\n\nexport default rehypeCitationGenerator\n","//@ts-nocheck\nimport Cite from './index.js'\nfunction currentVersion() {\n  return this.log.length\n}\nfunction retrieveVersion(versnum = 1) {\n  if (versnum <= 0 || versnum > this.currentVersion()) {\n    return null\n  } else {\n    const [data, options] = this.log[versnum - 1]\n    const image = new Cite(JSON.parse(data), JSON.parse(options))\n    image.log = this.log.slice(0, versnum)\n    return image\n  }\n}\nfunction undo(number = 1) {\n  return this.retrieveVersion(this.currentVersion() - number)\n}\nfunction retrieveLastVersion() {\n  return this.retrieveVersion(this.currentVersion())\n}\nfunction save() {\n  this.log.push([JSON.stringify(this.data), JSON.stringify(this._options)])\n  return this\n}\nexport { currentVersion, retrieveVersion, retrieveLastVersion, undo, save }\n","//@ts-nocheck\nconst formats = ['real', 'string']\nconst types = ['json', 'html', 'string', 'rtf']\nconst styles = ['csl', 'bibtex', 'bibtxt', 'citation-*', 'ris', 'ndjson']\nconst wrapperTypes = ['string', 'function']\nexport function validateOutputOptions(options) {\n  if (typeof options !== 'object') {\n    throw new TypeError('Options not an object!')\n  }\n  const { format, type, style, lang, append, prepend } = options\n  if (format && !formats.includes(format)) {\n    throw new TypeError(`Option format (\"${format}\") should be one of: ${formats}`)\n  } else if (type && !types.includes(type)) {\n    throw new TypeError(`Option type (\"${type}\") should be one of: ${types}`)\n  } else if (style && !styles.includes(style) && !/^citation/.test(style)) {\n    throw new TypeError(`Option style (\"${style}\") should be one of: ${styles}`)\n  } else if (lang && typeof lang !== 'string') {\n    throw new TypeError(`Option lang should be a string, but is a ${typeof lang}`)\n  } else if (prepend && !wrapperTypes.includes(typeof prepend)) {\n    throw new TypeError(\n      `Option prepend should be a string or a function, but is a ${typeof prepend}`\n    )\n  } else if (append && !wrapperTypes.includes(typeof append)) {\n    throw new TypeError(`Option append should be a string or a function, but is a ${typeof append}`)\n  }\n  if (/^citation/.test(style) && type === 'json') {\n    throw new Error(`Combination type/style of json/citation-* is not valid: ${type}/${style}`)\n  }\n  return true\n}\nexport function validateOptions(options) {\n  if (typeof options !== 'object') {\n    throw new TypeError('Options should be an object')\n  }\n  if (options.output) {\n    validateOutputOptions(options.output)\n  } else if (options.maxChainLength && typeof options.maxChainLength !== 'number') {\n    throw new TypeError('Option maxChainLength should be a number')\n  } else if (options.forceType && typeof options.forceType !== 'string') {\n    throw new TypeError('Option forceType should be a string')\n  } else if (options.generateGraph != null && typeof options.generateGraph !== 'boolean') {\n    throw new TypeError('Option generateGraph should be a boolean')\n  } else if (options.strict != null && typeof options.strict !== 'boolean') {\n    throw new TypeError('Option strict should be a boolean')\n  } else if (options.target != null && typeof options.target !== 'string') {\n    throw new TypeError('Option target should be a boolean')\n  }\n  return true\n}\n","//@ts-nocheck\nimport { validateOutputOptions as validate } from './validate.js'\nconst defaultOptions = {\n  format: 'real',\n  type: 'json',\n  style: 'csl',\n  lang: 'en-US',\n}\nfunction options(options, log) {\n  validate(options)\n  if (log) {\n    this.save()\n  }\n  Object.assign(this._options, options)\n  return this\n}\nexport { options, defaultOptions }\n","export function typeOf(thing) {\n  switch (thing) {\n    case undefined:\n      return 'Undefined'\n    case null:\n      return 'Null'\n    default:\n      return thing.constructor.name\n  }\n}\nexport function dataTypeOf(thing) {\n  switch (typeof thing) {\n    case 'string':\n      return 'String'\n    case 'object':\n      if (Array.isArray(thing)) {\n        return 'Array'\n      } else if (typeOf(thing) === 'Object') {\n        return 'SimpleObject'\n      } else if (typeOf(thing) !== 'Null') {\n        return 'ComplexObject'\n      }\n    default:\n      return 'Primitive'\n  }\n}\n","export function applyGraph(entry, graph) {\n  if (entry._graph) {\n    const index = graph.findIndex(({ type }) => type === '@else/list+object')\n    if (index !== -1) {\n      graph.splice(index + 1, 0, ...entry._graph.slice(0, -1))\n    }\n  }\n  entry._graph = graph\n  return entry\n}\nexport function removeGraph(entry) {\n  delete entry._graph\n  return entry\n}\n","const logger = {\n  _output(level, scope, msg) {\n    this._log.push(scope, msg)\n    if (this._levels.indexOf(level) < this._levels.indexOf(this.level)) {\n      return\n    }\n    this._console.log(scope, ...msg)\n  },\n  _console: null,\n  _log: [],\n  _levels: ['http', 'debug', 'unmapped', 'info', 'warn', 'error', 'silent'],\n  level: 'silent',\n}\nfor (const level of logger._levels) {\n  logger[level] = (scope, ...msg) => logger._output(level, scope, msg)\n}\nif (typeof console.Console === 'function') {\n  logger._console = new console.Console(process.stderr)\n} else {\n  logger._console = console\n}\nexport default logger\n","import logger from '../../logger.js'\nimport { dataTypeOf } from './dataType.js'\nconst types = {}\nconst dataTypes = {}\nconst unregExts = {}\nfunction parseNativeTypes(input, dataType) {\n  switch (dataType) {\n    case 'Array':\n      if (input.length === 0 || input.every((entry) => type(entry) === '@csl/object')) {\n        return '@csl/list+object'\n      } else {\n        return '@else/list+object'\n      }\n    case 'SimpleObject':\n    case 'ComplexObject':\n      return '@csl/object'\n    default:\n      return '@invalid'\n  }\n}\nfunction matchType(typeList = [], data) {\n  for (const type of typeList) {\n    if (types[type].predicate(data)) {\n      return matchType(types[type].extensions, data) || type\n    }\n  }\n}\nexport function type(input) {\n  const dataType = dataTypeOf(input)\n  if (dataType === 'Array' && input.length === 0) {\n    return parseNativeTypes(input, dataType)\n  }\n  const match = matchType(dataTypes[dataType], input)\n  return match || parseNativeTypes(input, dataType)\n}\nexport function addTypeParser(format, { dataType, predicate, extends: extend }) {\n  let extensions = []\n  if (format in unregExts) {\n    extensions = unregExts[format]\n    delete unregExts[format]\n    logger.debug(\n      '[core]',\n      `Subclasses \"${extensions}\" finally registered to parent type \"${format}\"`\n    )\n  }\n  const object = {\n    predicate,\n    extensions,\n  }\n  types[format] = object\n  if (extend) {\n    const parentTypeParser = types[extend]\n    if (parentTypeParser) {\n      parentTypeParser.extensions.push(format)\n    } else {\n      if (!unregExts[extend]) {\n        unregExts[extend] = []\n      }\n      unregExts[extend].push(format)\n      logger.debug('[core]', `Subclass \"${format}\" is waiting on parent type \"${extend}\"`)\n    }\n  } else {\n    const typeList = dataTypes[dataType] || (dataTypes[dataType] = [])\n    typeList.push(format)\n  }\n}\nexport function hasTypeParser(type) {\n  return Object.prototype.hasOwnProperty.call(types, type)\n}\nexport function removeTypeParser(type) {\n  delete types[type]\n  const typeLists = [\n    ...Object.keys(dataTypes).map((key) => dataTypes[key]),\n    ...Object.keys(types)\n      .map((type) => types[type].extensions)\n      .filter((list) => list.length > 0),\n  ]\n  typeLists.forEach((typeList) => {\n    const index = typeList.indexOf(type)\n    if (index > -1) {\n      typeList.splice(index, 1)\n    }\n  })\n}\nexport function listTypeParser() {\n  return Object.keys(types)\n}\nexport function treeTypeParser() {\n  const attachNode = (name) => ({\n    name,\n    children: types[name].extensions.map(attachNode),\n  })\n  return {\n    name: 'Type tree',\n    children: Object.keys(dataTypes).map((name) => ({\n      name,\n      children: dataTypes[name].map(attachNode),\n    })),\n  }\n}\nexport const typeMatcher = /^(?:@(.+?))(?:\\/(?:(.+?)\\+)?(?:(.+)))?$/\n","//@ts-nocheck\nfunction _defineProperty(obj, key, value) {\n  key = _toPropertyKey(key)\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true,\n    })\n  } else {\n    obj[key] = value\n  }\n  return obj\n}\nfunction _toPropertyKey(arg) {\n  var key = _toPrimitive(arg, 'string')\n  return typeof key === 'symbol' ? key : String(key)\n}\nfunction _toPrimitive(input, hint) {\n  if (typeof input !== 'object' || input === null) return input\n  var prim = input[Symbol.toPrimitive]\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || 'default')\n    if (typeof res !== 'object') return res\n    throw new TypeError('@@toPrimitive must return a primitive value.')\n  }\n  return (hint === 'string' ? String : Number)(input)\n}\nimport { type, typeMatcher } from './type.js'\nclass TypeParser {\n  constructor(data) {\n    _defineProperty(this, 'validDataTypes', [\n      'String',\n      'Array',\n      'SimpleObject',\n      'ComplexObject',\n      'Primitive',\n    ])\n    this.data = data\n  }\n  validateDataType() {\n    const dataType = this.data.dataType\n    if (dataType && !this.validDataTypes.includes(dataType)) {\n      throw new RangeError(`dataType was ${dataType}; expected one of ${this.validDataTypes}`)\n    }\n  }\n  validateParseType() {\n    const predicate = this.data.predicate\n    if (predicate && !(predicate instanceof RegExp || typeof predicate === 'function')) {\n      throw new TypeError(`predicate was ${typeof predicate}; expected RegExp or function`)\n    }\n  }\n  validateTokenList() {\n    const tokenList = this.data.tokenList\n    if (tokenList && typeof tokenList !== 'object') {\n      throw new TypeError(`tokenList was ${typeof tokenList}; expected object or RegExp`)\n    }\n  }\n  validatePropertyConstraint() {\n    const propertyConstraint = this.data.propertyConstraint\n    if (propertyConstraint && typeof propertyConstraint !== 'object') {\n      throw new TypeError(\n        `propertyConstraint was ${typeof propertyConstraint}; expected array or object`\n      )\n    }\n  }\n  validateElementConstraint() {\n    const elementConstraint = this.data.elementConstraint\n    if (elementConstraint && typeof elementConstraint !== 'string') {\n      throw new TypeError(`elementConstraint was ${typeof elementConstraint}; expected string`)\n    }\n  }\n  validateExtends() {\n    const extend = this.data.extends\n    if (extend && typeof extend !== 'string') {\n      throw new TypeError(`extends was ${typeof extend}; expected string`)\n    }\n  }\n  validate() {\n    if (this.data === null || typeof this.data !== 'object') {\n      throw new TypeError(`typeParser was ${typeof this.data}; expected object`)\n    }\n    this.validateDataType()\n    this.validateParseType()\n    this.validateTokenList()\n    this.validatePropertyConstraint()\n    this.validateElementConstraint()\n    this.validateExtends()\n  }\n  parseTokenList() {\n    let tokenList = this.data.tokenList\n    if (!tokenList) {\n      return []\n    } else if (tokenList instanceof RegExp) {\n      tokenList = {\n        token: tokenList,\n      }\n    }\n    const { token, split = /\\s+/, trim = true, every = true } = tokenList\n    const trimInput = (input) => (trim ? input.trim() : input)\n    const testTokens = every ? 'every' : 'some'\n    const predicate = (input) =>\n      trimInput(input)\n        .split(split)\n        [testTokens]((part) => token.test(part))\n    return [predicate]\n  }\n  parsePropertyConstraint() {\n    const constraints = [].concat(this.data.propertyConstraint || [])\n    return constraints.map(({ props, match, value }) => {\n      props = [].concat(props)\n      switch (match) {\n        case 'any':\n        case 'some':\n          return (input) => props.some((prop) => prop in input && (!value || value(input[prop])))\n        case 'none':\n          return (input) => !props.some((prop) => prop in input && (!value || value(input[prop])))\n        case 'every':\n        default:\n          return (input) => props.every((prop) => prop in input && (!value || value(input[prop])))\n      }\n    })\n  }\n  parseElementConstraint() {\n    const constraint = this.data.elementConstraint\n    return !constraint ? [] : [(input) => input.every((entry) => type(entry) === constraint)]\n  }\n  parsePredicate() {\n    if (this.data.predicate instanceof RegExp) {\n      return [this.data.predicate.test.bind(this.data.predicate)]\n    } else if (this.data.predicate) {\n      return [this.data.predicate]\n    } else {\n      return []\n    }\n  }\n  getCombinedPredicate() {\n    const predicates = [\n      ...this.parsePredicate(),\n      ...this.parseTokenList(),\n      ...this.parsePropertyConstraint(),\n      ...this.parseElementConstraint(),\n    ]\n    if (predicates.length === 0) {\n      return () => true\n    } else if (predicates.length === 1) {\n      return predicates[0]\n    } else {\n      return (input) => predicates.every((predicate) => predicate(input))\n    }\n  }\n  getDataType() {\n    if (this.data.dataType) {\n      return this.data.dataType\n    } else if (this.data.predicate instanceof RegExp) {\n      return 'String'\n    } else if (this.data.tokenList) {\n      return 'String'\n    } else if (this.data.elementConstraint) {\n      return 'Array'\n    } else {\n      return 'Primitive'\n    }\n  }\n  get dataType() {\n    return this.getDataType()\n  }\n  get predicate() {\n    return this.getCombinedPredicate()\n  }\n  get extends() {\n    return this.data.extends\n  }\n}\nclass DataParser {\n  constructor(parser, { async } = {}) {\n    this.parser = parser\n    this.async = async\n  }\n  validate() {\n    const parser = this.parser\n    if (typeof parser !== 'function') {\n      throw new TypeError(`parser was ${typeof parser}; expected function`)\n    }\n  }\n}\nclass FormatParser {\n  constructor(format, parsers = {}) {\n    this.format = format\n    if (parsers.parseType) {\n      this.typeParser = new TypeParser(parsers.parseType)\n    }\n    if (parsers.parse) {\n      this.dataParser = new DataParser(parsers.parse, {\n        async: false,\n      })\n    }\n    if (parsers.parseAsync) {\n      this.asyncDataParser = new DataParser(parsers.parseAsync, {\n        async: true,\n      })\n    }\n  }\n  validateFormat() {\n    const format = this.format\n    if (!typeMatcher.test(format)) {\n      throw new TypeError(`format name was \"${format}\"; didn't match expected pattern`)\n    }\n  }\n  validate() {\n    this.validateFormat()\n    if (this.typeParser) {\n      this.typeParser.validate()\n    }\n    if (this.dataParser) {\n      this.dataParser.validate()\n    }\n    if (this.asyncDataParser) {\n      this.asyncDataParser.validate()\n    }\n  }\n}\nexport { TypeParser, DataParser, FormatParser }\n","function ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object)\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object)\n    enumerableOnly &&\n      (symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable\n      })),\n      keys.push.apply(keys, symbols)\n  }\n  return keys\n}\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {}\n    i % 2\n      ? ownKeys(Object(source), !0).forEach(function (key) {\n          _defineProperty(target, key, source[key])\n        })\n      : Object.getOwnPropertyDescriptors\n      ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source))\n      : ownKeys(Object(source)).forEach(function (key) {\n          Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key))\n        })\n  }\n  return target\n}\nfunction _defineProperty(obj, key, value) {\n  key = _toPropertyKey(key)\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true,\n    })\n  } else {\n    obj[key] = value\n  }\n  return obj\n}\nfunction _toPropertyKey(arg) {\n  var key = _toPrimitive(arg, 'string')\n  return typeof key === 'symbol' ? key : String(key)\n}\nfunction _toPrimitive(input, hint) {\n  if (typeof input !== 'object' || input === null) return input\n  var prim = input[Symbol.toPrimitive]\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || 'default')\n    if (typeof res !== 'object') return res\n    throw new TypeError('@@toPrimitive must return a primitive value.')\n  }\n  return (hint === 'string' ? String : Number)(input)\n}\nimport { parse as parseName } from '@citation-js/name'\nconst NAME = 1\nconst NAME_LIST = 2\nconst DATE = 3\nconst TYPE = 4\nconst entryTypes = {\n  article: true,\n  'article-journal': true,\n  'article-magazine': true,\n  'article-newspaper': true,\n  bill: true,\n  book: true,\n  broadcast: true,\n  chapter: true,\n  classic: true,\n  collection: true,\n  dataset: true,\n  document: true,\n  entry: true,\n  'entry-dictionary': true,\n  'entry-encyclopedia': true,\n  event: true,\n  figure: true,\n  graphic: true,\n  hearing: true,\n  interview: true,\n  legal_case: true,\n  legislation: true,\n  manuscript: true,\n  map: true,\n  motion_picture: true,\n  musical_score: true,\n  pamphlet: true,\n  'paper-conference': true,\n  patent: true,\n  performance: true,\n  periodical: true,\n  personal_communication: true,\n  post: true,\n  'post-weblog': true,\n  regulation: true,\n  report: true,\n  review: true,\n  'review-book': true,\n  software: true,\n  song: true,\n  speech: true,\n  standard: true,\n  thesis: true,\n  treaty: true,\n  webpage: true,\n  'journal-article': 'article-journal',\n  'book-chapter': 'chapter',\n  'posted-content': 'manuscript',\n  'proceedings-article': 'paper-conference',\n}\nconst fieldTypes = {\n  author: NAME_LIST,\n  chair: NAME_LIST,\n  'collection-editor': NAME_LIST,\n  compiler: NAME_LIST,\n  composer: NAME_LIST,\n  'container-author': NAME_LIST,\n  contributor: NAME_LIST,\n  curator: NAME_LIST,\n  director: NAME_LIST,\n  editor: NAME_LIST,\n  'editorial-director': NAME_LIST,\n  'executive-producer': NAME_LIST,\n  guest: NAME_LIST,\n  host: NAME_LIST,\n  interviewer: NAME_LIST,\n  illustrator: NAME_LIST,\n  narrator: NAME_LIST,\n  organizer: NAME_LIST,\n  'original-author': NAME_LIST,\n  performer: NAME_LIST,\n  producer: NAME_LIST,\n  'reviewed-author': NAME_LIST,\n  recipient: NAME_LIST,\n  'script-writer': NAME_LIST,\n  'series-creator': NAME_LIST,\n  translator: NAME_LIST,\n  accessed: DATE,\n  'available-date': DATE,\n  container: DATE,\n  'event-date': DATE,\n  issued: DATE,\n  'original-date': DATE,\n  submitted: DATE,\n  type: TYPE,\n  categories: 'object',\n  custom: 'object',\n  id: ['string', 'number'],\n  language: 'string',\n  journalAbbreviation: 'string',\n  shortTitle: 'string',\n  abstract: 'string',\n  annote: 'string',\n  archive: 'string',\n  archive_collection: 'string',\n  archive_location: 'string',\n  'archive-place': 'string',\n  authority: 'string',\n  'call-number': 'string',\n  'chapter-number': 'string',\n  'citation-number': 'string',\n  'citation-key': 'string',\n  'citation-label': 'string',\n  'collection-number': 'string',\n  'collection-title': 'string',\n  'container-title': 'string',\n  'container-title-short': 'string',\n  dimensions: 'string',\n  division: 'string',\n  DOI: 'string',\n  edition: ['string', 'number'],\n  event: 'string',\n  'event-title': 'string',\n  'event-place': 'string',\n  'first-reference-note-number': 'string',\n  genre: 'string',\n  ISBN: 'string',\n  ISSN: 'string',\n  issue: ['string', 'number'],\n  jurisdiction: 'string',\n  keyword: 'string',\n  locator: 'string',\n  medium: 'string',\n  note: 'string',\n  number: ['string', 'number'],\n  'number-of-pages': 'string',\n  'number-of-volumes': ['string', 'number'],\n  'original-publisher': 'string',\n  'original-publisher-place': 'string',\n  'original-title': 'string',\n  page: 'string',\n  'page-first': 'string',\n  'part-number': ['string', 'number'],\n  'part-title': 'string',\n  PMCID: 'string',\n  PMID: 'string',\n  printing: 'string',\n  publisher: 'string',\n  'publisher-place': 'string',\n  references: 'string',\n  'reviewed-title': 'string',\n  'reviewed-genre': 'string',\n  scale: 'string',\n  section: 'string',\n  source: 'string',\n  status: 'string',\n  supplement: ['string', 'number'],\n  title: 'string',\n  'title-short': 'string',\n  URL: 'string',\n  version: 'string',\n  volume: ['string', 'number'],\n  'volume-title': 'string',\n  'volume-title-short': 'string',\n  'year-suffix': 'string',\n}\nfunction correctName(name, bestGuessConversions) {\n  if (typeof name === 'object' && name !== null && (name.literal || name.given || name.family)) {\n    return name\n  } else if (!bestGuessConversions) {\n    return undefined\n  } else if (typeof name === 'string') {\n    return parseName(name)\n  }\n}\nfunction correctNameList(nameList, bestGuessConversions) {\n  if (nameList instanceof Array) {\n    const names = nameList.map((name) => correctName(name, bestGuessConversions)).filter(Boolean)\n    return names.length ? names : undefined\n  }\n}\nfunction correctDateParts(dateParts, bestGuessConversions) {\n  if (dateParts.every((part) => typeof part === 'number')) {\n    return dateParts\n  } else if (!bestGuessConversions || dateParts.some((part) => isNaN(parseInt(part)))) {\n    return undefined\n  } else {\n    return dateParts.map((part) => parseInt(part))\n  }\n}\nfunction correctDate(date, bestGuessConversions) {\n  const dp = 'date-parts'\n  if (typeof date !== 'object' || date === null) {\n    return undefined\n  } else if (date[dp] instanceof Array && date[dp].every((part) => part instanceof Array)) {\n    const range = date[dp]\n      .map((dateParts) => correctDateParts(dateParts, bestGuessConversions))\n      .filter(Boolean)\n    return range.length\n      ? _objectSpread(\n          _objectSpread({}, date),\n          {},\n          {\n            'date-parts': range,\n          }\n        )\n      : undefined\n  } else if (date instanceof Array && date.every((part) => part[dp] instanceof Array)) {\n    const range = date\n      .map((dateParts) => correctDateParts(dateParts[dp], bestGuessConversions))\n      .filter(Boolean)\n    return range.length\n      ? {\n          'date-parts': range,\n        }\n      : undefined\n  } else if (date[dp] instanceof Array) {\n    const dateParts = correctDateParts(date[dp], bestGuessConversions)\n    return (\n      dateParts && {\n        'date-parts': [dateParts],\n      }\n    )\n  } else if ('literal' in date || 'raw' in date) {\n    return date\n  }\n}\nfunction correctType(type, bestGuessConversions) {\n  type = correctField('language', type, bestGuessConversions)\n  if (entryTypes[type] === true) {\n    return type\n  } else if (bestGuessConversions && type in entryTypes) {\n    return entryTypes[type]\n  } else {\n    return undefined\n  }\n}\nfunction correctField(fieldName, value, bestGuessConversions) {\n  const fieldType = [].concat(fieldTypes[fieldName])\n  switch (fieldTypes[fieldName]) {\n    case NAME:\n      return correctName(value, bestGuessConversions)\n    case NAME_LIST:\n      return correctNameList(value, bestGuessConversions)\n    case DATE:\n      return correctDate(value, bestGuessConversions)\n    case TYPE:\n      return correctType(value, bestGuessConversions)\n  }\n  if (bestGuessConversions) {\n    if (\n      typeof value === 'string' &&\n      fieldType.includes('number') &&\n      !fieldType.includes('string') &&\n      !isNaN(+value)\n    ) {\n      return parseFloat(value)\n    } else if (\n      typeof value === 'number' &&\n      fieldType.includes('string') &&\n      !fieldType.includes('number')\n    ) {\n      return value.toString()\n    } else if (Array.isArray(value) && value.length) {\n      return correctField(fieldName, value[0], bestGuessConversions)\n    }\n  }\n  if (fieldType.includes(typeof value)) {\n    return value\n  }\n}\nfunction parseCsl(data, bestGuessConversions = true) {\n  return data.map(function (entry) {\n    const clean = {}\n    for (const field in entry) {\n      const correction = correctField(field, entry[field], bestGuessConversions)\n      if (correction !== undefined) {\n        clean[field] = correction\n      }\n    }\n    return clean\n  })\n}\nexport { parseCsl as clean }\n","function ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object)\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object)\n    enumerableOnly &&\n      (symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable\n      })),\n      keys.push.apply(keys, symbols)\n  }\n  return keys\n}\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {}\n    i % 2\n      ? ownKeys(Object(source), !0).forEach(function (key) {\n          _defineProperty(target, key, source[key])\n        })\n      : Object.getOwnPropertyDescriptors\n      ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source))\n      : ownKeys(Object(source)).forEach(function (key) {\n          Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key))\n        })\n  }\n  return target\n}\nfunction _defineProperty(obj, key, value) {\n  key = _toPropertyKey(key)\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true,\n    })\n  } else {\n    obj[key] = value\n  }\n  return obj\n}\nfunction _toPropertyKey(arg) {\n  var key = _toPrimitive(arg, 'string')\n  return typeof key === 'symbol' ? key : String(key)\n}\nfunction _toPrimitive(input, hint) {\n  if (typeof input !== 'object' || input === null) return input\n  var prim = input[Symbol.toPrimitive]\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || 'default')\n    if (typeof res !== 'object') return res\n    throw new TypeError('@@toPrimitive must return a primitive value.')\n  }\n  return (hint === 'string' ? String : Number)(input)\n}\nexport function upgradeCsl(item) {\n  if (Array.isArray(item)) {\n    return item.map(upgradeCsl)\n  }\n  item = _objectSpread({}, item)\n  if ('event' in item) {\n    item['event-title'] = item.event\n    delete item.event\n  }\n  if (item.type === 'book' && 'version' in item) {\n    item.type = 'software'\n  }\n  return item\n}\nexport function downgradeCsl(item) {\n  if (Array.isArray(item)) {\n    return item.map(downgradeCsl)\n  }\n  item = _objectSpread({}, item)\n  if ('event-title' in item) {\n    item.event = item['event-title']\n    delete item['event-title']\n  }\n  if (item.type === 'software') {\n    item.type = 'book'\n  }\n  return item\n}\n","export function deepCopy(value, seen = new Set()) {\n  if (\n    typeof value !== 'object' ||\n    value === null ||\n    (value.constructor !== Object && value.constructor !== Array)\n  ) {\n    return value\n  }\n  if (seen.has(value)) {\n    throw new TypeError('Recursively copying circular structure')\n  }\n  seen.add(value)\n  let copy\n  if (value.constructor === Array) {\n    copy = value.map((value) => deepCopy(value, seen))\n  } else {\n    const object = {}\n    for (const key in value) {\n      object[key] = deepCopy(value[key], seen)\n    }\n    copy = object\n  }\n  seen.delete(value)\n  return copy\n}\nexport default deepCopy\n","\"use strict\";\n\nvar conversions = {};\nmodule.exports = conversions;\n\nfunction sign(x) {\n    return x < 0 ? -1 : 1;\n}\n\nfunction evenRound(x) {\n    // Round x to the nearest integer, choosing the even integer if it lies halfway between two.\n    if ((x % 1) === 0.5 && (x & 1) === 0) { // [even number].5; round down (i.e. floor)\n        return Math.floor(x);\n    } else {\n        return Math.round(x);\n    }\n}\n\nfunction createNumberConversion(bitLength, typeOpts) {\n    if (!typeOpts.unsigned) {\n        --bitLength;\n    }\n    const lowerBound = typeOpts.unsigned ? 0 : -Math.pow(2, bitLength);\n    const upperBound = Math.pow(2, bitLength) - 1;\n\n    const moduloVal = typeOpts.moduloBitLength ? Math.pow(2, typeOpts.moduloBitLength) : Math.pow(2, bitLength);\n    const moduloBound = typeOpts.moduloBitLength ? Math.pow(2, typeOpts.moduloBitLength - 1) : Math.pow(2, bitLength - 1);\n\n    return function(V, opts) {\n        if (!opts) opts = {};\n\n        let x = +V;\n\n        if (opts.enforceRange) {\n            if (!Number.isFinite(x)) {\n                throw new TypeError(\"Argument is not a finite number\");\n            }\n\n            x = sign(x) * Math.floor(Math.abs(x));\n            if (x < lowerBound || x > upperBound) {\n                throw new TypeError(\"Argument is not in byte range\");\n            }\n\n            return x;\n        }\n\n        if (!isNaN(x) && opts.clamp) {\n            x = evenRound(x);\n\n            if (x < lowerBound) x = lowerBound;\n            if (x > upperBound) x = upperBound;\n            return x;\n        }\n\n        if (!Number.isFinite(x) || x === 0) {\n            return 0;\n        }\n\n        x = sign(x) * Math.floor(Math.abs(x));\n        x = x % moduloVal;\n\n        if (!typeOpts.unsigned && x >= moduloBound) {\n            return x - moduloVal;\n        } else if (typeOpts.unsigned) {\n            if (x < 0) {\n              x += moduloVal;\n            } else if (x === -0) { // don't return negative zero\n              return 0;\n            }\n        }\n\n        return x;\n    }\n}\n\nconversions[\"void\"] = function () {\n    return undefined;\n};\n\nconversions[\"boolean\"] = function (val) {\n    return !!val;\n};\n\nconversions[\"byte\"] = createNumberConversion(8, { unsigned: false });\nconversions[\"octet\"] = createNumberConversion(8, { unsigned: true });\n\nconversions[\"short\"] = createNumberConversion(16, { unsigned: false });\nconversions[\"unsigned short\"] = createNumberConversion(16, { unsigned: true });\n\nconversions[\"long\"] = createNumberConversion(32, { unsigned: false });\nconversions[\"unsigned long\"] = createNumberConversion(32, { unsigned: true });\n\nconversions[\"long long\"] = createNumberConversion(32, { unsigned: false, moduloBitLength: 64 });\nconversions[\"unsigned long long\"] = createNumberConversion(32, { unsigned: true, moduloBitLength: 64 });\n\nconversions[\"double\"] = function (V) {\n    const x = +V;\n\n    if (!Number.isFinite(x)) {\n        throw new TypeError(\"Argument is not a finite floating-point value\");\n    }\n\n    return x;\n};\n\nconversions[\"unrestricted double\"] = function (V) {\n    const x = +V;\n\n    if (isNaN(x)) {\n        throw new TypeError(\"Argument is NaN\");\n    }\n\n    return x;\n};\n\n// not quite valid, but good enough for JS\nconversions[\"float\"] = conversions[\"double\"];\nconversions[\"unrestricted float\"] = conversions[\"unrestricted double\"];\n\nconversions[\"DOMString\"] = function (V, opts) {\n    if (!opts) opts = {};\n\n    if (opts.treatNullAsEmptyString && V === null) {\n        return \"\";\n    }\n\n    return String(V);\n};\n\nconversions[\"ByteString\"] = function (V, opts) {\n    const x = String(V);\n    let c = undefined;\n    for (let i = 0; (c = x.codePointAt(i)) !== undefined; ++i) {\n        if (c > 255) {\n            throw new TypeError(\"Argument is not a valid bytestring\");\n        }\n    }\n\n    return x;\n};\n\nconversions[\"USVString\"] = function (V) {\n    const S = String(V);\n    const n = S.length;\n    const U = [];\n    for (let i = 0; i < n; ++i) {\n        const c = S.charCodeAt(i);\n        if (c < 0xD800 || c > 0xDFFF) {\n            U.push(String.fromCodePoint(c));\n        } else if (0xDC00 <= c && c <= 0xDFFF) {\n            U.push(String.fromCodePoint(0xFFFD));\n        } else {\n            if (i === n - 1) {\n                U.push(String.fromCodePoint(0xFFFD));\n            } else {\n                const d = S.charCodeAt(i + 1);\n                if (0xDC00 <= d && d <= 0xDFFF) {\n                    const a = c & 0x3FF;\n                    const b = d & 0x3FF;\n                    U.push(String.fromCodePoint((2 << 15) + (2 << 9) * a + b));\n                    ++i;\n                } else {\n                    U.push(String.fromCodePoint(0xFFFD));\n                }\n            }\n        }\n    }\n\n    return U.join('');\n};\n\nconversions[\"Date\"] = function (V, opts) {\n    if (!(V instanceof Date)) {\n        throw new TypeError(\"Argument is not a Date object\");\n    }\n    if (isNaN(V)) {\n        return undefined;\n    }\n\n    return V;\n};\n\nconversions[\"RegExp\"] = function (V, opts) {\n    if (!(V instanceof RegExp)) {\n        V = new RegExp(V);\n    }\n\n    return V;\n};\n","\"use strict\";\n\nmodule.exports.mixin = function mixin(target, source) {\n  const keys = Object.getOwnPropertyNames(source);\n  for (let i = 0; i < keys.length; ++i) {\n    Object.defineProperty(target, keys[i], Object.getOwnPropertyDescriptor(source, keys[i]));\n  }\n};\n\nmodule.exports.wrapperSymbol = Symbol(\"wrapper\");\nmodule.exports.implSymbol = Symbol(\"impl\");\n\nmodule.exports.wrapperForImpl = function (impl) {\n  return impl[module.exports.wrapperSymbol];\n};\n\nmodule.exports.implForWrapper = function (wrapper) {\n  return wrapper[module.exports.implSymbol];\n};\n\n","\"use strict\";\n\nvar punycode = require(\"punycode\");\nvar mappingTable = require(\"./lib/mappingTable.json\");\n\nvar PROCESSING_OPTIONS = {\n  TRANSITIONAL: 0,\n  NONTRANSITIONAL: 1\n};\n\nfunction normalize(str) { // fix bug in v8\n  return str.split('\\u0000').map(function (s) { return s.normalize('NFC'); }).join('\\u0000');\n}\n\nfunction findStatus(val) {\n  var start = 0;\n  var end = mappingTable.length - 1;\n\n  while (start <= end) {\n    var mid = Math.floor((start + end) / 2);\n\n    var target = mappingTable[mid];\n    if (target[0][0] <= val && target[0][1] >= val) {\n      return target;\n    } else if (target[0][0] > val) {\n      end = mid - 1;\n    } else {\n      start = mid + 1;\n    }\n  }\n\n  return null;\n}\n\nvar regexAstralSymbols = /[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/g;\n\nfunction countSymbols(string) {\n  return string\n    // replace every surrogate pair with a BMP symbol\n    .replace(regexAstralSymbols, '_')\n    // then get the length\n    .length;\n}\n\nfunction mapChars(domain_name, useSTD3, processing_option) {\n  var hasError = false;\n  var processed = \"\";\n\n  var len = countSymbols(domain_name);\n  for (var i = 0; i < len; ++i) {\n    var codePoint = domain_name.codePointAt(i);\n    var status = findStatus(codePoint);\n\n    switch (status[1]) {\n      case \"disallowed\":\n        hasError = true;\n        processed += String.fromCodePoint(codePoint);\n        break;\n      case \"ignored\":\n        break;\n      case \"mapped\":\n        processed += String.fromCodePoint.apply(String, status[2]);\n        break;\n      case \"deviation\":\n        if (processing_option === PROCESSING_OPTIONS.TRANSITIONAL) {\n          processed += String.fromCodePoint.apply(String, status[2]);\n        } else {\n          processed += String.fromCodePoint(codePoint);\n        }\n        break;\n      case \"valid\":\n        processed += String.fromCodePoint(codePoint);\n        break;\n      case \"disallowed_STD3_mapped\":\n        if (useSTD3) {\n          hasError = true;\n          processed += String.fromCodePoint(codePoint);\n        } else {\n          processed += String.fromCodePoint.apply(String, status[2]);\n        }\n        break;\n      case \"disallowed_STD3_valid\":\n        if (useSTD3) {\n          hasError = true;\n        }\n\n        processed += String.fromCodePoint(codePoint);\n        break;\n    }\n  }\n\n  return {\n    string: processed,\n    error: hasError\n  };\n}\n\nvar combiningMarksRegex = /[\\u0300-\\u036F\\u0483-\\u0489\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u0610-\\u061A\\u064B-\\u065F\\u0670\\u06D6-\\u06DC\\u06DF-\\u06E4\\u06E7\\u06E8\\u06EA-\\u06ED\\u0711\\u0730-\\u074A\\u07A6-\\u07B0\\u07EB-\\u07F3\\u0816-\\u0819\\u081B-\\u0823\\u0825-\\u0827\\u0829-\\u082D\\u0859-\\u085B\\u08E4-\\u0903\\u093A-\\u093C\\u093E-\\u094F\\u0951-\\u0957\\u0962\\u0963\\u0981-\\u0983\\u09BC\\u09BE-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CD\\u09D7\\u09E2\\u09E3\\u0A01-\\u0A03\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A70\\u0A71\\u0A75\\u0A81-\\u0A83\\u0ABC\\u0ABE-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AE2\\u0AE3\\u0B01-\\u0B03\\u0B3C\\u0B3E-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B62\\u0B63\\u0B82\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD7\\u0C00-\\u0C03\\u0C3E-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C62\\u0C63\\u0C81-\\u0C83\\u0CBC\\u0CBE-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CE2\\u0CE3\\u0D01-\\u0D03\\u0D3E-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4D\\u0D57\\u0D62\\u0D63\\u0D82\\u0D83\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DF2\\u0DF3\\u0E31\\u0E34-\\u0E3A\\u0E47-\\u0E4E\\u0EB1\\u0EB4-\\u0EB9\\u0EBB\\u0EBC\\u0EC8-\\u0ECD\\u0F18\\u0F19\\u0F35\\u0F37\\u0F39\\u0F3E\\u0F3F\\u0F71-\\u0F84\\u0F86\\u0F87\\u0F8D-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u102B-\\u103E\\u1056-\\u1059\\u105E-\\u1060\\u1062-\\u1064\\u1067-\\u106D\\u1071-\\u1074\\u1082-\\u108D\\u108F\\u109A-\\u109D\\u135D-\\u135F\\u1712-\\u1714\\u1732-\\u1734\\u1752\\u1753\\u1772\\u1773\\u17B4-\\u17D3\\u17DD\\u180B-\\u180D\\u18A9\\u1920-\\u192B\\u1930-\\u193B\\u19B0-\\u19C0\\u19C8\\u19C9\\u1A17-\\u1A1B\\u1A55-\\u1A5E\\u1A60-\\u1A7C\\u1A7F\\u1AB0-\\u1ABE\\u1B00-\\u1B04\\u1B34-\\u1B44\\u1B6B-\\u1B73\\u1B80-\\u1B82\\u1BA1-\\u1BAD\\u1BE6-\\u1BF3\\u1C24-\\u1C37\\u1CD0-\\u1CD2\\u1CD4-\\u1CE8\\u1CED\\u1CF2-\\u1CF4\\u1CF8\\u1CF9\\u1DC0-\\u1DF5\\u1DFC-\\u1DFF\\u20D0-\\u20F0\\u2CEF-\\u2CF1\\u2D7F\\u2DE0-\\u2DFF\\u302A-\\u302F\\u3099\\u309A\\uA66F-\\uA672\\uA674-\\uA67D\\uA69F\\uA6F0\\uA6F1\\uA802\\uA806\\uA80B\\uA823-\\uA827\\uA880\\uA881\\uA8B4-\\uA8C4\\uA8E0-\\uA8F1\\uA926-\\uA92D\\uA947-\\uA953\\uA980-\\uA983\\uA9B3-\\uA9C0\\uA9E5\\uAA29-\\uAA36\\uAA43\\uAA4C\\uAA4D\\uAA7B-\\uAA7D\\uAAB0\\uAAB2-\\uAAB4\\uAAB7\\uAAB8\\uAABE\\uAABF\\uAAC1\\uAAEB-\\uAAEF\\uAAF5\\uAAF6\\uABE3-\\uABEA\\uABEC\\uABED\\uFB1E\\uFE00-\\uFE0F\\uFE20-\\uFE2D]|\\uD800[\\uDDFD\\uDEE0\\uDF76-\\uDF7A]|\\uD802[\\uDE01-\\uDE03\\uDE05\\uDE06\\uDE0C-\\uDE0F\\uDE38-\\uDE3A\\uDE3F\\uDEE5\\uDEE6]|\\uD804[\\uDC00-\\uDC02\\uDC38-\\uDC46\\uDC7F-\\uDC82\\uDCB0-\\uDCBA\\uDD00-\\uDD02\\uDD27-\\uDD34\\uDD73\\uDD80-\\uDD82\\uDDB3-\\uDDC0\\uDE2C-\\uDE37\\uDEDF-\\uDEEA\\uDF01-\\uDF03\\uDF3C\\uDF3E-\\uDF44\\uDF47\\uDF48\\uDF4B-\\uDF4D\\uDF57\\uDF62\\uDF63\\uDF66-\\uDF6C\\uDF70-\\uDF74]|\\uD805[\\uDCB0-\\uDCC3\\uDDAF-\\uDDB5\\uDDB8-\\uDDC0\\uDE30-\\uDE40\\uDEAB-\\uDEB7]|\\uD81A[\\uDEF0-\\uDEF4\\uDF30-\\uDF36]|\\uD81B[\\uDF51-\\uDF7E\\uDF8F-\\uDF92]|\\uD82F[\\uDC9D\\uDC9E]|\\uD834[\\uDD65-\\uDD69\\uDD6D-\\uDD72\\uDD7B-\\uDD82\\uDD85-\\uDD8B\\uDDAA-\\uDDAD\\uDE42-\\uDE44]|\\uD83A[\\uDCD0-\\uDCD6]|\\uDB40[\\uDD00-\\uDDEF]/;\n\nfunction validateLabel(label, processing_option) {\n  if (label.substr(0, 4) === \"xn--\") {\n    label = punycode.toUnicode(label);\n    processing_option = PROCESSING_OPTIONS.NONTRANSITIONAL;\n  }\n\n  var error = false;\n\n  if (normalize(label) !== label ||\n      (label[3] === \"-\" && label[4] === \"-\") ||\n      label[0] === \"-\" || label[label.length - 1] === \"-\" ||\n      label.indexOf(\".\") !== -1 ||\n      label.search(combiningMarksRegex) === 0) {\n    error = true;\n  }\n\n  var len = countSymbols(label);\n  for (var i = 0; i < len; ++i) {\n    var status = findStatus(label.codePointAt(i));\n    if ((processing === PROCESSING_OPTIONS.TRANSITIONAL && status[1] !== \"valid\") ||\n        (processing === PROCESSING_OPTIONS.NONTRANSITIONAL &&\n         status[1] !== \"valid\" && status[1] !== \"deviation\")) {\n      error = true;\n      break;\n    }\n  }\n\n  return {\n    label: label,\n    error: error\n  };\n}\n\nfunction processing(domain_name, useSTD3, processing_option) {\n  var result = mapChars(domain_name, useSTD3, processing_option);\n  result.string = normalize(result.string);\n\n  var labels = result.string.split(\".\");\n  for (var i = 0; i < labels.length; ++i) {\n    try {\n      var validation = validateLabel(labels[i]);\n      labels[i] = validation.label;\n      result.error = result.error || validation.error;\n    } catch(e) {\n      result.error = true;\n    }\n  }\n\n  return {\n    string: labels.join(\".\"),\n    error: result.error\n  };\n}\n\nmodule.exports.toASCII = function(domain_name, useSTD3, processing_option, verifyDnsLength) {\n  var result = processing(domain_name, useSTD3, processing_option);\n  var labels = result.string.split(\".\");\n  labels = labels.map(function(l) {\n    try {\n      return punycode.toASCII(l);\n    } catch(e) {\n      result.error = true;\n      return l;\n    }\n  });\n\n  if (verifyDnsLength) {\n    var total = labels.slice(0, labels.length - 1).join(\".\").length;\n    if (total.length > 253 || total.length === 0) {\n      result.error = true;\n    }\n\n    for (var i=0; i < labels.length; ++i) {\n      if (labels.length > 63 || labels.length === 0) {\n        result.error = true;\n        break;\n      }\n    }\n  }\n\n  if (result.error) return null;\n  return labels.join(\".\");\n};\n\nmodule.exports.toUnicode = function(domain_name, useSTD3) {\n  var result = processing(domain_name, useSTD3, PROCESSING_OPTIONS.NONTRANSITIONAL);\n\n  return {\n    domain: result.string,\n    error: result.error\n  };\n};\n\nmodule.exports.PROCESSING_OPTIONS = PROCESSING_OPTIONS;\n","\"use strict\";\r\nconst punycode = require(\"punycode\");\r\nconst tr46 = require(\"tr46\");\r\n\r\nconst specialSchemes = {\r\n  ftp: 21,\r\n  file: null,\r\n  gopher: 70,\r\n  http: 80,\r\n  https: 443,\r\n  ws: 80,\r\n  wss: 443\r\n};\r\n\r\nconst failure = Symbol(\"failure\");\r\n\r\nfunction countSymbols(str) {\r\n  return punycode.ucs2.decode(str).length;\r\n}\r\n\r\nfunction at(input, idx) {\r\n  const c = input[idx];\r\n  return isNaN(c) ? undefined : String.fromCodePoint(c);\r\n}\r\n\r\nfunction isASCIIDigit(c) {\r\n  return c >= 0x30 && c <= 0x39;\r\n}\r\n\r\nfunction isASCIIAlpha(c) {\r\n  return (c >= 0x41 && c <= 0x5A) || (c >= 0x61 && c <= 0x7A);\r\n}\r\n\r\nfunction isASCIIAlphanumeric(c) {\r\n  return isASCIIAlpha(c) || isASCIIDigit(c);\r\n}\r\n\r\nfunction isASCIIHex(c) {\r\n  return isASCIIDigit(c) || (c >= 0x41 && c <= 0x46) || (c >= 0x61 && c <= 0x66);\r\n}\r\n\r\nfunction isSingleDot(buffer) {\r\n  return buffer === \".\" || buffer.toLowerCase() === \"%2e\";\r\n}\r\n\r\nfunction isDoubleDot(buffer) {\r\n  buffer = buffer.toLowerCase();\r\n  return buffer === \"..\" || buffer === \"%2e.\" || buffer === \".%2e\" || buffer === \"%2e%2e\";\r\n}\r\n\r\nfunction isWindowsDriveLetterCodePoints(cp1, cp2) {\r\n  return isASCIIAlpha(cp1) && (cp2 === 58 || cp2 === 124);\r\n}\r\n\r\nfunction isWindowsDriveLetterString(string) {\r\n  return string.length === 2 && isASCIIAlpha(string.codePointAt(0)) && (string[1] === \":\" || string[1] === \"|\");\r\n}\r\n\r\nfunction isNormalizedWindowsDriveLetterString(string) {\r\n  return string.length === 2 && isASCIIAlpha(string.codePointAt(0)) && string[1] === \":\";\r\n}\r\n\r\nfunction containsForbiddenHostCodePoint(string) {\r\n  return string.search(/\\u0000|\\u0009|\\u000A|\\u000D|\\u0020|#|%|\\/|:|\\?|@|\\[|\\\\|\\]/) !== -1;\r\n}\r\n\r\nfunction containsForbiddenHostCodePointExcludingPercent(string) {\r\n  return string.search(/\\u0000|\\u0009|\\u000A|\\u000D|\\u0020|#|\\/|:|\\?|@|\\[|\\\\|\\]/) !== -1;\r\n}\r\n\r\nfunction isSpecialScheme(scheme) {\r\n  return specialSchemes[scheme] !== undefined;\r\n}\r\n\r\nfunction isSpecial(url) {\r\n  return isSpecialScheme(url.scheme);\r\n}\r\n\r\nfunction defaultPort(scheme) {\r\n  return specialSchemes[scheme];\r\n}\r\n\r\nfunction percentEncode(c) {\r\n  let hex = c.toString(16).toUpperCase();\r\n  if (hex.length === 1) {\r\n    hex = \"0\" + hex;\r\n  }\r\n\r\n  return \"%\" + hex;\r\n}\r\n\r\nfunction utf8PercentEncode(c) {\r\n  const buf = new Buffer(c);\r\n\r\n  let str = \"\";\r\n\r\n  for (let i = 0; i < buf.length; ++i) {\r\n    str += percentEncode(buf[i]);\r\n  }\r\n\r\n  return str;\r\n}\r\n\r\nfunction utf8PercentDecode(str) {\r\n  const input = new Buffer(str);\r\n  const output = [];\r\n  for (let i = 0; i < input.length; ++i) {\r\n    if (input[i] !== 37) {\r\n      output.push(input[i]);\r\n    } else if (input[i] === 37 && isASCIIHex(input[i + 1]) && isASCIIHex(input[i + 2])) {\r\n      output.push(parseInt(input.slice(i + 1, i + 3).toString(), 16));\r\n      i += 2;\r\n    } else {\r\n      output.push(input[i]);\r\n    }\r\n  }\r\n  return new Buffer(output).toString();\r\n}\r\n\r\nfunction isC0ControlPercentEncode(c) {\r\n  return c <= 0x1F || c > 0x7E;\r\n}\r\n\r\nconst extraPathPercentEncodeSet = new Set([32, 34, 35, 60, 62, 63, 96, 123, 125]);\r\nfunction isPathPercentEncode(c) {\r\n  return isC0ControlPercentEncode(c) || extraPathPercentEncodeSet.has(c);\r\n}\r\n\r\nconst extraUserinfoPercentEncodeSet =\r\n  new Set([47, 58, 59, 61, 64, 91, 92, 93, 94, 124]);\r\nfunction isUserinfoPercentEncode(c) {\r\n  return isPathPercentEncode(c) || extraUserinfoPercentEncodeSet.has(c);\r\n}\r\n\r\nfunction percentEncodeChar(c, encodeSetPredicate) {\r\n  const cStr = String.fromCodePoint(c);\r\n\r\n  if (encodeSetPredicate(c)) {\r\n    return utf8PercentEncode(cStr);\r\n  }\r\n\r\n  return cStr;\r\n}\r\n\r\nfunction parseIPv4Number(input) {\r\n  let R = 10;\r\n\r\n  if (input.length >= 2 && input.charAt(0) === \"0\" && input.charAt(1).toLowerCase() === \"x\") {\r\n    input = input.substring(2);\r\n    R = 16;\r\n  } else if (input.length >= 2 && input.charAt(0) === \"0\") {\r\n    input = input.substring(1);\r\n    R = 8;\r\n  }\r\n\r\n  if (input === \"\") {\r\n    return 0;\r\n  }\r\n\r\n  const regex = R === 10 ? /[^0-9]/ : (R === 16 ? /[^0-9A-Fa-f]/ : /[^0-7]/);\r\n  if (regex.test(input)) {\r\n    return failure;\r\n  }\r\n\r\n  return parseInt(input, R);\r\n}\r\n\r\nfunction parseIPv4(input) {\r\n  const parts = input.split(\".\");\r\n  if (parts[parts.length - 1] === \"\") {\r\n    if (parts.length > 1) {\r\n      parts.pop();\r\n    }\r\n  }\r\n\r\n  if (parts.length > 4) {\r\n    return input;\r\n  }\r\n\r\n  const numbers = [];\r\n  for (const part of parts) {\r\n    if (part === \"\") {\r\n      return input;\r\n    }\r\n    const n = parseIPv4Number(part);\r\n    if (n === failure) {\r\n      return input;\r\n    }\r\n\r\n    numbers.push(n);\r\n  }\r\n\r\n  for (let i = 0; i < numbers.length - 1; ++i) {\r\n    if (numbers[i] > 255) {\r\n      return failure;\r\n    }\r\n  }\r\n  if (numbers[numbers.length - 1] >= Math.pow(256, 5 - numbers.length)) {\r\n    return failure;\r\n  }\r\n\r\n  let ipv4 = numbers.pop();\r\n  let counter = 0;\r\n\r\n  for (const n of numbers) {\r\n    ipv4 += n * Math.pow(256, 3 - counter);\r\n    ++counter;\r\n  }\r\n\r\n  return ipv4;\r\n}\r\n\r\nfunction serializeIPv4(address) {\r\n  let output = \"\";\r\n  let n = address;\r\n\r\n  for (let i = 1; i <= 4; ++i) {\r\n    output = String(n % 256) + output;\r\n    if (i !== 4) {\r\n      output = \".\" + output;\r\n    }\r\n    n = Math.floor(n / 256);\r\n  }\r\n\r\n  return output;\r\n}\r\n\r\nfunction parseIPv6(input) {\r\n  const address = [0, 0, 0, 0, 0, 0, 0, 0];\r\n  let pieceIndex = 0;\r\n  let compress = null;\r\n  let pointer = 0;\r\n\r\n  input = punycode.ucs2.decode(input);\r\n\r\n  if (input[pointer] === 58) {\r\n    if (input[pointer + 1] !== 58) {\r\n      return failure;\r\n    }\r\n\r\n    pointer += 2;\r\n    ++pieceIndex;\r\n    compress = pieceIndex;\r\n  }\r\n\r\n  while (pointer < input.length) {\r\n    if (pieceIndex === 8) {\r\n      return failure;\r\n    }\r\n\r\n    if (input[pointer] === 58) {\r\n      if (compress !== null) {\r\n        return failure;\r\n      }\r\n      ++pointer;\r\n      ++pieceIndex;\r\n      compress = pieceIndex;\r\n      continue;\r\n    }\r\n\r\n    let value = 0;\r\n    let length = 0;\r\n\r\n    while (length < 4 && isASCIIHex(input[pointer])) {\r\n      value = value * 0x10 + parseInt(at(input, pointer), 16);\r\n      ++pointer;\r\n      ++length;\r\n    }\r\n\r\n    if (input[pointer] === 46) {\r\n      if (length === 0) {\r\n        return failure;\r\n      }\r\n\r\n      pointer -= length;\r\n\r\n      if (pieceIndex > 6) {\r\n        return failure;\r\n      }\r\n\r\n      let numbersSeen = 0;\r\n\r\n      while (input[pointer] !== undefined) {\r\n        let ipv4Piece = null;\r\n\r\n        if (numbersSeen > 0) {\r\n          if (input[pointer] === 46 && numbersSeen < 4) {\r\n            ++pointer;\r\n          } else {\r\n            return failure;\r\n          }\r\n        }\r\n\r\n        if (!isASCIIDigit(input[pointer])) {\r\n          return failure;\r\n        }\r\n\r\n        while (isASCIIDigit(input[pointer])) {\r\n          const number = parseInt(at(input, pointer));\r\n          if (ipv4Piece === null) {\r\n            ipv4Piece = number;\r\n          } else if (ipv4Piece === 0) {\r\n            return failure;\r\n          } else {\r\n            ipv4Piece = ipv4Piece * 10 + number;\r\n          }\r\n          if (ipv4Piece > 255) {\r\n            return failure;\r\n          }\r\n          ++pointer;\r\n        }\r\n\r\n        address[pieceIndex] = address[pieceIndex] * 0x100 + ipv4Piece;\r\n\r\n        ++numbersSeen;\r\n\r\n        if (numbersSeen === 2 || numbersSeen === 4) {\r\n          ++pieceIndex;\r\n        }\r\n      }\r\n\r\n      if (numbersSeen !== 4) {\r\n        return failure;\r\n      }\r\n\r\n      break;\r\n    } else if (input[pointer] === 58) {\r\n      ++pointer;\r\n      if (input[pointer] === undefined) {\r\n        return failure;\r\n      }\r\n    } else if (input[pointer] !== undefined) {\r\n      return failure;\r\n    }\r\n\r\n    address[pieceIndex] = value;\r\n    ++pieceIndex;\r\n  }\r\n\r\n  if (compress !== null) {\r\n    let swaps = pieceIndex - compress;\r\n    pieceIndex = 7;\r\n    while (pieceIndex !== 0 && swaps > 0) {\r\n      const temp = address[compress + swaps - 1];\r\n      address[compress + swaps - 1] = address[pieceIndex];\r\n      address[pieceIndex] = temp;\r\n      --pieceIndex;\r\n      --swaps;\r\n    }\r\n  } else if (compress === null && pieceIndex !== 8) {\r\n    return failure;\r\n  }\r\n\r\n  return address;\r\n}\r\n\r\nfunction serializeIPv6(address) {\r\n  let output = \"\";\r\n  const seqResult = findLongestZeroSequence(address);\r\n  const compress = seqResult.idx;\r\n  let ignore0 = false;\r\n\r\n  for (let pieceIndex = 0; pieceIndex <= 7; ++pieceIndex) {\r\n    if (ignore0 && address[pieceIndex] === 0) {\r\n      continue;\r\n    } else if (ignore0) {\r\n      ignore0 = false;\r\n    }\r\n\r\n    if (compress === pieceIndex) {\r\n      const separator = pieceIndex === 0 ? \"::\" : \":\";\r\n      output += separator;\r\n      ignore0 = true;\r\n      continue;\r\n    }\r\n\r\n    output += address[pieceIndex].toString(16);\r\n\r\n    if (pieceIndex !== 7) {\r\n      output += \":\";\r\n    }\r\n  }\r\n\r\n  return output;\r\n}\r\n\r\nfunction parseHost(input, isSpecialArg) {\r\n  if (input[0] === \"[\") {\r\n    if (input[input.length - 1] !== \"]\") {\r\n      return failure;\r\n    }\r\n\r\n    return parseIPv6(input.substring(1, input.length - 1));\r\n  }\r\n\r\n  if (!isSpecialArg) {\r\n    return parseOpaqueHost(input);\r\n  }\r\n\r\n  const domain = utf8PercentDecode(input);\r\n  const asciiDomain = tr46.toASCII(domain, false, tr46.PROCESSING_OPTIONS.NONTRANSITIONAL, false);\r\n  if (asciiDomain === null) {\r\n    return failure;\r\n  }\r\n\r\n  if (containsForbiddenHostCodePoint(asciiDomain)) {\r\n    return failure;\r\n  }\r\n\r\n  const ipv4Host = parseIPv4(asciiDomain);\r\n  if (typeof ipv4Host === \"number\" || ipv4Host === failure) {\r\n    return ipv4Host;\r\n  }\r\n\r\n  return asciiDomain;\r\n}\r\n\r\nfunction parseOpaqueHost(input) {\r\n  if (containsForbiddenHostCodePointExcludingPercent(input)) {\r\n    return failure;\r\n  }\r\n\r\n  let output = \"\";\r\n  const decoded = punycode.ucs2.decode(input);\r\n  for (let i = 0; i < decoded.length; ++i) {\r\n    output += percentEncodeChar(decoded[i], isC0ControlPercentEncode);\r\n  }\r\n  return output;\r\n}\r\n\r\nfunction findLongestZeroSequence(arr) {\r\n  let maxIdx = null;\r\n  let maxLen = 1; // only find elements > 1\r\n  let currStart = null;\r\n  let currLen = 0;\r\n\r\n  for (let i = 0; i < arr.length; ++i) {\r\n    if (arr[i] !== 0) {\r\n      if (currLen > maxLen) {\r\n        maxIdx = currStart;\r\n        maxLen = currLen;\r\n      }\r\n\r\n      currStart = null;\r\n      currLen = 0;\r\n    } else {\r\n      if (currStart === null) {\r\n        currStart = i;\r\n      }\r\n      ++currLen;\r\n    }\r\n  }\r\n\r\n  // if trailing zeros\r\n  if (currLen > maxLen) {\r\n    maxIdx = currStart;\r\n    maxLen = currLen;\r\n  }\r\n\r\n  return {\r\n    idx: maxIdx,\r\n    len: maxLen\r\n  };\r\n}\r\n\r\nfunction serializeHost(host) {\r\n  if (typeof host === \"number\") {\r\n    return serializeIPv4(host);\r\n  }\r\n\r\n  // IPv6 serializer\r\n  if (host instanceof Array) {\r\n    return \"[\" + serializeIPv6(host) + \"]\";\r\n  }\r\n\r\n  return host;\r\n}\r\n\r\nfunction trimControlChars(url) {\r\n  return url.replace(/^[\\u0000-\\u001F\\u0020]+|[\\u0000-\\u001F\\u0020]+$/g, \"\");\r\n}\r\n\r\nfunction trimTabAndNewline(url) {\r\n  return url.replace(/\\u0009|\\u000A|\\u000D/g, \"\");\r\n}\r\n\r\nfunction shortenPath(url) {\r\n  const path = url.path;\r\n  if (path.length === 0) {\r\n    return;\r\n  }\r\n  if (url.scheme === \"file\" && path.length === 1 && isNormalizedWindowsDriveLetter(path[0])) {\r\n    return;\r\n  }\r\n\r\n  path.pop();\r\n}\r\n\r\nfunction includesCredentials(url) {\r\n  return url.username !== \"\" || url.password !== \"\";\r\n}\r\n\r\nfunction cannotHaveAUsernamePasswordPort(url) {\r\n  return url.host === null || url.host === \"\" || url.cannotBeABaseURL || url.scheme === \"file\";\r\n}\r\n\r\nfunction isNormalizedWindowsDriveLetter(string) {\r\n  return /^[A-Za-z]:$/.test(string);\r\n}\r\n\r\nfunction URLStateMachine(input, base, encodingOverride, url, stateOverride) {\r\n  this.pointer = 0;\r\n  this.input = input;\r\n  this.base = base || null;\r\n  this.encodingOverride = encodingOverride || \"utf-8\";\r\n  this.stateOverride = stateOverride;\r\n  this.url = url;\r\n  this.failure = false;\r\n  this.parseError = false;\r\n\r\n  if (!this.url) {\r\n    this.url = {\r\n      scheme: \"\",\r\n      username: \"\",\r\n      password: \"\",\r\n      host: null,\r\n      port: null,\r\n      path: [],\r\n      query: null,\r\n      fragment: null,\r\n\r\n      cannotBeABaseURL: false\r\n    };\r\n\r\n    const res = trimControlChars(this.input);\r\n    if (res !== this.input) {\r\n      this.parseError = true;\r\n    }\r\n    this.input = res;\r\n  }\r\n\r\n  const res = trimTabAndNewline(this.input);\r\n  if (res !== this.input) {\r\n    this.parseError = true;\r\n  }\r\n  this.input = res;\r\n\r\n  this.state = stateOverride || \"scheme start\";\r\n\r\n  this.buffer = \"\";\r\n  this.atFlag = false;\r\n  this.arrFlag = false;\r\n  this.passwordTokenSeenFlag = false;\r\n\r\n  this.input = punycode.ucs2.decode(this.input);\r\n\r\n  for (; this.pointer <= this.input.length; ++this.pointer) {\r\n    const c = this.input[this.pointer];\r\n    const cStr = isNaN(c) ? undefined : String.fromCodePoint(c);\r\n\r\n    // exec state machine\r\n    const ret = this[\"parse \" + this.state](c, cStr);\r\n    if (!ret) {\r\n      break; // terminate algorithm\r\n    } else if (ret === failure) {\r\n      this.failure = true;\r\n      break;\r\n    }\r\n  }\r\n}\r\n\r\nURLStateMachine.prototype[\"parse scheme start\"] = function parseSchemeStart(c, cStr) {\r\n  if (isASCIIAlpha(c)) {\r\n    this.buffer += cStr.toLowerCase();\r\n    this.state = \"scheme\";\r\n  } else if (!this.stateOverride) {\r\n    this.state = \"no scheme\";\r\n    --this.pointer;\r\n  } else {\r\n    this.parseError = true;\r\n    return failure;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse scheme\"] = function parseScheme(c, cStr) {\r\n  if (isASCIIAlphanumeric(c) || c === 43 || c === 45 || c === 46) {\r\n    this.buffer += cStr.toLowerCase();\r\n  } else if (c === 58) {\r\n    if (this.stateOverride) {\r\n      if (isSpecial(this.url) && !isSpecialScheme(this.buffer)) {\r\n        return false;\r\n      }\r\n\r\n      if (!isSpecial(this.url) && isSpecialScheme(this.buffer)) {\r\n        return false;\r\n      }\r\n\r\n      if ((includesCredentials(this.url) || this.url.port !== null) && this.buffer === \"file\") {\r\n        return false;\r\n      }\r\n\r\n      if (this.url.scheme === \"file\" && (this.url.host === \"\" || this.url.host === null)) {\r\n        return false;\r\n      }\r\n    }\r\n    this.url.scheme = this.buffer;\r\n    this.buffer = \"\";\r\n    if (this.stateOverride) {\r\n      return false;\r\n    }\r\n    if (this.url.scheme === \"file\") {\r\n      if (this.input[this.pointer + 1] !== 47 || this.input[this.pointer + 2] !== 47) {\r\n        this.parseError = true;\r\n      }\r\n      this.state = \"file\";\r\n    } else if (isSpecial(this.url) && this.base !== null && this.base.scheme === this.url.scheme) {\r\n      this.state = \"special relative or authority\";\r\n    } else if (isSpecial(this.url)) {\r\n      this.state = \"special authority slashes\";\r\n    } else if (this.input[this.pointer + 1] === 47) {\r\n      this.state = \"path or authority\";\r\n      ++this.pointer;\r\n    } else {\r\n      this.url.cannotBeABaseURL = true;\r\n      this.url.path.push(\"\");\r\n      this.state = \"cannot-be-a-base-URL path\";\r\n    }\r\n  } else if (!this.stateOverride) {\r\n    this.buffer = \"\";\r\n    this.state = \"no scheme\";\r\n    this.pointer = -1;\r\n  } else {\r\n    this.parseError = true;\r\n    return failure;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse no scheme\"] = function parseNoScheme(c) {\r\n  if (this.base === null || (this.base.cannotBeABaseURL && c !== 35)) {\r\n    return failure;\r\n  } else if (this.base.cannotBeABaseURL && c === 35) {\r\n    this.url.scheme = this.base.scheme;\r\n    this.url.path = this.base.path.slice();\r\n    this.url.query = this.base.query;\r\n    this.url.fragment = \"\";\r\n    this.url.cannotBeABaseURL = true;\r\n    this.state = \"fragment\";\r\n  } else if (this.base.scheme === \"file\") {\r\n    this.state = \"file\";\r\n    --this.pointer;\r\n  } else {\r\n    this.state = \"relative\";\r\n    --this.pointer;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse special relative or authority\"] = function parseSpecialRelativeOrAuthority(c) {\r\n  if (c === 47 && this.input[this.pointer + 1] === 47) {\r\n    this.state = \"special authority ignore slashes\";\r\n    ++this.pointer;\r\n  } else {\r\n    this.parseError = true;\r\n    this.state = \"relative\";\r\n    --this.pointer;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse path or authority\"] = function parsePathOrAuthority(c) {\r\n  if (c === 47) {\r\n    this.state = \"authority\";\r\n  } else {\r\n    this.state = \"path\";\r\n    --this.pointer;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse relative\"] = function parseRelative(c) {\r\n  this.url.scheme = this.base.scheme;\r\n  if (isNaN(c)) {\r\n    this.url.username = this.base.username;\r\n    this.url.password = this.base.password;\r\n    this.url.host = this.base.host;\r\n    this.url.port = this.base.port;\r\n    this.url.path = this.base.path.slice();\r\n    this.url.query = this.base.query;\r\n  } else if (c === 47) {\r\n    this.state = \"relative slash\";\r\n  } else if (c === 63) {\r\n    this.url.username = this.base.username;\r\n    this.url.password = this.base.password;\r\n    this.url.host = this.base.host;\r\n    this.url.port = this.base.port;\r\n    this.url.path = this.base.path.slice();\r\n    this.url.query = \"\";\r\n    this.state = \"query\";\r\n  } else if (c === 35) {\r\n    this.url.username = this.base.username;\r\n    this.url.password = this.base.password;\r\n    this.url.host = this.base.host;\r\n    this.url.port = this.base.port;\r\n    this.url.path = this.base.path.slice();\r\n    this.url.query = this.base.query;\r\n    this.url.fragment = \"\";\r\n    this.state = \"fragment\";\r\n  } else if (isSpecial(this.url) && c === 92) {\r\n    this.parseError = true;\r\n    this.state = \"relative slash\";\r\n  } else {\r\n    this.url.username = this.base.username;\r\n    this.url.password = this.base.password;\r\n    this.url.host = this.base.host;\r\n    this.url.port = this.base.port;\r\n    this.url.path = this.base.path.slice(0, this.base.path.length - 1);\r\n\r\n    this.state = \"path\";\r\n    --this.pointer;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse relative slash\"] = function parseRelativeSlash(c) {\r\n  if (isSpecial(this.url) && (c === 47 || c === 92)) {\r\n    if (c === 92) {\r\n      this.parseError = true;\r\n    }\r\n    this.state = \"special authority ignore slashes\";\r\n  } else if (c === 47) {\r\n    this.state = \"authority\";\r\n  } else {\r\n    this.url.username = this.base.username;\r\n    this.url.password = this.base.password;\r\n    this.url.host = this.base.host;\r\n    this.url.port = this.base.port;\r\n    this.state = \"path\";\r\n    --this.pointer;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse special authority slashes\"] = function parseSpecialAuthoritySlashes(c) {\r\n  if (c === 47 && this.input[this.pointer + 1] === 47) {\r\n    this.state = \"special authority ignore slashes\";\r\n    ++this.pointer;\r\n  } else {\r\n    this.parseError = true;\r\n    this.state = \"special authority ignore slashes\";\r\n    --this.pointer;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse special authority ignore slashes\"] = function parseSpecialAuthorityIgnoreSlashes(c) {\r\n  if (c !== 47 && c !== 92) {\r\n    this.state = \"authority\";\r\n    --this.pointer;\r\n  } else {\r\n    this.parseError = true;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse authority\"] = function parseAuthority(c, cStr) {\r\n  if (c === 64) {\r\n    this.parseError = true;\r\n    if (this.atFlag) {\r\n      this.buffer = \"%40\" + this.buffer;\r\n    }\r\n    this.atFlag = true;\r\n\r\n    // careful, this is based on buffer and has its own pointer (this.pointer != pointer) and inner chars\r\n    const len = countSymbols(this.buffer);\r\n    for (let pointer = 0; pointer < len; ++pointer) {\r\n      const codePoint = this.buffer.codePointAt(pointer);\r\n\r\n      if (codePoint === 58 && !this.passwordTokenSeenFlag) {\r\n        this.passwordTokenSeenFlag = true;\r\n        continue;\r\n      }\r\n      const encodedCodePoints = percentEncodeChar(codePoint, isUserinfoPercentEncode);\r\n      if (this.passwordTokenSeenFlag) {\r\n        this.url.password += encodedCodePoints;\r\n      } else {\r\n        this.url.username += encodedCodePoints;\r\n      }\r\n    }\r\n    this.buffer = \"\";\r\n  } else if (isNaN(c) || c === 47 || c === 63 || c === 35 ||\r\n             (isSpecial(this.url) && c === 92)) {\r\n    if (this.atFlag && this.buffer === \"\") {\r\n      this.parseError = true;\r\n      return failure;\r\n    }\r\n    this.pointer -= countSymbols(this.buffer) + 1;\r\n    this.buffer = \"\";\r\n    this.state = \"host\";\r\n  } else {\r\n    this.buffer += cStr;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse hostname\"] =\r\nURLStateMachine.prototype[\"parse host\"] = function parseHostName(c, cStr) {\r\n  if (this.stateOverride && this.url.scheme === \"file\") {\r\n    --this.pointer;\r\n    this.state = \"file host\";\r\n  } else if (c === 58 && !this.arrFlag) {\r\n    if (this.buffer === \"\") {\r\n      this.parseError = true;\r\n      return failure;\r\n    }\r\n\r\n    const host = parseHost(this.buffer, isSpecial(this.url));\r\n    if (host === failure) {\r\n      return failure;\r\n    }\r\n\r\n    this.url.host = host;\r\n    this.buffer = \"\";\r\n    this.state = \"port\";\r\n    if (this.stateOverride === \"hostname\") {\r\n      return false;\r\n    }\r\n  } else if (isNaN(c) || c === 47 || c === 63 || c === 35 ||\r\n             (isSpecial(this.url) && c === 92)) {\r\n    --this.pointer;\r\n    if (isSpecial(this.url) && this.buffer === \"\") {\r\n      this.parseError = true;\r\n      return failure;\r\n    } else if (this.stateOverride && this.buffer === \"\" &&\r\n               (includesCredentials(this.url) || this.url.port !== null)) {\r\n      this.parseError = true;\r\n      return false;\r\n    }\r\n\r\n    const host = parseHost(this.buffer, isSpecial(this.url));\r\n    if (host === failure) {\r\n      return failure;\r\n    }\r\n\r\n    this.url.host = host;\r\n    this.buffer = \"\";\r\n    this.state = \"path start\";\r\n    if (this.stateOverride) {\r\n      return false;\r\n    }\r\n  } else {\r\n    if (c === 91) {\r\n      this.arrFlag = true;\r\n    } else if (c === 93) {\r\n      this.arrFlag = false;\r\n    }\r\n    this.buffer += cStr;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse port\"] = function parsePort(c, cStr) {\r\n  if (isASCIIDigit(c)) {\r\n    this.buffer += cStr;\r\n  } else if (isNaN(c) || c === 47 || c === 63 || c === 35 ||\r\n             (isSpecial(this.url) && c === 92) ||\r\n             this.stateOverride) {\r\n    if (this.buffer !== \"\") {\r\n      const port = parseInt(this.buffer);\r\n      if (port > Math.pow(2, 16) - 1) {\r\n        this.parseError = true;\r\n        return failure;\r\n      }\r\n      this.url.port = port === defaultPort(this.url.scheme) ? null : port;\r\n      this.buffer = \"\";\r\n    }\r\n    if (this.stateOverride) {\r\n      return false;\r\n    }\r\n    this.state = \"path start\";\r\n    --this.pointer;\r\n  } else {\r\n    this.parseError = true;\r\n    return failure;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nconst fileOtherwiseCodePoints = new Set([47, 92, 63, 35]);\r\n\r\nURLStateMachine.prototype[\"parse file\"] = function parseFile(c) {\r\n  this.url.scheme = \"file\";\r\n\r\n  if (c === 47 || c === 92) {\r\n    if (c === 92) {\r\n      this.parseError = true;\r\n    }\r\n    this.state = \"file slash\";\r\n  } else if (this.base !== null && this.base.scheme === \"file\") {\r\n    if (isNaN(c)) {\r\n      this.url.host = this.base.host;\r\n      this.url.path = this.base.path.slice();\r\n      this.url.query = this.base.query;\r\n    } else if (c === 63) {\r\n      this.url.host = this.base.host;\r\n      this.url.path = this.base.path.slice();\r\n      this.url.query = \"\";\r\n      this.state = \"query\";\r\n    } else if (c === 35) {\r\n      this.url.host = this.base.host;\r\n      this.url.path = this.base.path.slice();\r\n      this.url.query = this.base.query;\r\n      this.url.fragment = \"\";\r\n      this.state = \"fragment\";\r\n    } else {\r\n      if (this.input.length - this.pointer - 1 === 0 || // remaining consists of 0 code points\r\n          !isWindowsDriveLetterCodePoints(c, this.input[this.pointer + 1]) ||\r\n          (this.input.length - this.pointer - 1 >= 2 && // remaining has at least 2 code points\r\n           !fileOtherwiseCodePoints.has(this.input[this.pointer + 2]))) {\r\n        this.url.host = this.base.host;\r\n        this.url.path = this.base.path.slice();\r\n        shortenPath(this.url);\r\n      } else {\r\n        this.parseError = true;\r\n      }\r\n\r\n      this.state = \"path\";\r\n      --this.pointer;\r\n    }\r\n  } else {\r\n    this.state = \"path\";\r\n    --this.pointer;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse file slash\"] = function parseFileSlash(c) {\r\n  if (c === 47 || c === 92) {\r\n    if (c === 92) {\r\n      this.parseError = true;\r\n    }\r\n    this.state = \"file host\";\r\n  } else {\r\n    if (this.base !== null && this.base.scheme === \"file\") {\r\n      if (isNormalizedWindowsDriveLetterString(this.base.path[0])) {\r\n        this.url.path.push(this.base.path[0]);\r\n      } else {\r\n        this.url.host = this.base.host;\r\n      }\r\n    }\r\n    this.state = \"path\";\r\n    --this.pointer;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse file host\"] = function parseFileHost(c, cStr) {\r\n  if (isNaN(c) || c === 47 || c === 92 || c === 63 || c === 35) {\r\n    --this.pointer;\r\n    if (!this.stateOverride && isWindowsDriveLetterString(this.buffer)) {\r\n      this.parseError = true;\r\n      this.state = \"path\";\r\n    } else if (this.buffer === \"\") {\r\n      this.url.host = \"\";\r\n      if (this.stateOverride) {\r\n        return false;\r\n      }\r\n      this.state = \"path start\";\r\n    } else {\r\n      let host = parseHost(this.buffer, isSpecial(this.url));\r\n      if (host === failure) {\r\n        return failure;\r\n      }\r\n      if (host === \"localhost\") {\r\n        host = \"\";\r\n      }\r\n      this.url.host = host;\r\n\r\n      if (this.stateOverride) {\r\n        return false;\r\n      }\r\n\r\n      this.buffer = \"\";\r\n      this.state = \"path start\";\r\n    }\r\n  } else {\r\n    this.buffer += cStr;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse path start\"] = function parsePathStart(c) {\r\n  if (isSpecial(this.url)) {\r\n    if (c === 92) {\r\n      this.parseError = true;\r\n    }\r\n    this.state = \"path\";\r\n\r\n    if (c !== 47 && c !== 92) {\r\n      --this.pointer;\r\n    }\r\n  } else if (!this.stateOverride && c === 63) {\r\n    this.url.query = \"\";\r\n    this.state = \"query\";\r\n  } else if (!this.stateOverride && c === 35) {\r\n    this.url.fragment = \"\";\r\n    this.state = \"fragment\";\r\n  } else if (c !== undefined) {\r\n    this.state = \"path\";\r\n    if (c !== 47) {\r\n      --this.pointer;\r\n    }\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse path\"] = function parsePath(c) {\r\n  if (isNaN(c) || c === 47 || (isSpecial(this.url) && c === 92) ||\r\n      (!this.stateOverride && (c === 63 || c === 35))) {\r\n    if (isSpecial(this.url) && c === 92) {\r\n      this.parseError = true;\r\n    }\r\n\r\n    if (isDoubleDot(this.buffer)) {\r\n      shortenPath(this.url);\r\n      if (c !== 47 && !(isSpecial(this.url) && c === 92)) {\r\n        this.url.path.push(\"\");\r\n      }\r\n    } else if (isSingleDot(this.buffer) && c !== 47 &&\r\n               !(isSpecial(this.url) && c === 92)) {\r\n      this.url.path.push(\"\");\r\n    } else if (!isSingleDot(this.buffer)) {\r\n      if (this.url.scheme === \"file\" && this.url.path.length === 0 && isWindowsDriveLetterString(this.buffer)) {\r\n        if (this.url.host !== \"\" && this.url.host !== null) {\r\n          this.parseError = true;\r\n          this.url.host = \"\";\r\n        }\r\n        this.buffer = this.buffer[0] + \":\";\r\n      }\r\n      this.url.path.push(this.buffer);\r\n    }\r\n    this.buffer = \"\";\r\n    if (this.url.scheme === \"file\" && (c === undefined || c === 63 || c === 35)) {\r\n      while (this.url.path.length > 1 && this.url.path[0] === \"\") {\r\n        this.parseError = true;\r\n        this.url.path.shift();\r\n      }\r\n    }\r\n    if (c === 63) {\r\n      this.url.query = \"\";\r\n      this.state = \"query\";\r\n    }\r\n    if (c === 35) {\r\n      this.url.fragment = \"\";\r\n      this.state = \"fragment\";\r\n    }\r\n  } else {\r\n    // TODO: If c is not a URL code point and not \"%\", parse error.\r\n\r\n    if (c === 37 &&\r\n      (!isASCIIHex(this.input[this.pointer + 1]) ||\r\n        !isASCIIHex(this.input[this.pointer + 2]))) {\r\n      this.parseError = true;\r\n    }\r\n\r\n    this.buffer += percentEncodeChar(c, isPathPercentEncode);\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse cannot-be-a-base-URL path\"] = function parseCannotBeABaseURLPath(c) {\r\n  if (c === 63) {\r\n    this.url.query = \"\";\r\n    this.state = \"query\";\r\n  } else if (c === 35) {\r\n    this.url.fragment = \"\";\r\n    this.state = \"fragment\";\r\n  } else {\r\n    // TODO: Add: not a URL code point\r\n    if (!isNaN(c) && c !== 37) {\r\n      this.parseError = true;\r\n    }\r\n\r\n    if (c === 37 &&\r\n        (!isASCIIHex(this.input[this.pointer + 1]) ||\r\n         !isASCIIHex(this.input[this.pointer + 2]))) {\r\n      this.parseError = true;\r\n    }\r\n\r\n    if (!isNaN(c)) {\r\n      this.url.path[0] = this.url.path[0] + percentEncodeChar(c, isC0ControlPercentEncode);\r\n    }\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse query\"] = function parseQuery(c, cStr) {\r\n  if (isNaN(c) || (!this.stateOverride && c === 35)) {\r\n    if (!isSpecial(this.url) || this.url.scheme === \"ws\" || this.url.scheme === \"wss\") {\r\n      this.encodingOverride = \"utf-8\";\r\n    }\r\n\r\n    const buffer = new Buffer(this.buffer); // TODO: Use encoding override instead\r\n    for (let i = 0; i < buffer.length; ++i) {\r\n      if (buffer[i] < 0x21 || buffer[i] > 0x7E || buffer[i] === 0x22 || buffer[i] === 0x23 ||\r\n          buffer[i] === 0x3C || buffer[i] === 0x3E) {\r\n        this.url.query += percentEncode(buffer[i]);\r\n      } else {\r\n        this.url.query += String.fromCodePoint(buffer[i]);\r\n      }\r\n    }\r\n\r\n    this.buffer = \"\";\r\n    if (c === 35) {\r\n      this.url.fragment = \"\";\r\n      this.state = \"fragment\";\r\n    }\r\n  } else {\r\n    // TODO: If c is not a URL code point and not \"%\", parse error.\r\n    if (c === 37 &&\r\n      (!isASCIIHex(this.input[this.pointer + 1]) ||\r\n        !isASCIIHex(this.input[this.pointer + 2]))) {\r\n      this.parseError = true;\r\n    }\r\n\r\n    this.buffer += cStr;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse fragment\"] = function parseFragment(c) {\r\n  if (isNaN(c)) { // do nothing\r\n  } else if (c === 0x0) {\r\n    this.parseError = true;\r\n  } else {\r\n    // TODO: If c is not a URL code point and not \"%\", parse error.\r\n    if (c === 37 &&\r\n      (!isASCIIHex(this.input[this.pointer + 1]) ||\r\n        !isASCIIHex(this.input[this.pointer + 2]))) {\r\n      this.parseError = true;\r\n    }\r\n\r\n    this.url.fragment += percentEncodeChar(c, isC0ControlPercentEncode);\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nfunction serializeURL(url, excludeFragment) {\r\n  let output = url.scheme + \":\";\r\n  if (url.host !== null) {\r\n    output += \"//\";\r\n\r\n    if (url.username !== \"\" || url.password !== \"\") {\r\n      output += url.username;\r\n      if (url.password !== \"\") {\r\n        output += \":\" + url.password;\r\n      }\r\n      output += \"@\";\r\n    }\r\n\r\n    output += serializeHost(url.host);\r\n\r\n    if (url.port !== null) {\r\n      output += \":\" + url.port;\r\n    }\r\n  } else if (url.host === null && url.scheme === \"file\") {\r\n    output += \"//\";\r\n  }\r\n\r\n  if (url.cannotBeABaseURL) {\r\n    output += url.path[0];\r\n  } else {\r\n    for (const string of url.path) {\r\n      output += \"/\" + string;\r\n    }\r\n  }\r\n\r\n  if (url.query !== null) {\r\n    output += \"?\" + url.query;\r\n  }\r\n\r\n  if (!excludeFragment && url.fragment !== null) {\r\n    output += \"#\" + url.fragment;\r\n  }\r\n\r\n  return output;\r\n}\r\n\r\nfunction serializeOrigin(tuple) {\r\n  let result = tuple.scheme + \"://\";\r\n  result += serializeHost(tuple.host);\r\n\r\n  if (tuple.port !== null) {\r\n    result += \":\" + tuple.port;\r\n  }\r\n\r\n  return result;\r\n}\r\n\r\nmodule.exports.serializeURL = serializeURL;\r\n\r\nmodule.exports.serializeURLOrigin = function (url) {\r\n  // https://url.spec.whatwg.org/#concept-url-origin\r\n  switch (url.scheme) {\r\n    case \"blob\":\r\n      try {\r\n        return module.exports.serializeURLOrigin(module.exports.parseURL(url.path[0]));\r\n      } catch (e) {\r\n        // serializing an opaque origin returns \"null\"\r\n        return \"null\";\r\n      }\r\n    case \"ftp\":\r\n    case \"gopher\":\r\n    case \"http\":\r\n    case \"https\":\r\n    case \"ws\":\r\n    case \"wss\":\r\n      return serializeOrigin({\r\n        scheme: url.scheme,\r\n        host: url.host,\r\n        port: url.port\r\n      });\r\n    case \"file\":\r\n      // spec says \"exercise to the reader\", chrome says \"file://\"\r\n      return \"file://\";\r\n    default:\r\n      // serializing an opaque origin returns \"null\"\r\n      return \"null\";\r\n  }\r\n};\r\n\r\nmodule.exports.basicURLParse = function (input, options) {\r\n  if (options === undefined) {\r\n    options = {};\r\n  }\r\n\r\n  const usm = new URLStateMachine(input, options.baseURL, options.encodingOverride, options.url, options.stateOverride);\r\n  if (usm.failure) {\r\n    return \"failure\";\r\n  }\r\n\r\n  return usm.url;\r\n};\r\n\r\nmodule.exports.setTheUsername = function (url, username) {\r\n  url.username = \"\";\r\n  const decoded = punycode.ucs2.decode(username);\r\n  for (let i = 0; i < decoded.length; ++i) {\r\n    url.username += percentEncodeChar(decoded[i], isUserinfoPercentEncode);\r\n  }\r\n};\r\n\r\nmodule.exports.setThePassword = function (url, password) {\r\n  url.password = \"\";\r\n  const decoded = punycode.ucs2.decode(password);\r\n  for (let i = 0; i < decoded.length; ++i) {\r\n    url.password += percentEncodeChar(decoded[i], isUserinfoPercentEncode);\r\n  }\r\n};\r\n\r\nmodule.exports.serializeHost = serializeHost;\r\n\r\nmodule.exports.cannotHaveAUsernamePasswordPort = cannotHaveAUsernamePasswordPort;\r\n\r\nmodule.exports.serializeInteger = function (integer) {\r\n  return String(integer);\r\n};\r\n\r\nmodule.exports.parseURL = function (input, options) {\r\n  if (options === undefined) {\r\n    options = {};\r\n  }\r\n\r\n  // We don't handle blobs, so this just delegates:\r\n  return module.exports.basicURLParse(input, { baseURL: options.baseURL, encodingOverride: options.encodingOverride });\r\n};\r\n","\"use strict\";\nconst usm = require(\"./url-state-machine\");\n\nexports.implementation = class URLImpl {\n  constructor(constructorArgs) {\n    const url = constructorArgs[0];\n    const base = constructorArgs[1];\n\n    let parsedBase = null;\n    if (base !== undefined) {\n      parsedBase = usm.basicURLParse(base);\n      if (parsedBase === \"failure\") {\n        throw new TypeError(\"Invalid base URL\");\n      }\n    }\n\n    const parsedURL = usm.basicURLParse(url, { baseURL: parsedBase });\n    if (parsedURL === \"failure\") {\n      throw new TypeError(\"Invalid URL\");\n    }\n\n    this._url = parsedURL;\n\n    // TODO: query stuff\n  }\n\n  get href() {\n    return usm.serializeURL(this._url);\n  }\n\n  set href(v) {\n    const parsedURL = usm.basicURLParse(v);\n    if (parsedURL === \"failure\") {\n      throw new TypeError(\"Invalid URL\");\n    }\n\n    this._url = parsedURL;\n  }\n\n  get origin() {\n    return usm.serializeURLOrigin(this._url);\n  }\n\n  get protocol() {\n    return this._url.scheme + \":\";\n  }\n\n  set protocol(v) {\n    usm.basicURLParse(v + \":\", { url: this._url, stateOverride: \"scheme start\" });\n  }\n\n  get username() {\n    return this._url.username;\n  }\n\n  set username(v) {\n    if (usm.cannotHaveAUsernamePasswordPort(this._url)) {\n      return;\n    }\n\n    usm.setTheUsername(this._url, v);\n  }\n\n  get password() {\n    return this._url.password;\n  }\n\n  set password(v) {\n    if (usm.cannotHaveAUsernamePasswordPort(this._url)) {\n      return;\n    }\n\n    usm.setThePassword(this._url, v);\n  }\n\n  get host() {\n    const url = this._url;\n\n    if (url.host === null) {\n      return \"\";\n    }\n\n    if (url.port === null) {\n      return usm.serializeHost(url.host);\n    }\n\n    return usm.serializeHost(url.host) + \":\" + usm.serializeInteger(url.port);\n  }\n\n  set host(v) {\n    if (this._url.cannotBeABaseURL) {\n      return;\n    }\n\n    usm.basicURLParse(v, { url: this._url, stateOverride: \"host\" });\n  }\n\n  get hostname() {\n    if (this._url.host === null) {\n      return \"\";\n    }\n\n    return usm.serializeHost(this._url.host);\n  }\n\n  set hostname(v) {\n    if (this._url.cannotBeABaseURL) {\n      return;\n    }\n\n    usm.basicURLParse(v, { url: this._url, stateOverride: \"hostname\" });\n  }\n\n  get port() {\n    if (this._url.port === null) {\n      return \"\";\n    }\n\n    return usm.serializeInteger(this._url.port);\n  }\n\n  set port(v) {\n    if (usm.cannotHaveAUsernamePasswordPort(this._url)) {\n      return;\n    }\n\n    if (v === \"\") {\n      this._url.port = null;\n    } else {\n      usm.basicURLParse(v, { url: this._url, stateOverride: \"port\" });\n    }\n  }\n\n  get pathname() {\n    if (this._url.cannotBeABaseURL) {\n      return this._url.path[0];\n    }\n\n    if (this._url.path.length === 0) {\n      return \"\";\n    }\n\n    return \"/\" + this._url.path.join(\"/\");\n  }\n\n  set pathname(v) {\n    if (this._url.cannotBeABaseURL) {\n      return;\n    }\n\n    this._url.path = [];\n    usm.basicURLParse(v, { url: this._url, stateOverride: \"path start\" });\n  }\n\n  get search() {\n    if (this._url.query === null || this._url.query === \"\") {\n      return \"\";\n    }\n\n    return \"?\" + this._url.query;\n  }\n\n  set search(v) {\n    // TODO: query stuff\n\n    const url = this._url;\n\n    if (v === \"\") {\n      url.query = null;\n      return;\n    }\n\n    const input = v[0] === \"?\" ? v.substring(1) : v;\n    url.query = \"\";\n    usm.basicURLParse(input, { url, stateOverride: \"query\" });\n  }\n\n  get hash() {\n    if (this._url.fragment === null || this._url.fragment === \"\") {\n      return \"\";\n    }\n\n    return \"#\" + this._url.fragment;\n  }\n\n  set hash(v) {\n    if (v === \"\") {\n      this._url.fragment = null;\n      return;\n    }\n\n    const input = v[0] === \"#\" ? v.substring(1) : v;\n    this._url.fragment = \"\";\n    usm.basicURLParse(input, { url: this._url, stateOverride: \"fragment\" });\n  }\n\n  toJSON() {\n    return this.href;\n  }\n};\n","\"use strict\";\n\nconst conversions = require(\"webidl-conversions\");\nconst utils = require(\"./utils.js\");\nconst Impl = require(\".//URL-impl.js\");\n\nconst impl = utils.implSymbol;\n\nfunction URL(url) {\n  if (!this || this[impl] || !(this instanceof URL)) {\n    throw new TypeError(\"Failed to construct 'URL': Please use the 'new' operator, this DOM object constructor cannot be called as a function.\");\n  }\n  if (arguments.length < 1) {\n    throw new TypeError(\"Failed to construct 'URL': 1 argument required, but only \" + arguments.length + \" present.\");\n  }\n  const args = [];\n  for (let i = 0; i < arguments.length && i < 2; ++i) {\n    args[i] = arguments[i];\n  }\n  args[0] = conversions[\"USVString\"](args[0]);\n  if (args[1] !== undefined) {\n  args[1] = conversions[\"USVString\"](args[1]);\n  }\n\n  module.exports.setup(this, args);\n}\n\nURL.prototype.toJSON = function toJSON() {\n  if (!this || !module.exports.is(this)) {\n    throw new TypeError(\"Illegal invocation\");\n  }\n  const args = [];\n  for (let i = 0; i < arguments.length && i < 0; ++i) {\n    args[i] = arguments[i];\n  }\n  return this[impl].toJSON.apply(this[impl], args);\n};\nObject.defineProperty(URL.prototype, \"href\", {\n  get() {\n    return this[impl].href;\n  },\n  set(V) {\n    V = conversions[\"USVString\"](V);\n    this[impl].href = V;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nURL.prototype.toString = function () {\n  if (!this || !module.exports.is(this)) {\n    throw new TypeError(\"Illegal invocation\");\n  }\n  return this.href;\n};\n\nObject.defineProperty(URL.prototype, \"origin\", {\n  get() {\n    return this[impl].origin;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nObject.defineProperty(URL.prototype, \"protocol\", {\n  get() {\n    return this[impl].protocol;\n  },\n  set(V) {\n    V = conversions[\"USVString\"](V);\n    this[impl].protocol = V;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nObject.defineProperty(URL.prototype, \"username\", {\n  get() {\n    return this[impl].username;\n  },\n  set(V) {\n    V = conversions[\"USVString\"](V);\n    this[impl].username = V;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nObject.defineProperty(URL.prototype, \"password\", {\n  get() {\n    return this[impl].password;\n  },\n  set(V) {\n    V = conversions[\"USVString\"](V);\n    this[impl].password = V;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nObject.defineProperty(URL.prototype, \"host\", {\n  get() {\n    return this[impl].host;\n  },\n  set(V) {\n    V = conversions[\"USVString\"](V);\n    this[impl].host = V;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nObject.defineProperty(URL.prototype, \"hostname\", {\n  get() {\n    return this[impl].hostname;\n  },\n  set(V) {\n    V = conversions[\"USVString\"](V);\n    this[impl].hostname = V;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nObject.defineProperty(URL.prototype, \"port\", {\n  get() {\n    return this[impl].port;\n  },\n  set(V) {\n    V = conversions[\"USVString\"](V);\n    this[impl].port = V;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nObject.defineProperty(URL.prototype, \"pathname\", {\n  get() {\n    return this[impl].pathname;\n  },\n  set(V) {\n    V = conversions[\"USVString\"](V);\n    this[impl].pathname = V;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nObject.defineProperty(URL.prototype, \"search\", {\n  get() {\n    return this[impl].search;\n  },\n  set(V) {\n    V = conversions[\"USVString\"](V);\n    this[impl].search = V;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nObject.defineProperty(URL.prototype, \"hash\", {\n  get() {\n    return this[impl].hash;\n  },\n  set(V) {\n    V = conversions[\"USVString\"](V);\n    this[impl].hash = V;\n  },\n  enumerable: true,\n  configurable: true\n});\n\n\nmodule.exports = {\n  is(obj) {\n    return !!obj && obj[impl] instanceof Impl.implementation;\n  },\n  create(constructorArgs, privateData) {\n    let obj = Object.create(URL.prototype);\n    this.setup(obj, constructorArgs, privateData);\n    return obj;\n  },\n  setup(obj, constructorArgs, privateData) {\n    if (!privateData) privateData = {};\n    privateData.wrapper = obj;\n\n    obj[impl] = new Impl.implementation(constructorArgs, privateData);\n    obj[impl][utils.wrapperSymbol] = obj;\n  },\n  interface: URL,\n  expose: {\n    Window: { URL: URL },\n    Worker: { URL: URL }\n  }\n};\n\n","\"use strict\";\n\nexports.URL = require(\"./URL\").interface;\nexports.serializeURL = require(\"./url-state-machine\").serializeURL;\nexports.serializeURLOrigin = require(\"./url-state-machine\").serializeURLOrigin;\nexports.basicURLParse = require(\"./url-state-machine\").basicURLParse;\nexports.setTheUsername = require(\"./url-state-machine\").setTheUsername;\nexports.setThePassword = require(\"./url-state-machine\").setThePassword;\nexports.serializeHost = require(\"./url-state-machine\").serializeHost;\nexports.serializeInteger = require(\"./url-state-machine\").serializeInteger;\nexports.parseURL = require(\"./url-state-machine\").parseURL;\n","import Stream from 'stream';\nimport http from 'http';\nimport Url from 'url';\nimport whatwgUrl from 'whatwg-url';\nimport https from 'https';\nimport zlib from 'zlib';\n\n// Based on https://github.com/tmpvar/jsdom/blob/aa85b2abf07766ff7bf5c1f6daafb3726f2f2db5/lib/jsdom/living/blob.js\n\n// fix for \"Readable\" isn't a named export issue\nconst Readable = Stream.Readable;\n\nconst BUFFER = Symbol('buffer');\nconst TYPE = Symbol('type');\n\nclass Blob {\n\tconstructor() {\n\t\tthis[TYPE] = '';\n\n\t\tconst blobParts = arguments[0];\n\t\tconst options = arguments[1];\n\n\t\tconst buffers = [];\n\t\tlet size = 0;\n\n\t\tif (blobParts) {\n\t\t\tconst a = blobParts;\n\t\t\tconst length = Number(a.length);\n\t\t\tfor (let i = 0; i < length; i++) {\n\t\t\t\tconst element = a[i];\n\t\t\t\tlet buffer;\n\t\t\t\tif (element instanceof Buffer) {\n\t\t\t\t\tbuffer = element;\n\t\t\t\t} else if (ArrayBuffer.isView(element)) {\n\t\t\t\t\tbuffer = Buffer.from(element.buffer, element.byteOffset, element.byteLength);\n\t\t\t\t} else if (element instanceof ArrayBuffer) {\n\t\t\t\t\tbuffer = Buffer.from(element);\n\t\t\t\t} else if (element instanceof Blob) {\n\t\t\t\t\tbuffer = element[BUFFER];\n\t\t\t\t} else {\n\t\t\t\t\tbuffer = Buffer.from(typeof element === 'string' ? element : String(element));\n\t\t\t\t}\n\t\t\t\tsize += buffer.length;\n\t\t\t\tbuffers.push(buffer);\n\t\t\t}\n\t\t}\n\n\t\tthis[BUFFER] = Buffer.concat(buffers);\n\n\t\tlet type = options && options.type !== undefined && String(options.type).toLowerCase();\n\t\tif (type && !/[^\\u0020-\\u007E]/.test(type)) {\n\t\t\tthis[TYPE] = type;\n\t\t}\n\t}\n\tget size() {\n\t\treturn this[BUFFER].length;\n\t}\n\tget type() {\n\t\treturn this[TYPE];\n\t}\n\ttext() {\n\t\treturn Promise.resolve(this[BUFFER].toString());\n\t}\n\tarrayBuffer() {\n\t\tconst buf = this[BUFFER];\n\t\tconst ab = buf.buffer.slice(buf.byteOffset, buf.byteOffset + buf.byteLength);\n\t\treturn Promise.resolve(ab);\n\t}\n\tstream() {\n\t\tconst readable = new Readable();\n\t\treadable._read = function () {};\n\t\treadable.push(this[BUFFER]);\n\t\treadable.push(null);\n\t\treturn readable;\n\t}\n\ttoString() {\n\t\treturn '[object Blob]';\n\t}\n\tslice() {\n\t\tconst size = this.size;\n\n\t\tconst start = arguments[0];\n\t\tconst end = arguments[1];\n\t\tlet relativeStart, relativeEnd;\n\t\tif (start === undefined) {\n\t\t\trelativeStart = 0;\n\t\t} else if (start < 0) {\n\t\t\trelativeStart = Math.max(size + start, 0);\n\t\t} else {\n\t\t\trelativeStart = Math.min(start, size);\n\t\t}\n\t\tif (end === undefined) {\n\t\t\trelativeEnd = size;\n\t\t} else if (end < 0) {\n\t\t\trelativeEnd = Math.max(size + end, 0);\n\t\t} else {\n\t\t\trelativeEnd = Math.min(end, size);\n\t\t}\n\t\tconst span = Math.max(relativeEnd - relativeStart, 0);\n\n\t\tconst buffer = this[BUFFER];\n\t\tconst slicedBuffer = buffer.slice(relativeStart, relativeStart + span);\n\t\tconst blob = new Blob([], { type: arguments[2] });\n\t\tblob[BUFFER] = slicedBuffer;\n\t\treturn blob;\n\t}\n}\n\nObject.defineProperties(Blob.prototype, {\n\tsize: { enumerable: true },\n\ttype: { enumerable: true },\n\tslice: { enumerable: true }\n});\n\nObject.defineProperty(Blob.prototype, Symbol.toStringTag, {\n\tvalue: 'Blob',\n\twritable: false,\n\tenumerable: false,\n\tconfigurable: true\n});\n\n/**\n * fetch-error.js\n *\n * FetchError interface for operational errors\n */\n\n/**\n * Create FetchError instance\n *\n * @param   String      message      Error message for human\n * @param   String      type         Error type for machine\n * @param   String      systemError  For Node.js system error\n * @return  FetchError\n */\nfunction FetchError(message, type, systemError) {\n  Error.call(this, message);\n\n  this.message = message;\n  this.type = type;\n\n  // when err.type is `system`, err.code contains system error code\n  if (systemError) {\n    this.code = this.errno = systemError.code;\n  }\n\n  // hide custom error implementation details from end-users\n  Error.captureStackTrace(this, this.constructor);\n}\n\nFetchError.prototype = Object.create(Error.prototype);\nFetchError.prototype.constructor = FetchError;\nFetchError.prototype.name = 'FetchError';\n\nlet convert;\ntry {\n\tconvert = require('encoding').convert;\n} catch (e) {}\n\nconst INTERNALS = Symbol('Body internals');\n\n// fix an issue where \"PassThrough\" isn't a named export for node <10\nconst PassThrough = Stream.PassThrough;\n\n/**\n * Body mixin\n *\n * Ref: https://fetch.spec.whatwg.org/#body\n *\n * @param   Stream  body  Readable stream\n * @param   Object  opts  Response options\n * @return  Void\n */\nfunction Body(body) {\n\tvar _this = this;\n\n\tvar _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n\t    _ref$size = _ref.size;\n\n\tlet size = _ref$size === undefined ? 0 : _ref$size;\n\tvar _ref$timeout = _ref.timeout;\n\tlet timeout = _ref$timeout === undefined ? 0 : _ref$timeout;\n\n\tif (body == null) {\n\t\t// body is undefined or null\n\t\tbody = null;\n\t} else if (isURLSearchParams(body)) {\n\t\t// body is a URLSearchParams\n\t\tbody = Buffer.from(body.toString());\n\t} else if (isBlob(body)) ; else if (Buffer.isBuffer(body)) ; else if (Object.prototype.toString.call(body) === '[object ArrayBuffer]') {\n\t\t// body is ArrayBuffer\n\t\tbody = Buffer.from(body);\n\t} else if (ArrayBuffer.isView(body)) {\n\t\t// body is ArrayBufferView\n\t\tbody = Buffer.from(body.buffer, body.byteOffset, body.byteLength);\n\t} else if (body instanceof Stream) ; else {\n\t\t// none of the above\n\t\t// coerce to string then buffer\n\t\tbody = Buffer.from(String(body));\n\t}\n\tthis[INTERNALS] = {\n\t\tbody,\n\t\tdisturbed: false,\n\t\terror: null\n\t};\n\tthis.size = size;\n\tthis.timeout = timeout;\n\n\tif (body instanceof Stream) {\n\t\tbody.on('error', function (err) {\n\t\t\tconst error = err.name === 'AbortError' ? err : new FetchError(`Invalid response body while trying to fetch ${_this.url}: ${err.message}`, 'system', err);\n\t\t\t_this[INTERNALS].error = error;\n\t\t});\n\t}\n}\n\nBody.prototype = {\n\tget body() {\n\t\treturn this[INTERNALS].body;\n\t},\n\n\tget bodyUsed() {\n\t\treturn this[INTERNALS].disturbed;\n\t},\n\n\t/**\n  * Decode response as ArrayBuffer\n  *\n  * @return  Promise\n  */\n\tarrayBuffer() {\n\t\treturn consumeBody.call(this).then(function (buf) {\n\t\t\treturn buf.buffer.slice(buf.byteOffset, buf.byteOffset + buf.byteLength);\n\t\t});\n\t},\n\n\t/**\n  * Return raw response as Blob\n  *\n  * @return Promise\n  */\n\tblob() {\n\t\tlet ct = this.headers && this.headers.get('content-type') || '';\n\t\treturn consumeBody.call(this).then(function (buf) {\n\t\t\treturn Object.assign(\n\t\t\t// Prevent copying\n\t\t\tnew Blob([], {\n\t\t\t\ttype: ct.toLowerCase()\n\t\t\t}), {\n\t\t\t\t[BUFFER]: buf\n\t\t\t});\n\t\t});\n\t},\n\n\t/**\n  * Decode response as json\n  *\n  * @return  Promise\n  */\n\tjson() {\n\t\tvar _this2 = this;\n\n\t\treturn consumeBody.call(this).then(function (buffer) {\n\t\t\ttry {\n\t\t\t\treturn JSON.parse(buffer.toString());\n\t\t\t} catch (err) {\n\t\t\t\treturn Body.Promise.reject(new FetchError(`invalid json response body at ${_this2.url} reason: ${err.message}`, 'invalid-json'));\n\t\t\t}\n\t\t});\n\t},\n\n\t/**\n  * Decode response as text\n  *\n  * @return  Promise\n  */\n\ttext() {\n\t\treturn consumeBody.call(this).then(function (buffer) {\n\t\t\treturn buffer.toString();\n\t\t});\n\t},\n\n\t/**\n  * Decode response as buffer (non-spec api)\n  *\n  * @return  Promise\n  */\n\tbuffer() {\n\t\treturn consumeBody.call(this);\n\t},\n\n\t/**\n  * Decode response as text, while automatically detecting the encoding and\n  * trying to decode to UTF-8 (non-spec api)\n  *\n  * @return  Promise\n  */\n\ttextConverted() {\n\t\tvar _this3 = this;\n\n\t\treturn consumeBody.call(this).then(function (buffer) {\n\t\t\treturn convertBody(buffer, _this3.headers);\n\t\t});\n\t}\n};\n\n// In browsers, all properties are enumerable.\nObject.defineProperties(Body.prototype, {\n\tbody: { enumerable: true },\n\tbodyUsed: { enumerable: true },\n\tarrayBuffer: { enumerable: true },\n\tblob: { enumerable: true },\n\tjson: { enumerable: true },\n\ttext: { enumerable: true }\n});\n\nBody.mixIn = function (proto) {\n\tfor (const name of Object.getOwnPropertyNames(Body.prototype)) {\n\t\t// istanbul ignore else: future proof\n\t\tif (!(name in proto)) {\n\t\t\tconst desc = Object.getOwnPropertyDescriptor(Body.prototype, name);\n\t\t\tObject.defineProperty(proto, name, desc);\n\t\t}\n\t}\n};\n\n/**\n * Consume and convert an entire Body to a Buffer.\n *\n * Ref: https://fetch.spec.whatwg.org/#concept-body-consume-body\n *\n * @return  Promise\n */\nfunction consumeBody() {\n\tvar _this4 = this;\n\n\tif (this[INTERNALS].disturbed) {\n\t\treturn Body.Promise.reject(new TypeError(`body used already for: ${this.url}`));\n\t}\n\n\tthis[INTERNALS].disturbed = true;\n\n\tif (this[INTERNALS].error) {\n\t\treturn Body.Promise.reject(this[INTERNALS].error);\n\t}\n\n\tlet body = this.body;\n\n\t// body is null\n\tif (body === null) {\n\t\treturn Body.Promise.resolve(Buffer.alloc(0));\n\t}\n\n\t// body is blob\n\tif (isBlob(body)) {\n\t\tbody = body.stream();\n\t}\n\n\t// body is buffer\n\tif (Buffer.isBuffer(body)) {\n\t\treturn Body.Promise.resolve(body);\n\t}\n\n\t// istanbul ignore if: should never happen\n\tif (!(body instanceof Stream)) {\n\t\treturn Body.Promise.resolve(Buffer.alloc(0));\n\t}\n\n\t// body is stream\n\t// get ready to actually consume the body\n\tlet accum = [];\n\tlet accumBytes = 0;\n\tlet abort = false;\n\n\treturn new Body.Promise(function (resolve, reject) {\n\t\tlet resTimeout;\n\n\t\t// allow timeout on slow response body\n\t\tif (_this4.timeout) {\n\t\t\tresTimeout = setTimeout(function () {\n\t\t\t\tabort = true;\n\t\t\t\treject(new FetchError(`Response timeout while trying to fetch ${_this4.url} (over ${_this4.timeout}ms)`, 'body-timeout'));\n\t\t\t}, _this4.timeout);\n\t\t}\n\n\t\t// handle stream errors\n\t\tbody.on('error', function (err) {\n\t\t\tif (err.name === 'AbortError') {\n\t\t\t\t// if the request was aborted, reject with this Error\n\t\t\t\tabort = true;\n\t\t\t\treject(err);\n\t\t\t} else {\n\t\t\t\t// other errors, such as incorrect content-encoding\n\t\t\t\treject(new FetchError(`Invalid response body while trying to fetch ${_this4.url}: ${err.message}`, 'system', err));\n\t\t\t}\n\t\t});\n\n\t\tbody.on('data', function (chunk) {\n\t\t\tif (abort || chunk === null) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (_this4.size && accumBytes + chunk.length > _this4.size) {\n\t\t\t\tabort = true;\n\t\t\t\treject(new FetchError(`content size at ${_this4.url} over limit: ${_this4.size}`, 'max-size'));\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\taccumBytes += chunk.length;\n\t\t\taccum.push(chunk);\n\t\t});\n\n\t\tbody.on('end', function () {\n\t\t\tif (abort) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tclearTimeout(resTimeout);\n\n\t\t\ttry {\n\t\t\t\tresolve(Buffer.concat(accum, accumBytes));\n\t\t\t} catch (err) {\n\t\t\t\t// handle streams that have accumulated too much data (issue #414)\n\t\t\t\treject(new FetchError(`Could not create Buffer from response body for ${_this4.url}: ${err.message}`, 'system', err));\n\t\t\t}\n\t\t});\n\t});\n}\n\n/**\n * Detect buffer encoding and convert to target encoding\n * ref: http://www.w3.org/TR/2011/WD-html5-20110113/parsing.html#determining-the-character-encoding\n *\n * @param   Buffer  buffer    Incoming buffer\n * @param   String  encoding  Target encoding\n * @return  String\n */\nfunction convertBody(buffer, headers) {\n\tif (typeof convert !== 'function') {\n\t\tthrow new Error('The package `encoding` must be installed to use the textConverted() function');\n\t}\n\n\tconst ct = headers.get('content-type');\n\tlet charset = 'utf-8';\n\tlet res, str;\n\n\t// header\n\tif (ct) {\n\t\tres = /charset=([^;]*)/i.exec(ct);\n\t}\n\n\t// no charset in content type, peek at response body for at most 1024 bytes\n\tstr = buffer.slice(0, 1024).toString();\n\n\t// html5\n\tif (!res && str) {\n\t\tres = /<meta.+?charset=(['\"])(.+?)\\1/i.exec(str);\n\t}\n\n\t// html4\n\tif (!res && str) {\n\t\tres = /<meta[\\s]+?http-equiv=(['\"])content-type\\1[\\s]+?content=(['\"])(.+?)\\2/i.exec(str);\n\t\tif (!res) {\n\t\t\tres = /<meta[\\s]+?content=(['\"])(.+?)\\1[\\s]+?http-equiv=(['\"])content-type\\3/i.exec(str);\n\t\t\tif (res) {\n\t\t\t\tres.pop(); // drop last quote\n\t\t\t}\n\t\t}\n\n\t\tif (res) {\n\t\t\tres = /charset=(.*)/i.exec(res.pop());\n\t\t}\n\t}\n\n\t// xml\n\tif (!res && str) {\n\t\tres = /<\\?xml.+?encoding=(['\"])(.+?)\\1/i.exec(str);\n\t}\n\n\t// found charset\n\tif (res) {\n\t\tcharset = res.pop();\n\n\t\t// prevent decode issues when sites use incorrect encoding\n\t\t// ref: https://hsivonen.fi/encoding-menu/\n\t\tif (charset === 'gb2312' || charset === 'gbk') {\n\t\t\tcharset = 'gb18030';\n\t\t}\n\t}\n\n\t// turn raw buffers into a single utf-8 buffer\n\treturn convert(buffer, 'UTF-8', charset).toString();\n}\n\n/**\n * Detect a URLSearchParams object\n * ref: https://github.com/bitinn/node-fetch/issues/296#issuecomment-307598143\n *\n * @param   Object  obj     Object to detect by type or brand\n * @return  String\n */\nfunction isURLSearchParams(obj) {\n\t// Duck-typing as a necessary condition.\n\tif (typeof obj !== 'object' || typeof obj.append !== 'function' || typeof obj.delete !== 'function' || typeof obj.get !== 'function' || typeof obj.getAll !== 'function' || typeof obj.has !== 'function' || typeof obj.set !== 'function') {\n\t\treturn false;\n\t}\n\n\t// Brand-checking and more duck-typing as optional condition.\n\treturn obj.constructor.name === 'URLSearchParams' || Object.prototype.toString.call(obj) === '[object URLSearchParams]' || typeof obj.sort === 'function';\n}\n\n/**\n * Check if `obj` is a W3C `Blob` object (which `File` inherits from)\n * @param  {*} obj\n * @return {boolean}\n */\nfunction isBlob(obj) {\n\treturn typeof obj === 'object' && typeof obj.arrayBuffer === 'function' && typeof obj.type === 'string' && typeof obj.stream === 'function' && typeof obj.constructor === 'function' && typeof obj.constructor.name === 'string' && /^(Blob|File)$/.test(obj.constructor.name) && /^(Blob|File)$/.test(obj[Symbol.toStringTag]);\n}\n\n/**\n * Clone body given Res/Req instance\n *\n * @param   Mixed  instance  Response or Request instance\n * @return  Mixed\n */\nfunction clone(instance) {\n\tlet p1, p2;\n\tlet body = instance.body;\n\n\t// don't allow cloning a used body\n\tif (instance.bodyUsed) {\n\t\tthrow new Error('cannot clone body after it is used');\n\t}\n\n\t// check that body is a stream and not form-data object\n\t// note: we can't clone the form-data object without having it as a dependency\n\tif (body instanceof Stream && typeof body.getBoundary !== 'function') {\n\t\t// tee instance body\n\t\tp1 = new PassThrough();\n\t\tp2 = new PassThrough();\n\t\tbody.pipe(p1);\n\t\tbody.pipe(p2);\n\t\t// set instance body to teed body and return the other teed body\n\t\tinstance[INTERNALS].body = p1;\n\t\tbody = p2;\n\t}\n\n\treturn body;\n}\n\n/**\n * Performs the operation \"extract a `Content-Type` value from |object|\" as\n * specified in the specification:\n * https://fetch.spec.whatwg.org/#concept-bodyinit-extract\n *\n * This function assumes that instance.body is present.\n *\n * @param   Mixed  instance  Any options.body input\n */\nfunction extractContentType(body) {\n\tif (body === null) {\n\t\t// body is null\n\t\treturn null;\n\t} else if (typeof body === 'string') {\n\t\t// body is string\n\t\treturn 'text/plain;charset=UTF-8';\n\t} else if (isURLSearchParams(body)) {\n\t\t// body is a URLSearchParams\n\t\treturn 'application/x-www-form-urlencoded;charset=UTF-8';\n\t} else if (isBlob(body)) {\n\t\t// body is blob\n\t\treturn body.type || null;\n\t} else if (Buffer.isBuffer(body)) {\n\t\t// body is buffer\n\t\treturn null;\n\t} else if (Object.prototype.toString.call(body) === '[object ArrayBuffer]') {\n\t\t// body is ArrayBuffer\n\t\treturn null;\n\t} else if (ArrayBuffer.isView(body)) {\n\t\t// body is ArrayBufferView\n\t\treturn null;\n\t} else if (typeof body.getBoundary === 'function') {\n\t\t// detect form data input from form-data module\n\t\treturn `multipart/form-data;boundary=${body.getBoundary()}`;\n\t} else if (body instanceof Stream) {\n\t\t// body is stream\n\t\t// can't really do much about this\n\t\treturn null;\n\t} else {\n\t\t// Body constructor defaults other things to string\n\t\treturn 'text/plain;charset=UTF-8';\n\t}\n}\n\n/**\n * The Fetch Standard treats this as if \"total bytes\" is a property on the body.\n * For us, we have to explicitly get it with a function.\n *\n * ref: https://fetch.spec.whatwg.org/#concept-body-total-bytes\n *\n * @param   Body    instance   Instance of Body\n * @return  Number?            Number of bytes, or null if not possible\n */\nfunction getTotalBytes(instance) {\n\tconst body = instance.body;\n\n\n\tif (body === null) {\n\t\t// body is null\n\t\treturn 0;\n\t} else if (isBlob(body)) {\n\t\treturn body.size;\n\t} else if (Buffer.isBuffer(body)) {\n\t\t// body is buffer\n\t\treturn body.length;\n\t} else if (body && typeof body.getLengthSync === 'function') {\n\t\t// detect form data input from form-data module\n\t\tif (body._lengthRetrievers && body._lengthRetrievers.length == 0 || // 1.x\n\t\tbody.hasKnownLength && body.hasKnownLength()) {\n\t\t\t// 2.x\n\t\t\treturn body.getLengthSync();\n\t\t}\n\t\treturn null;\n\t} else {\n\t\t// body is stream\n\t\treturn null;\n\t}\n}\n\n/**\n * Write a Body to a Node.js WritableStream (e.g. http.Request) object.\n *\n * @param   Body    instance   Instance of Body\n * @return  Void\n */\nfunction writeToStream(dest, instance) {\n\tconst body = instance.body;\n\n\n\tif (body === null) {\n\t\t// body is null\n\t\tdest.end();\n\t} else if (isBlob(body)) {\n\t\tbody.stream().pipe(dest);\n\t} else if (Buffer.isBuffer(body)) {\n\t\t// body is buffer\n\t\tdest.write(body);\n\t\tdest.end();\n\t} else {\n\t\t// body is stream\n\t\tbody.pipe(dest);\n\t}\n}\n\n// expose Promise\nBody.Promise = global.Promise;\n\n/**\n * headers.js\n *\n * Headers class offers convenient helpers\n */\n\nconst invalidTokenRegex = /[^\\^_`a-zA-Z\\-0-9!#$%&'*+.|~]/;\nconst invalidHeaderCharRegex = /[^\\t\\x20-\\x7e\\x80-\\xff]/;\n\nfunction validateName(name) {\n\tname = `${name}`;\n\tif (invalidTokenRegex.test(name) || name === '') {\n\t\tthrow new TypeError(`${name} is not a legal HTTP header name`);\n\t}\n}\n\nfunction validateValue(value) {\n\tvalue = `${value}`;\n\tif (invalidHeaderCharRegex.test(value)) {\n\t\tthrow new TypeError(`${value} is not a legal HTTP header value`);\n\t}\n}\n\n/**\n * Find the key in the map object given a header name.\n *\n * Returns undefined if not found.\n *\n * @param   String  name  Header name\n * @return  String|Undefined\n */\nfunction find(map, name) {\n\tname = name.toLowerCase();\n\tfor (const key in map) {\n\t\tif (key.toLowerCase() === name) {\n\t\t\treturn key;\n\t\t}\n\t}\n\treturn undefined;\n}\n\nconst MAP = Symbol('map');\nclass Headers {\n\t/**\n  * Headers class\n  *\n  * @param   Object  headers  Response headers\n  * @return  Void\n  */\n\tconstructor() {\n\t\tlet init = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : undefined;\n\n\t\tthis[MAP] = Object.create(null);\n\n\t\tif (init instanceof Headers) {\n\t\t\tconst rawHeaders = init.raw();\n\t\t\tconst headerNames = Object.keys(rawHeaders);\n\n\t\t\tfor (const headerName of headerNames) {\n\t\t\t\tfor (const value of rawHeaders[headerName]) {\n\t\t\t\t\tthis.append(headerName, value);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn;\n\t\t}\n\n\t\t// We don't worry about converting prop to ByteString here as append()\n\t\t// will handle it.\n\t\tif (init == null) ; else if (typeof init === 'object') {\n\t\t\tconst method = init[Symbol.iterator];\n\t\t\tif (method != null) {\n\t\t\t\tif (typeof method !== 'function') {\n\t\t\t\t\tthrow new TypeError('Header pairs must be iterable');\n\t\t\t\t}\n\n\t\t\t\t// sequence<sequence<ByteString>>\n\t\t\t\t// Note: per spec we have to first exhaust the lists then process them\n\t\t\t\tconst pairs = [];\n\t\t\t\tfor (const pair of init) {\n\t\t\t\t\tif (typeof pair !== 'object' || typeof pair[Symbol.iterator] !== 'function') {\n\t\t\t\t\t\tthrow new TypeError('Each header pair must be iterable');\n\t\t\t\t\t}\n\t\t\t\t\tpairs.push(Array.from(pair));\n\t\t\t\t}\n\n\t\t\t\tfor (const pair of pairs) {\n\t\t\t\t\tif (pair.length !== 2) {\n\t\t\t\t\t\tthrow new TypeError('Each header pair must be a name/value tuple');\n\t\t\t\t\t}\n\t\t\t\t\tthis.append(pair[0], pair[1]);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// record<ByteString, ByteString>\n\t\t\t\tfor (const key of Object.keys(init)) {\n\t\t\t\t\tconst value = init[key];\n\t\t\t\t\tthis.append(key, value);\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tthrow new TypeError('Provided initializer must be an object');\n\t\t}\n\t}\n\n\t/**\n  * Return combined header value given name\n  *\n  * @param   String  name  Header name\n  * @return  Mixed\n  */\n\tget(name) {\n\t\tname = `${name}`;\n\t\tvalidateName(name);\n\t\tconst key = find(this[MAP], name);\n\t\tif (key === undefined) {\n\t\t\treturn null;\n\t\t}\n\n\t\treturn this[MAP][key].join(', ');\n\t}\n\n\t/**\n  * Iterate over all headers\n  *\n  * @param   Function  callback  Executed for each item with parameters (value, name, thisArg)\n  * @param   Boolean   thisArg   `this` context for callback function\n  * @return  Void\n  */\n\tforEach(callback) {\n\t\tlet thisArg = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : undefined;\n\n\t\tlet pairs = getHeaders(this);\n\t\tlet i = 0;\n\t\twhile (i < pairs.length) {\n\t\t\tvar _pairs$i = pairs[i];\n\t\t\tconst name = _pairs$i[0],\n\t\t\t      value = _pairs$i[1];\n\n\t\t\tcallback.call(thisArg, value, name, this);\n\t\t\tpairs = getHeaders(this);\n\t\t\ti++;\n\t\t}\n\t}\n\n\t/**\n  * Overwrite header values given name\n  *\n  * @param   String  name   Header name\n  * @param   String  value  Header value\n  * @return  Void\n  */\n\tset(name, value) {\n\t\tname = `${name}`;\n\t\tvalue = `${value}`;\n\t\tvalidateName(name);\n\t\tvalidateValue(value);\n\t\tconst key = find(this[MAP], name);\n\t\tthis[MAP][key !== undefined ? key : name] = [value];\n\t}\n\n\t/**\n  * Append a value onto existing header\n  *\n  * @param   String  name   Header name\n  * @param   String  value  Header value\n  * @return  Void\n  */\n\tappend(name, value) {\n\t\tname = `${name}`;\n\t\tvalue = `${value}`;\n\t\tvalidateName(name);\n\t\tvalidateValue(value);\n\t\tconst key = find(this[MAP], name);\n\t\tif (key !== undefined) {\n\t\t\tthis[MAP][key].push(value);\n\t\t} else {\n\t\t\tthis[MAP][name] = [value];\n\t\t}\n\t}\n\n\t/**\n  * Check for header name existence\n  *\n  * @param   String   name  Header name\n  * @return  Boolean\n  */\n\thas(name) {\n\t\tname = `${name}`;\n\t\tvalidateName(name);\n\t\treturn find(this[MAP], name) !== undefined;\n\t}\n\n\t/**\n  * Delete all header values given name\n  *\n  * @param   String  name  Header name\n  * @return  Void\n  */\n\tdelete(name) {\n\t\tname = `${name}`;\n\t\tvalidateName(name);\n\t\tconst key = find(this[MAP], name);\n\t\tif (key !== undefined) {\n\t\t\tdelete this[MAP][key];\n\t\t}\n\t}\n\n\t/**\n  * Return raw headers (non-spec api)\n  *\n  * @return  Object\n  */\n\traw() {\n\t\treturn this[MAP];\n\t}\n\n\t/**\n  * Get an iterator on keys.\n  *\n  * @return  Iterator\n  */\n\tkeys() {\n\t\treturn createHeadersIterator(this, 'key');\n\t}\n\n\t/**\n  * Get an iterator on values.\n  *\n  * @return  Iterator\n  */\n\tvalues() {\n\t\treturn createHeadersIterator(this, 'value');\n\t}\n\n\t/**\n  * Get an iterator on entries.\n  *\n  * This is the default iterator of the Headers object.\n  *\n  * @return  Iterator\n  */\n\t[Symbol.iterator]() {\n\t\treturn createHeadersIterator(this, 'key+value');\n\t}\n}\nHeaders.prototype.entries = Headers.prototype[Symbol.iterator];\n\nObject.defineProperty(Headers.prototype, Symbol.toStringTag, {\n\tvalue: 'Headers',\n\twritable: false,\n\tenumerable: false,\n\tconfigurable: true\n});\n\nObject.defineProperties(Headers.prototype, {\n\tget: { enumerable: true },\n\tforEach: { enumerable: true },\n\tset: { enumerable: true },\n\tappend: { enumerable: true },\n\thas: { enumerable: true },\n\tdelete: { enumerable: true },\n\tkeys: { enumerable: true },\n\tvalues: { enumerable: true },\n\tentries: { enumerable: true }\n});\n\nfunction getHeaders(headers) {\n\tlet kind = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'key+value';\n\n\tconst keys = Object.keys(headers[MAP]).sort();\n\treturn keys.map(kind === 'key' ? function (k) {\n\t\treturn k.toLowerCase();\n\t} : kind === 'value' ? function (k) {\n\t\treturn headers[MAP][k].join(', ');\n\t} : function (k) {\n\t\treturn [k.toLowerCase(), headers[MAP][k].join(', ')];\n\t});\n}\n\nconst INTERNAL = Symbol('internal');\n\nfunction createHeadersIterator(target, kind) {\n\tconst iterator = Object.create(HeadersIteratorPrototype);\n\titerator[INTERNAL] = {\n\t\ttarget,\n\t\tkind,\n\t\tindex: 0\n\t};\n\treturn iterator;\n}\n\nconst HeadersIteratorPrototype = Object.setPrototypeOf({\n\tnext() {\n\t\t// istanbul ignore if\n\t\tif (!this || Object.getPrototypeOf(this) !== HeadersIteratorPrototype) {\n\t\t\tthrow new TypeError('Value of `this` is not a HeadersIterator');\n\t\t}\n\n\t\tvar _INTERNAL = this[INTERNAL];\n\t\tconst target = _INTERNAL.target,\n\t\t      kind = _INTERNAL.kind,\n\t\t      index = _INTERNAL.index;\n\n\t\tconst values = getHeaders(target, kind);\n\t\tconst len = values.length;\n\t\tif (index >= len) {\n\t\t\treturn {\n\t\t\t\tvalue: undefined,\n\t\t\t\tdone: true\n\t\t\t};\n\t\t}\n\n\t\tthis[INTERNAL].index = index + 1;\n\n\t\treturn {\n\t\t\tvalue: values[index],\n\t\t\tdone: false\n\t\t};\n\t}\n}, Object.getPrototypeOf(Object.getPrototypeOf([][Symbol.iterator]())));\n\nObject.defineProperty(HeadersIteratorPrototype, Symbol.toStringTag, {\n\tvalue: 'HeadersIterator',\n\twritable: false,\n\tenumerable: false,\n\tconfigurable: true\n});\n\n/**\n * Export the Headers object in a form that Node.js can consume.\n *\n * @param   Headers  headers\n * @return  Object\n */\nfunction exportNodeCompatibleHeaders(headers) {\n\tconst obj = Object.assign({ __proto__: null }, headers[MAP]);\n\n\t// http.request() only supports string as Host header. This hack makes\n\t// specifying custom Host header possible.\n\tconst hostHeaderKey = find(headers[MAP], 'Host');\n\tif (hostHeaderKey !== undefined) {\n\t\tobj[hostHeaderKey] = obj[hostHeaderKey][0];\n\t}\n\n\treturn obj;\n}\n\n/**\n * Create a Headers object from an object of headers, ignoring those that do\n * not conform to HTTP grammar productions.\n *\n * @param   Object  obj  Object of headers\n * @return  Headers\n */\nfunction createHeadersLenient(obj) {\n\tconst headers = new Headers();\n\tfor (const name of Object.keys(obj)) {\n\t\tif (invalidTokenRegex.test(name)) {\n\t\t\tcontinue;\n\t\t}\n\t\tif (Array.isArray(obj[name])) {\n\t\t\tfor (const val of obj[name]) {\n\t\t\t\tif (invalidHeaderCharRegex.test(val)) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tif (headers[MAP][name] === undefined) {\n\t\t\t\t\theaders[MAP][name] = [val];\n\t\t\t\t} else {\n\t\t\t\t\theaders[MAP][name].push(val);\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (!invalidHeaderCharRegex.test(obj[name])) {\n\t\t\theaders[MAP][name] = [obj[name]];\n\t\t}\n\t}\n\treturn headers;\n}\n\nconst INTERNALS$1 = Symbol('Response internals');\n\n// fix an issue where \"STATUS_CODES\" aren't a named export for node <10\nconst STATUS_CODES = http.STATUS_CODES;\n\n/**\n * Response class\n *\n * @param   Stream  body  Readable stream\n * @param   Object  opts  Response options\n * @return  Void\n */\nclass Response {\n\tconstructor() {\n\t\tlet body = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\t\tlet opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n\t\tBody.call(this, body, opts);\n\n\t\tconst status = opts.status || 200;\n\t\tconst headers = new Headers(opts.headers);\n\n\t\tif (body != null && !headers.has('Content-Type')) {\n\t\t\tconst contentType = extractContentType(body);\n\t\t\tif (contentType) {\n\t\t\t\theaders.append('Content-Type', contentType);\n\t\t\t}\n\t\t}\n\n\t\tthis[INTERNALS$1] = {\n\t\t\turl: opts.url,\n\t\t\tstatus,\n\t\t\tstatusText: opts.statusText || STATUS_CODES[status],\n\t\t\theaders,\n\t\t\tcounter: opts.counter\n\t\t};\n\t}\n\n\tget url() {\n\t\treturn this[INTERNALS$1].url || '';\n\t}\n\n\tget status() {\n\t\treturn this[INTERNALS$1].status;\n\t}\n\n\t/**\n  * Convenience property representing if the request ended normally\n  */\n\tget ok() {\n\t\treturn this[INTERNALS$1].status >= 200 && this[INTERNALS$1].status < 300;\n\t}\n\n\tget redirected() {\n\t\treturn this[INTERNALS$1].counter > 0;\n\t}\n\n\tget statusText() {\n\t\treturn this[INTERNALS$1].statusText;\n\t}\n\n\tget headers() {\n\t\treturn this[INTERNALS$1].headers;\n\t}\n\n\t/**\n  * Clone this response\n  *\n  * @return  Response\n  */\n\tclone() {\n\t\treturn new Response(clone(this), {\n\t\t\turl: this.url,\n\t\t\tstatus: this.status,\n\t\t\tstatusText: this.statusText,\n\t\t\theaders: this.headers,\n\t\t\tok: this.ok,\n\t\t\tredirected: this.redirected\n\t\t});\n\t}\n}\n\nBody.mixIn(Response.prototype);\n\nObject.defineProperties(Response.prototype, {\n\turl: { enumerable: true },\n\tstatus: { enumerable: true },\n\tok: { enumerable: true },\n\tredirected: { enumerable: true },\n\tstatusText: { enumerable: true },\n\theaders: { enumerable: true },\n\tclone: { enumerable: true }\n});\n\nObject.defineProperty(Response.prototype, Symbol.toStringTag, {\n\tvalue: 'Response',\n\twritable: false,\n\tenumerable: false,\n\tconfigurable: true\n});\n\nconst INTERNALS$2 = Symbol('Request internals');\nconst URL = Url.URL || whatwgUrl.URL;\n\n// fix an issue where \"format\", \"parse\" aren't a named export for node <10\nconst parse_url = Url.parse;\nconst format_url = Url.format;\n\n/**\n * Wrapper around `new URL` to handle arbitrary URLs\n *\n * @param  {string} urlStr\n * @return {void}\n */\nfunction parseURL(urlStr) {\n\t/*\n \tCheck whether the URL is absolute or not\n \t\tScheme: https://tools.ietf.org/html/rfc3986#section-3.1\n \tAbsolute URL: https://tools.ietf.org/html/rfc3986#section-4.3\n */\n\tif (/^[a-zA-Z][a-zA-Z\\d+\\-.]*:/.exec(urlStr)) {\n\t\turlStr = new URL(urlStr).toString();\n\t}\n\n\t// Fallback to old implementation for arbitrary URLs\n\treturn parse_url(urlStr);\n}\n\nconst streamDestructionSupported = 'destroy' in Stream.Readable.prototype;\n\n/**\n * Check if a value is an instance of Request.\n *\n * @param   Mixed   input\n * @return  Boolean\n */\nfunction isRequest(input) {\n\treturn typeof input === 'object' && typeof input[INTERNALS$2] === 'object';\n}\n\nfunction isAbortSignal(signal) {\n\tconst proto = signal && typeof signal === 'object' && Object.getPrototypeOf(signal);\n\treturn !!(proto && proto.constructor.name === 'AbortSignal');\n}\n\n/**\n * Request class\n *\n * @param   Mixed   input  Url or Request instance\n * @param   Object  init   Custom options\n * @return  Void\n */\nclass Request {\n\tconstructor(input) {\n\t\tlet init = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n\t\tlet parsedURL;\n\n\t\t// normalize input\n\t\tif (!isRequest(input)) {\n\t\t\tif (input && input.href) {\n\t\t\t\t// in order to support Node.js' Url objects; though WHATWG's URL objects\n\t\t\t\t// will fall into this branch also (since their `toString()` will return\n\t\t\t\t// `href` property anyway)\n\t\t\t\tparsedURL = parseURL(input.href);\n\t\t\t} else {\n\t\t\t\t// coerce input to a string before attempting to parse\n\t\t\t\tparsedURL = parseURL(`${input}`);\n\t\t\t}\n\t\t\tinput = {};\n\t\t} else {\n\t\t\tparsedURL = parseURL(input.url);\n\t\t}\n\n\t\tlet method = init.method || input.method || 'GET';\n\t\tmethod = method.toUpperCase();\n\n\t\tif ((init.body != null || isRequest(input) && input.body !== null) && (method === 'GET' || method === 'HEAD')) {\n\t\t\tthrow new TypeError('Request with GET/HEAD method cannot have body');\n\t\t}\n\n\t\tlet inputBody = init.body != null ? init.body : isRequest(input) && input.body !== null ? clone(input) : null;\n\n\t\tBody.call(this, inputBody, {\n\t\t\ttimeout: init.timeout || input.timeout || 0,\n\t\t\tsize: init.size || input.size || 0\n\t\t});\n\n\t\tconst headers = new Headers(init.headers || input.headers || {});\n\n\t\tif (inputBody != null && !headers.has('Content-Type')) {\n\t\t\tconst contentType = extractContentType(inputBody);\n\t\t\tif (contentType) {\n\t\t\t\theaders.append('Content-Type', contentType);\n\t\t\t}\n\t\t}\n\n\t\tlet signal = isRequest(input) ? input.signal : null;\n\t\tif ('signal' in init) signal = init.signal;\n\n\t\tif (signal != null && !isAbortSignal(signal)) {\n\t\t\tthrow new TypeError('Expected signal to be an instanceof AbortSignal');\n\t\t}\n\n\t\tthis[INTERNALS$2] = {\n\t\t\tmethod,\n\t\t\tredirect: init.redirect || input.redirect || 'follow',\n\t\t\theaders,\n\t\t\tparsedURL,\n\t\t\tsignal\n\t\t};\n\n\t\t// node-fetch-only options\n\t\tthis.follow = init.follow !== undefined ? init.follow : input.follow !== undefined ? input.follow : 20;\n\t\tthis.compress = init.compress !== undefined ? init.compress : input.compress !== undefined ? input.compress : true;\n\t\tthis.counter = init.counter || input.counter || 0;\n\t\tthis.agent = init.agent || input.agent;\n\t}\n\n\tget method() {\n\t\treturn this[INTERNALS$2].method;\n\t}\n\n\tget url() {\n\t\treturn format_url(this[INTERNALS$2].parsedURL);\n\t}\n\n\tget headers() {\n\t\treturn this[INTERNALS$2].headers;\n\t}\n\n\tget redirect() {\n\t\treturn this[INTERNALS$2].redirect;\n\t}\n\n\tget signal() {\n\t\treturn this[INTERNALS$2].signal;\n\t}\n\n\t/**\n  * Clone this request\n  *\n  * @return  Request\n  */\n\tclone() {\n\t\treturn new Request(this);\n\t}\n}\n\nBody.mixIn(Request.prototype);\n\nObject.defineProperty(Request.prototype, Symbol.toStringTag, {\n\tvalue: 'Request',\n\twritable: false,\n\tenumerable: false,\n\tconfigurable: true\n});\n\nObject.defineProperties(Request.prototype, {\n\tmethod: { enumerable: true },\n\turl: { enumerable: true },\n\theaders: { enumerable: true },\n\tredirect: { enumerable: true },\n\tclone: { enumerable: true },\n\tsignal: { enumerable: true }\n});\n\n/**\n * Convert a Request to Node.js http request options.\n *\n * @param   Request  A Request instance\n * @return  Object   The options object to be passed to http.request\n */\nfunction getNodeRequestOptions(request) {\n\tconst parsedURL = request[INTERNALS$2].parsedURL;\n\tconst headers = new Headers(request[INTERNALS$2].headers);\n\n\t// fetch step 1.3\n\tif (!headers.has('Accept')) {\n\t\theaders.set('Accept', '*/*');\n\t}\n\n\t// Basic fetch\n\tif (!parsedURL.protocol || !parsedURL.hostname) {\n\t\tthrow new TypeError('Only absolute URLs are supported');\n\t}\n\n\tif (!/^https?:$/.test(parsedURL.protocol)) {\n\t\tthrow new TypeError('Only HTTP(S) protocols are supported');\n\t}\n\n\tif (request.signal && request.body instanceof Stream.Readable && !streamDestructionSupported) {\n\t\tthrow new Error('Cancellation of streamed requests with AbortSignal is not supported in node < 8');\n\t}\n\n\t// HTTP-network-or-cache fetch steps 2.4-2.7\n\tlet contentLengthValue = null;\n\tif (request.body == null && /^(POST|PUT)$/i.test(request.method)) {\n\t\tcontentLengthValue = '0';\n\t}\n\tif (request.body != null) {\n\t\tconst totalBytes = getTotalBytes(request);\n\t\tif (typeof totalBytes === 'number') {\n\t\t\tcontentLengthValue = String(totalBytes);\n\t\t}\n\t}\n\tif (contentLengthValue) {\n\t\theaders.set('Content-Length', contentLengthValue);\n\t}\n\n\t// HTTP-network-or-cache fetch step 2.11\n\tif (!headers.has('User-Agent')) {\n\t\theaders.set('User-Agent', 'node-fetch/1.0 (+https://github.com/bitinn/node-fetch)');\n\t}\n\n\t// HTTP-network-or-cache fetch step 2.15\n\tif (request.compress && !headers.has('Accept-Encoding')) {\n\t\theaders.set('Accept-Encoding', 'gzip,deflate');\n\t}\n\n\tlet agent = request.agent;\n\tif (typeof agent === 'function') {\n\t\tagent = agent(parsedURL);\n\t}\n\n\tif (!headers.has('Connection') && !agent) {\n\t\theaders.set('Connection', 'close');\n\t}\n\n\t// HTTP-network fetch step 4.2\n\t// chunked encoding is handled by Node.js\n\n\treturn Object.assign({}, parsedURL, {\n\t\tmethod: request.method,\n\t\theaders: exportNodeCompatibleHeaders(headers),\n\t\tagent\n\t});\n}\n\n/**\n * abort-error.js\n *\n * AbortError interface for cancelled requests\n */\n\n/**\n * Create AbortError instance\n *\n * @param   String      message      Error message for human\n * @return  AbortError\n */\nfunction AbortError(message) {\n  Error.call(this, message);\n\n  this.type = 'aborted';\n  this.message = message;\n\n  // hide custom error implementation details from end-users\n  Error.captureStackTrace(this, this.constructor);\n}\n\nAbortError.prototype = Object.create(Error.prototype);\nAbortError.prototype.constructor = AbortError;\nAbortError.prototype.name = 'AbortError';\n\nconst URL$1 = Url.URL || whatwgUrl.URL;\n\n// fix an issue where \"PassThrough\", \"resolve\" aren't a named export for node <10\nconst PassThrough$1 = Stream.PassThrough;\n\nconst isDomainOrSubdomain = function isDomainOrSubdomain(destination, original) {\n\tconst orig = new URL$1(original).hostname;\n\tconst dest = new URL$1(destination).hostname;\n\n\treturn orig === dest || orig[orig.length - dest.length - 1] === '.' && orig.endsWith(dest);\n};\n\n/**\n * isSameProtocol reports whether the two provided URLs use the same protocol.\n *\n * Both domains must already be in canonical form.\n * @param {string|URL} original\n * @param {string|URL} destination\n */\nconst isSameProtocol = function isSameProtocol(destination, original) {\n\tconst orig = new URL$1(original).protocol;\n\tconst dest = new URL$1(destination).protocol;\n\n\treturn orig === dest;\n};\n\n/**\n * Fetch function\n *\n * @param   Mixed    url   Absolute url or Request instance\n * @param   Object   opts  Fetch options\n * @return  Promise\n */\nfunction fetch(url, opts) {\n\n\t// allow custom promise\n\tif (!fetch.Promise) {\n\t\tthrow new Error('native promise missing, set fetch.Promise to your favorite alternative');\n\t}\n\n\tBody.Promise = fetch.Promise;\n\n\t// wrap http.request into fetch\n\treturn new fetch.Promise(function (resolve, reject) {\n\t\t// build request object\n\t\tconst request = new Request(url, opts);\n\t\tconst options = getNodeRequestOptions(request);\n\n\t\tconst send = (options.protocol === 'https:' ? https : http).request;\n\t\tconst signal = request.signal;\n\n\t\tlet response = null;\n\n\t\tconst abort = function abort() {\n\t\t\tlet error = new AbortError('The user aborted a request.');\n\t\t\treject(error);\n\t\t\tif (request.body && request.body instanceof Stream.Readable) {\n\t\t\t\tdestroyStream(request.body, error);\n\t\t\t}\n\t\t\tif (!response || !response.body) return;\n\t\t\tresponse.body.emit('error', error);\n\t\t};\n\n\t\tif (signal && signal.aborted) {\n\t\t\tabort();\n\t\t\treturn;\n\t\t}\n\n\t\tconst abortAndFinalize = function abortAndFinalize() {\n\t\t\tabort();\n\t\t\tfinalize();\n\t\t};\n\n\t\t// send request\n\t\tconst req = send(options);\n\t\tlet reqTimeout;\n\n\t\tif (signal) {\n\t\t\tsignal.addEventListener('abort', abortAndFinalize);\n\t\t}\n\n\t\tfunction finalize() {\n\t\t\treq.abort();\n\t\t\tif (signal) signal.removeEventListener('abort', abortAndFinalize);\n\t\t\tclearTimeout(reqTimeout);\n\t\t}\n\n\t\tif (request.timeout) {\n\t\t\treq.once('socket', function (socket) {\n\t\t\t\treqTimeout = setTimeout(function () {\n\t\t\t\t\treject(new FetchError(`network timeout at: ${request.url}`, 'request-timeout'));\n\t\t\t\t\tfinalize();\n\t\t\t\t}, request.timeout);\n\t\t\t});\n\t\t}\n\n\t\treq.on('error', function (err) {\n\t\t\treject(new FetchError(`request to ${request.url} failed, reason: ${err.message}`, 'system', err));\n\n\t\t\tif (response && response.body) {\n\t\t\t\tdestroyStream(response.body, err);\n\t\t\t}\n\n\t\t\tfinalize();\n\t\t});\n\n\t\tfixResponseChunkedTransferBadEnding(req, function (err) {\n\t\t\tif (signal && signal.aborted) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tdestroyStream(response.body, err);\n\t\t});\n\n\t\t/* c8 ignore next 18 */\n\t\tif (parseInt(process.version.substring(1)) < 14) {\n\t\t\t// Before Node.js 14, pipeline() does not fully support async iterators and does not always\n\t\t\t// properly handle when the socket close/end events are out of order.\n\t\t\treq.on('socket', function (s) {\n\t\t\t\ts.addListener('close', function (hadError) {\n\t\t\t\t\t// if a data listener is still present we didn't end cleanly\n\t\t\t\t\tconst hasDataListener = s.listenerCount('data') > 0;\n\n\t\t\t\t\t// if end happened before close but the socket didn't emit an error, do it now\n\t\t\t\t\tif (response && hasDataListener && !hadError && !(signal && signal.aborted)) {\n\t\t\t\t\t\tconst err = new Error('Premature close');\n\t\t\t\t\t\terr.code = 'ERR_STREAM_PREMATURE_CLOSE';\n\t\t\t\t\t\tresponse.body.emit('error', err);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\n\t\treq.on('response', function (res) {\n\t\t\tclearTimeout(reqTimeout);\n\n\t\t\tconst headers = createHeadersLenient(res.headers);\n\n\t\t\t// HTTP fetch step 5\n\t\t\tif (fetch.isRedirect(res.statusCode)) {\n\t\t\t\t// HTTP fetch step 5.2\n\t\t\t\tconst location = headers.get('Location');\n\n\t\t\t\t// HTTP fetch step 5.3\n\t\t\t\tlet locationURL = null;\n\t\t\t\ttry {\n\t\t\t\t\tlocationURL = location === null ? null : new URL$1(location, request.url).toString();\n\t\t\t\t} catch (err) {\n\t\t\t\t\t// error here can only be invalid URL in Location: header\n\t\t\t\t\t// do not throw when options.redirect == manual\n\t\t\t\t\t// let the user extract the errorneous redirect URL\n\t\t\t\t\tif (request.redirect !== 'manual') {\n\t\t\t\t\t\treject(new FetchError(`uri requested responds with an invalid redirect URL: ${location}`, 'invalid-redirect'));\n\t\t\t\t\t\tfinalize();\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// HTTP fetch step 5.5\n\t\t\t\tswitch (request.redirect) {\n\t\t\t\t\tcase 'error':\n\t\t\t\t\t\treject(new FetchError(`uri requested responds with a redirect, redirect mode is set to error: ${request.url}`, 'no-redirect'));\n\t\t\t\t\t\tfinalize();\n\t\t\t\t\t\treturn;\n\t\t\t\t\tcase 'manual':\n\t\t\t\t\t\t// node-fetch-specific step: make manual redirect a bit easier to use by setting the Location header value to the resolved URL.\n\t\t\t\t\t\tif (locationURL !== null) {\n\t\t\t\t\t\t\t// handle corrupted header\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\theaders.set('Location', locationURL);\n\t\t\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\t\t\t// istanbul ignore next: nodejs server prevent invalid response headers, we can't test this through normal request\n\t\t\t\t\t\t\t\treject(err);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'follow':\n\t\t\t\t\t\t// HTTP-redirect fetch step 2\n\t\t\t\t\t\tif (locationURL === null) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// HTTP-redirect fetch step 5\n\t\t\t\t\t\tif (request.counter >= request.follow) {\n\t\t\t\t\t\t\treject(new FetchError(`maximum redirect reached at: ${request.url}`, 'max-redirect'));\n\t\t\t\t\t\t\tfinalize();\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// HTTP-redirect fetch step 6 (counter increment)\n\t\t\t\t\t\t// Create a new Request object.\n\t\t\t\t\t\tconst requestOpts = {\n\t\t\t\t\t\t\theaders: new Headers(request.headers),\n\t\t\t\t\t\t\tfollow: request.follow,\n\t\t\t\t\t\t\tcounter: request.counter + 1,\n\t\t\t\t\t\t\tagent: request.agent,\n\t\t\t\t\t\t\tcompress: request.compress,\n\t\t\t\t\t\t\tmethod: request.method,\n\t\t\t\t\t\t\tbody: request.body,\n\t\t\t\t\t\t\tsignal: request.signal,\n\t\t\t\t\t\t\ttimeout: request.timeout,\n\t\t\t\t\t\t\tsize: request.size\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tif (!isDomainOrSubdomain(request.url, locationURL) || !isSameProtocol(request.url, locationURL)) {\n\t\t\t\t\t\t\tfor (const name of ['authorization', 'www-authenticate', 'cookie', 'cookie2']) {\n\t\t\t\t\t\t\t\trequestOpts.headers.delete(name);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// HTTP-redirect fetch step 9\n\t\t\t\t\t\tif (res.statusCode !== 303 && request.body && getTotalBytes(request) === null) {\n\t\t\t\t\t\t\treject(new FetchError('Cannot follow redirect with body being a readable stream', 'unsupported-redirect'));\n\t\t\t\t\t\t\tfinalize();\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// HTTP-redirect fetch step 11\n\t\t\t\t\t\tif (res.statusCode === 303 || (res.statusCode === 301 || res.statusCode === 302) && request.method === 'POST') {\n\t\t\t\t\t\t\trequestOpts.method = 'GET';\n\t\t\t\t\t\t\trequestOpts.body = undefined;\n\t\t\t\t\t\t\trequestOpts.headers.delete('content-length');\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// HTTP-redirect fetch step 15\n\t\t\t\t\t\tresolve(fetch(new Request(locationURL, requestOpts)));\n\t\t\t\t\t\tfinalize();\n\t\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// prepare response\n\t\t\tres.once('end', function () {\n\t\t\t\tif (signal) signal.removeEventListener('abort', abortAndFinalize);\n\t\t\t});\n\t\t\tlet body = res.pipe(new PassThrough$1());\n\n\t\t\tconst response_options = {\n\t\t\t\turl: request.url,\n\t\t\t\tstatus: res.statusCode,\n\t\t\t\tstatusText: res.statusMessage,\n\t\t\t\theaders: headers,\n\t\t\t\tsize: request.size,\n\t\t\t\ttimeout: request.timeout,\n\t\t\t\tcounter: request.counter\n\t\t\t};\n\n\t\t\t// HTTP-network fetch step 12.1.1.3\n\t\t\tconst codings = headers.get('Content-Encoding');\n\n\t\t\t// HTTP-network fetch step 12.1.1.4: handle content codings\n\n\t\t\t// in following scenarios we ignore compression support\n\t\t\t// 1. compression support is disabled\n\t\t\t// 2. HEAD request\n\t\t\t// 3. no Content-Encoding header\n\t\t\t// 4. no content response (204)\n\t\t\t// 5. content not modified response (304)\n\t\t\tif (!request.compress || request.method === 'HEAD' || codings === null || res.statusCode === 204 || res.statusCode === 304) {\n\t\t\t\tresponse = new Response(body, response_options);\n\t\t\t\tresolve(response);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// For Node v6+\n\t\t\t// Be less strict when decoding compressed responses, since sometimes\n\t\t\t// servers send slightly invalid responses that are still accepted\n\t\t\t// by common browsers.\n\t\t\t// Always using Z_SYNC_FLUSH is what cURL does.\n\t\t\tconst zlibOptions = {\n\t\t\t\tflush: zlib.Z_SYNC_FLUSH,\n\t\t\t\tfinishFlush: zlib.Z_SYNC_FLUSH\n\t\t\t};\n\n\t\t\t// for gzip\n\t\t\tif (codings == 'gzip' || codings == 'x-gzip') {\n\t\t\t\tbody = body.pipe(zlib.createGunzip(zlibOptions));\n\t\t\t\tresponse = new Response(body, response_options);\n\t\t\t\tresolve(response);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// for deflate\n\t\t\tif (codings == 'deflate' || codings == 'x-deflate') {\n\t\t\t\t// handle the infamous raw deflate response from old servers\n\t\t\t\t// a hack for old IIS and Apache servers\n\t\t\t\tconst raw = res.pipe(new PassThrough$1());\n\t\t\t\traw.once('data', function (chunk) {\n\t\t\t\t\t// see http://stackoverflow.com/questions/37519828\n\t\t\t\t\tif ((chunk[0] & 0x0F) === 0x08) {\n\t\t\t\t\t\tbody = body.pipe(zlib.createInflate());\n\t\t\t\t\t} else {\n\t\t\t\t\t\tbody = body.pipe(zlib.createInflateRaw());\n\t\t\t\t\t}\n\t\t\t\t\tresponse = new Response(body, response_options);\n\t\t\t\t\tresolve(response);\n\t\t\t\t});\n\t\t\t\traw.on('end', function () {\n\t\t\t\t\t// some old IIS servers return zero-length OK deflate responses, so 'data' is never emitted.\n\t\t\t\t\tif (!response) {\n\t\t\t\t\t\tresponse = new Response(body, response_options);\n\t\t\t\t\t\tresolve(response);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// for br\n\t\t\tif (codings == 'br' && typeof zlib.createBrotliDecompress === 'function') {\n\t\t\t\tbody = body.pipe(zlib.createBrotliDecompress());\n\t\t\t\tresponse = new Response(body, response_options);\n\t\t\t\tresolve(response);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// otherwise, use response as-is\n\t\t\tresponse = new Response(body, response_options);\n\t\t\tresolve(response);\n\t\t});\n\n\t\twriteToStream(req, request);\n\t});\n}\nfunction fixResponseChunkedTransferBadEnding(request, errorCallback) {\n\tlet socket;\n\n\trequest.on('socket', function (s) {\n\t\tsocket = s;\n\t});\n\n\trequest.on('response', function (response) {\n\t\tconst headers = response.headers;\n\n\t\tif (headers['transfer-encoding'] === 'chunked' && !headers['content-length']) {\n\t\t\tresponse.once('close', function (hadError) {\n\t\t\t\t// if a data listener is still present we didn't end cleanly\n\t\t\t\tconst hasDataListener = socket.listenerCount('data') > 0;\n\n\t\t\t\tif (hasDataListener && !hadError) {\n\t\t\t\t\tconst err = new Error('Premature close');\n\t\t\t\t\terr.code = 'ERR_STREAM_PREMATURE_CLOSE';\n\t\t\t\t\terrorCallback(err);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t});\n}\n\nfunction destroyStream(stream, err) {\n\tif (stream.destroy) {\n\t\tstream.destroy(err);\n\t} else {\n\t\t// node < 8\n\t\tstream.emit('error', err);\n\t\tstream.end();\n\t}\n}\n\n/**\n * Redirect code matching\n *\n * @param   Number   code  Status code\n * @return  Boolean\n */\nfetch.isRedirect = function (code) {\n\treturn code === 301 || code === 302 || code === 303 || code === 307 || code === 308;\n};\n\n// expose Promise\nfetch.Promise = global.Promise;\n\nexport default fetch;\nexport { Headers, Request, Response, FetchError };\n","const Stream = require('stream')\n\nfunction serializeHeaders (headers) {\n  return headers.raw()\n}\n\nfunction deserializeHeaders (fetch, old = {}) {\n  const headers = new fetch.Headers()\n  for (const name in old) {\n    for (const value of old[name]) {\n      headers.append(name, value)\n    }\n  }\n  return headers\n}\n\nfunction serializeRequest (request) {\n  return [\n    request.url,\n    {\n      method: request.method,\n      headers: request.headers,\n      body: request.body,\n      mode: request.mode,\n      credentials: request.credentials,\n      cache: request.cache,\n      redirect: request.redirect,\n      referrer: request.referrer,\n      referrerPolicy: request.referrerPolicy,\n      integrity: request.integrity,\n      keepalive: request.keepalive,\n      // signal: request.signal,\n\n      // node-fetch props\n      follow: request.follow,\n      timeout: request.timeout,\n      compress: request.compress,\n      size: request.size\n      // agent: request.agent\n    }\n  ]\n}\n\nfunction deserializeRequest (fetch, resource, init) {\n  return new fetch.Request(resource, {\n    ...init,\n    body: init.body ? Buffer.from(init.body) : undefined,\n    headers: deserializeHeaders(fetch, init.headers)\n  })\n}\n\nfunction serializeResponse (response) {\n  return {\n    url: response.url,\n    headers: response.headers.raw(),\n    status: response.status,\n    statusText: response.statusText,\n    counter: response.redirected ? 1 : 0 // could be more than one, but no way of telling\n  }\n}\n\nfunction deserializeResponse (fetch, body, init, bodyError) {\n  const buffer = Buffer.from(body, 'base64')\n\n  return new fetch.Response(\n    body ? createStream(buffer) : createStream(null),\n    {\n      ...init,\n      headers: deserializeHeaders(fetch, init.headers)\n    },\n    {\n      buffer,\n      bodyError\n    }\n  )\n}\n\nconst errors = {\n  TypeError\n}\n\nfunction serializeError ({ constructor, message, type, code }) {\n  return [\n    constructor.name,\n    [message, type, { code }]\n  ]\n}\n\nfunction deserializeError (fetch, name, init) {\n  if (name in errors) {\n    return new errors[name](...init)\n  } else {\n    return new fetch.FetchError(...init)\n  }\n}\n\nfunction parseBodyType (body) {\n  if (body == null) {\n    return 'Null'\n  } else if (body.constructor.name === 'URLSearchParams') {\n    return 'URLSearchParams'\n  } else if (Buffer.isBuffer(body)) {\n    return 'Buffer'\n  } else if (Object.prototype.toString.call(body) === '[object ArrayBuffer]') {\n    return 'ArrayBuffer'\n  } else if (ArrayBuffer.isView(body)) {\n    return 'ArrayBufferView'\n  } else if (body instanceof Stream) {\n    return 'Stream'\n  } else {\n    return 'String'\n  }\n}\n\nfunction parseBody (body, type = parseBodyType(body)) {\n  switch (type) {\n    case 'Null': return null\n    case 'URLSearchParams': return Buffer.from(body.toString())\n    case 'Buffer': return body\n    case 'ArrayBuffer': return Buffer.from(body)\n    case 'ArrayBufferView': return Buffer.from(body.buffer, body.byteOffset, body.byteLength)\n    case 'String': return Buffer.from(String(body))\n    default: throw new TypeError(`sync-fetch does not support bodies of type: ${type}`)\n  }\n}\n\nfunction createStream (buffer) {\n  return new Stream.Transform({\n    read () {\n      this.push(buffer)\n      this.push(null)\n    }\n  })\n}\n\nmodule.exports = {\n  serializeHeaders,\n  deserializeHeaders,\n  serializeRequest,\n  deserializeRequest,\n  serializeResponse,\n  deserializeResponse,\n  serializeError,\n  deserializeError,\n\n  parseBodyType,\n  parseBody,\n  createStream\n}\n","const exec = require('child_process').execFileSync\nconst path = require('path')\nconst { URL } = require('url')\nconst _fetch = require('node-fetch')\nconst shared = require('./shared')\n\nfunction fetch (resource, init) {\n  const request = []\n\n  if (resource instanceof fetch.Request) {\n    request.push(...shared.serializeRequest(resource))\n  } else if (resource instanceof URL) {\n    request.push(resource.href, {})\n  } else {\n    request.push(resource, {})\n  }\n\n  Object.assign(request[1], init)\n\n  request[1].headers = new _fetch.Headers(request[1].headers)\n\n  if (request[1].body) {\n    const contentType = extractContentType(request)\n    if (contentType && !request[1].headers.get('content-type')) { request[1].headers.append('content-type', contentType) }\n    request[1].body = shared.parseBody(init.body).toString()\n  }\n\n  request[1].headers = shared.serializeHeaders(request[1].headers)\n\n  // TODO credentials\n\n  const response = JSON.parse(sendMessage(request))\n  if ('headers' in response[1]) {\n    return shared.deserializeResponse(fetch, ...response)\n  } else {\n    throw shared.deserializeError(fetch, ...response)\n  }\n}\n\nfunction sendMessage (message) {\n  return exec(process.execPath, [path.join(__dirname, 'worker.js')], {\n    windowsHide: true,\n    maxBuffer: Infinity,\n    input: JSON.stringify(message),\n    shell: false\n  }).toString()\n}\n\nfunction extractContentType (input) {\n  const request = new _fetch.Request(...input)\n  return request.headers.get('content-type') || undefined\n}\n\nconst _body = Symbol('bodyBuffer')\nconst _bodyError = Symbol('bodyError')\n\nclass SyncRequest extends _fetch.Request {\n  constructor (resource, init = {}) {\n    const buffer = shared.parseBody(init.body)\n\n    super(resource, init)\n    defineBuffer(this, buffer)\n  }\n\n  clone () {\n    checkBody(this)\n    return new SyncRequest(...shared.serializeRequest(this))\n  }\n}\n\nclass SyncResponse extends _fetch.Response {\n  constructor (body, init, options = {}) {\n    const {\n      buffer = shared.parseBody(body),\n      bodyError\n    } = options\n\n    super(body, init)\n    defineBuffer(this, buffer)\n    if (bodyError) defineBodyError(this, bodyError)\n  }\n\n  clone () {\n    checkBody(this)\n    const buffer = Buffer.from(this[_body])\n    return new SyncResponse(\n      shared.createStream(buffer),\n      shared.serializeResponse(this),\n      {\n        buffer,\n        bodyError: this[_bodyError]\n      }\n    )\n  }\n}\n\nclass Body {\n  static mixin (proto) {\n    for (const name of Object.getOwnPropertyNames(Body.prototype)) {\n      if (name === 'constructor') { continue }\n      const desc = Object.getOwnPropertyDescriptor(Body.prototype, name)\n      Object.defineProperty(proto, name, {\n        ...desc,\n        enumerable: true\n      })\n    }\n  }\n\n  arrayBuffer () {\n    checkBody(this)\n    const buf = consumeBody(this)\n    return buf.buffer.slice(buf.byteOffset, buf.byteOffset + buf.byteLength)\n  }\n\n  text () {\n    checkBody(this)\n    return consumeBody(this).toString()\n  }\n\n  json () {\n    checkBody(this)\n    try {\n      return JSON.parse(consumeBody(this).toString())\n    } catch (err) {\n      throw new fetch.FetchError(`invalid json response body at ${this.url} reason: ${err.message}`, 'invalid-json')\n    }\n  }\n\n  buffer () {\n    checkBody(this)\n    return Buffer.from(consumeBody(this))\n  }\n\n  textConverted () {\n    throw new fetch.FetchError('textConverted not implemented')\n  }\n}\n\nfunction _super (self, method) {\n  return Object.getPrototypeOf(Object.getPrototypeOf(self))[method].bind(self)\n}\n\nfunction checkBody (body) {\n  if (body[_bodyError]) {\n    throw body[_bodyError]\n  }\n  if (body.bodyUsed) {\n    throw new TypeError(`body used already for: ${body.url}`)\n  }\n}\n\nfunction consumeBody (body) {\n  _super(body, 'buffer')().catch(error => console.error(error))\n  return body[_body] || Buffer.alloc(0)\n}\n\nfunction defineBuffer (body, buffer) {\n  Object.defineProperty(body, _body, {\n    value: buffer,\n    enumerable: false\n  })\n}\n\nfunction defineBodyError (body, error) {\n  Object.defineProperty(body, _bodyError, {\n    value: shared.deserializeError(fetch, ...error),\n    enumerable: false\n  })\n}\n\nBody.mixin(SyncRequest.prototype)\nBody.mixin(SyncResponse.prototype)\nObject.defineProperties(SyncRequest.prototype, { clone: { enumerable: true } })\nObject.defineProperties(SyncResponse.prototype, { clone: { enumerable: true } })\n\nfetch.Headers = _fetch.Headers\nfetch.FetchError = _fetch.FetchError\nfetch.Request = SyncRequest\nfetch.Response = SyncResponse\nmodule.exports = fetch\n","'use strict';\n\nvar fetch = require('node-fetch');\n\nfunction wrapFetchForNode(fetch) {\n  // Support schemaless URIs on the server for parity with the browser.\n  // https://github.com/matthew-andrews/isomorphic-fetch/pull/10\n  return function (u, options) {\n    if (typeof u === 'string' && u.slice(0, 2) === '//') {\n      return fetch('https:' + u, options);\n    }\n\n    return fetch(u, options);\n  };\n}\n\nmodule.exports = function (context) {\n  // Support webpack module import weirdness.\n  var fetchFn = fetch.default ? fetch.default : fetch;\n\n  // This modifies the global `node-fetch` object, which isn't great, since\n  // different callers to `fetch-ponyfill` which pass a different Promise\n  // implementation would each expect to have their implementation used. But,\n  // given the way `node-fetch` is implemented, this is the only way to make\n  // it work at all.\n  if (context && context.Promise) {\n    fetchFn.Promise = context.Promise;\n  }\n\n  return {\n    fetch: wrapFetchForNode(fetchFn),\n    Headers: fetch.Headers,\n    Request: fetch.Request,\n    Response: fetch.Response\n  };\n};\n","//@ts-nocheck\nimport syncFetch from 'sync-fetch'\nimport fetchPolyfill from 'fetch-ponyfill'\nimport logger from '../logger.js'\n// import pkg from '../../package.json';\nconst { fetch, Headers } = fetchPolyfill()\nconst corsEnabled = typeof location !== 'undefined' && typeof document !== 'undefined'\nlet userAgent = `Citation.js/0.65`\nfunction normaliseHeaders(headers) {\n  const result = {}\n  const entries =\n    headers instanceof Headers || headers instanceof syncFetch.Headers\n      ? Array.from(headers)\n      : Object.entries(headers)\n  for (const [name, header] of entries) {\n    result[name.toLowerCase()] = header.toString()\n  }\n  return result\n}\nfunction parseOpts(opts = {}) {\n  const reqOpts = {\n    headers: {\n      accept: '*/*',\n    },\n    method: 'GET',\n    checkContentType: opts.checkContentType,\n  }\n  if (userAgent && !corsEnabled) {\n    reqOpts.headers['user-agent'] = userAgent\n  }\n  if (opts.body) {\n    reqOpts.method = 'POST'\n    const isJson = typeof opts.body !== 'string'\n    reqOpts.body = isJson ? JSON.stringify(opts.body) : opts.body\n    reqOpts.headers['content-type'] = isJson ? 'application/json' : 'text/plain'\n  }\n  if (opts.headers) {\n    Object.assign(reqOpts.headers, normaliseHeaders(opts.headers))\n  }\n  return reqOpts\n}\nfunction sameType(request, response) {\n  if (!request.accept || request.accept === '*/*' || !response['content-type']) {\n    return true\n  }\n  const [a, b] = response['content-type'].split(';')[0].trim().split('/')\n  return request.accept\n    .split(',')\n    .map((type) => type.split(';')[0].trim().split('/'))\n    .some(([c, d]) => (c === a || c === '*') && (d === b || d === '*'))\n}\nfunction checkResponse(response, opts) {\n  const { status, headers } = response\n  let error\n  if (status >= 400) {\n    error = new Error(`Server responded with status code ${status}`)\n  } else if (opts.checkContentType === true && !sameType(opts.headers, normaliseHeaders(headers))) {\n    error = new Error(`Server responded with content-type ${headers.get('content-type')}`)\n  }\n  if (error) {\n    error.status = status\n    error.headers = headers\n    error.body = response.body\n    throw error\n  }\n  return response\n}\nexport function fetchFile(url, opts) {\n  const reqOpts = parseOpts(opts)\n  logger.http('[core]', reqOpts.method, url, reqOpts)\n  const response = checkResponse(syncFetch(url, reqOpts), reqOpts)\n  return response.text()\n}\nexport async function fetchFileAsync(url, opts) {\n  const reqOpts = parseOpts(opts)\n  logger.http('[core]', reqOpts.method, url, reqOpts)\n  return fetch(url, reqOpts)\n    .then((response) => checkResponse(response, reqOpts))\n    .then((response) => response.text())\n}\nexport function setUserAgent(newUserAgent) {\n  userAgent = newUserAgent\n}\nexport default fetchFile\n","function fetchId(list, prefix) {\n  let id\n  while (id === undefined || list.includes(id)) {\n    id = `${prefix}${Math.random().toString().slice(2)}`\n  }\n  return id\n}\nexport default fetchId\n","class Register {\n  constructor(data = {}) {\n    this.data = data\n  }\n  set(key, value) {\n    this.data[key] = value\n    return this\n  }\n  add(...args) {\n    return this.set(...args)\n  }\n  delete(key) {\n    delete this.data[key]\n    return this\n  }\n  remove(...args) {\n    return this.delete(...args)\n  }\n  get(key) {\n    return this.data[key]\n  }\n  has(key) {\n    return Object.prototype.hasOwnProperty.call(this.data, key)\n  }\n  list() {\n    return Object.keys(this.data)\n  }\n}\nexport default Register\n","//@ts-nocheck\nimport { deepCopy } from './deepCopy.js'\nclass Grammar {\n  constructor(rules, state) {\n    this.rules = rules\n    this.defaultState = state\n    this.mainRule = Object.keys(rules)[0]\n    this.log = []\n  }\n  parse(iterator, mainRule) {\n    this.lexer = iterator\n    this.token = this.lexer.next()\n    this.state = deepCopy(this.defaultState)\n    this.log = []\n    return this.consumeRule(mainRule || this.mainRule)\n  }\n  matchEndOfFile() {\n    return !this.token\n  }\n  matchToken(type) {\n    return this.token && type === this.token.type\n  }\n  consumeToken(type, optional) {\n    const token = this.token\n    if (!type || (token && token.type === type)) {\n      this.token = this.lexer.next()\n      return token\n    } else if (optional) {\n      return undefined\n    } else {\n      const got = token ? `\"${token.type}\"` : 'EOF'\n      const error = new SyntaxError(this.lexer.formatError(token, `expected \"${type}\", got ${got}`))\n      error.message += ` (${this.log.join('->')})`\n      throw error\n    }\n  }\n  consumeRule(rule) {\n    this.log.push(rule)\n    const result = this.rules[rule].call(this)\n    this.log.pop()\n    return result\n  }\n}\nexport { Grammar }\n","//@ts-nocheck\nfunction createConditionEval(condition) {\n  return function conditionEval(input) {\n    if (typeof condition === 'boolean') {\n      return condition\n    }\n    return Object.keys(condition).every((prop) => {\n      const value = condition[prop]\n      if (value === true) {\n        return prop in input\n      } else if (value === false) {\n        return !(prop in input)\n      } else if (typeof value === 'function') {\n        return value(input[prop])\n      } else if (Array.isArray(value)) {\n        return value.includes(input[prop])\n      } else {\n        return input[prop] === value\n      }\n    })\n  }\n}\nfunction parsePropStatement(prop, toSource) {\n  let inputProp\n  let outputProp\n  let convert\n  let condition\n  if (typeof prop === 'string') {\n    inputProp = outputProp = prop\n  } else if (prop) {\n    inputProp = toSource ? prop.target : prop.source\n    outputProp = toSource ? prop.source : prop.target\n    if (prop.convert) {\n      convert = toSource ? prop.convert.toSource : prop.convert.toTarget\n    }\n    if (prop.when) {\n      condition = toSource ? prop.when.target : prop.when.source\n      if (condition != null) {\n        condition = createConditionEval(condition)\n      }\n    }\n  } else {\n    return null\n  }\n  inputProp = [].concat(inputProp).filter(Boolean)\n  outputProp = [].concat(outputProp).filter(Boolean)\n  return {\n    inputProp,\n    outputProp,\n    convert,\n    condition,\n  }\n}\nfunction createConverter(props, toSource) {\n  toSource = toSource === Translator.CONVERT_TO_SOURCE\n  props = props.map((prop) => parsePropStatement(prop, toSource)).filter(Boolean)\n  return function converter(input) {\n    const output = {}\n    for (const { inputProp, outputProp, convert, condition } of props) {\n      if (outputProp.length === 0) {\n        continue\n      } else if (condition && !condition(input)) {\n        continue\n      } else if (inputProp.length !== 0 && inputProp.every((prop) => !(prop in input))) {\n        continue\n      }\n      let outputData = inputProp.map((prop) => input[prop])\n      if (convert) {\n        try {\n          const converted = convert.apply(input, outputData)\n          outputData = outputProp.length === 1 ? [converted] : converted\n        } catch (cause) {\n          throw new Error(`Failed to convert ${inputProp} to ${outputProp}`, {\n            cause,\n          })\n        }\n      }\n      outputProp.forEach((prop, index) => {\n        const value = outputData[index]\n        if (value !== undefined) {\n          output[prop] = value\n        }\n      })\n    }\n    return output\n  }\n}\nclass Translator {\n  constructor(props) {\n    this.convertToSource = createConverter(props, Translator.CONVERT_TO_SOURCE)\n    this.convertToTarget = createConverter(props, Translator.CONVERT_TO_TARGET)\n  }\n}\nTranslator.CONVERT_TO_SOURCE = Symbol('convert to source')\nTranslator.CONVERT_TO_TARGET = Symbol('convert to target')\nexport { Translator }\n","//@ts-nocheck\nimport { deepCopy, upgradeCsl } from '../../util/index.js'\nimport logger from '../../logger.js'\nimport { get as getTypeInfo } from './register.js'\nimport { type as parseType } from './type.js'\nimport { data as parseData, dataAsync as parseDataAsync } from './data.js'\nimport { applyGraph, removeGraph } from './graph.js'\nfunction prepareParseGraph(graph) {\n  return graph\n    .reduce((array, next) => {\n      const last = array[array.length - 1]\n      if (last && last.type === next.type) {\n        last.count = last.count + 1 || 2\n      } else {\n        array.push(next)\n      }\n      return array\n    }, [])\n    .map((element) => (element.count > 1 ? element.count + 'x ' : '') + element.type)\n    .join(' -> ')\n}\nclass ChainParser {\n  constructor(input, options = {}) {\n    this.options = Object.assign(\n      {\n        generateGraph: true,\n        forceType: parseType(input),\n        maxChainLength: 10,\n        strict: true,\n        target: '@csl/list+object',\n      },\n      options\n    )\n    this.type = this.options.forceType\n    this.data = typeof input === 'object' ? deepCopy(input) : input\n    this.graph = [\n      {\n        type: this.type,\n        data: input,\n      },\n    ]\n    this.iteration = 0\n  }\n  iterate() {\n    if (this.iteration !== 0) {\n      const typeInfo = getTypeInfo(this.type)\n      if (typeInfo && typeInfo.outputs) {\n        this.type = typeInfo.outputs\n      } else {\n        this.type = parseType(this.data)\n      }\n      this.graph.push({\n        type: this.type,\n      })\n    }\n    if (this.error || this.type === this.options.target) {\n      return false\n    } else if (this.iteration >= this.options.maxChainLength) {\n      this.error = new RangeError(\n        `Max. number of parsing iterations reached (${prepareParseGraph(this.graph)})`\n      )\n      return false\n    } else {\n      this.iteration++\n      return true\n    }\n  }\n  end() {\n    if (this.error) {\n      logger.error('[core]', this.error.message)\n      if (this.options.strict !== false) {\n        throw this.error\n      } else {\n        return []\n      }\n    } else if (this.options.target === '@csl/list+object') {\n      return upgradeCsl(this.data).map(\n        this.options.generateGraph ? (entry) => applyGraph(entry, this.graph) : removeGraph\n      )\n    } else {\n      return this.data\n    }\n  }\n}\nexport const chain = (...args) => {\n  const chain = new ChainParser(...args)\n  while (chain.iterate()) {\n    try {\n      chain.data = parseData(chain.data, chain.type)\n    } catch (e) {\n      chain.error = e\n    }\n  }\n  return chain.end()\n}\nexport const chainLink = (input) => {\n  const type = parseType(input)\n  const output = type.match(/array|object/) ? deepCopy(input) : input\n  return parseData(output, type)\n}\nexport const chainAsync = async (...args) => {\n  const chain = new ChainParser(...args)\n  while (chain.iterate()) {\n    chain.data = await parseDataAsync(chain.data, chain.type).catch((e) => {\n      chain.error = e\n    })\n  }\n  return chain.end()\n}\nexport const chainLinkAsync = async (input) => {\n  const type = parseType(input)\n  const output = type.match(/array|object/) ? deepCopy(input) : input\n  return parseDataAsync(output, type)\n}\n","import { chain, chainAsync } from './chain.js'\nconst parsers = {}\nconst asyncParsers = {}\nconst nativeParsers = {\n  '@csl/object': (input) => [input],\n  '@csl/list+object': (input) => input,\n  '@else/list+object': (input) => input.map(chain).flat(),\n  '@invalid': () => {\n    throw new Error('This format is not supported or recognized')\n  },\n}\nconst nativeAsyncParsers = {\n  '@else/list+object': async (input) => (await Promise.all(input.map(chainAsync))).flat(),\n}\nexport function data(input, type) {\n  if (typeof parsers[type] === 'function') {\n    return parsers[type](input)\n  } else if (typeof nativeParsers[type] === 'function') {\n    return nativeParsers[type](input)\n  } else {\n    throw new TypeError(`No synchronous parser found for ${type}`)\n  }\n}\nexport async function dataAsync(input, type) {\n  if (typeof asyncParsers[type] === 'function') {\n    return asyncParsers[type](input)\n  } else if (typeof nativeAsyncParsers[type] === 'function') {\n    return nativeAsyncParsers[type](input)\n  } else if (hasDataParser(type, false)) {\n    return data(input, type)\n  } else {\n    throw new TypeError(`No parser found for ${type}`)\n  }\n}\nexport function addDataParser(format, { parser, async }) {\n  if (async) {\n    asyncParsers[format] = parser\n  } else {\n    parsers[format] = parser\n  }\n}\nexport function hasDataParser(type, async) {\n  return async\n    ? asyncParsers[type] || nativeAsyncParsers[type]\n    : parsers[type] || nativeParsers[type]\n}\nexport function removeDataParser(type, async) {\n  delete (async ? asyncParsers : parsers)[type]\n}\nexport function listDataParser(async) {\n  return Object.keys(async ? asyncParsers : parsers)\n}\n","import { FormatParser } from './parser.js'\nimport { addTypeParser, removeTypeParser } from './type.js'\nimport { addDataParser, removeDataParser } from './data.js'\nconst formats = {}\nexport function add(format, parsers) {\n  const formatParser = new FormatParser(format, parsers)\n  formatParser.validate()\n  const index = formats[format] || (formats[format] = {})\n  if (formatParser.typeParser) {\n    addTypeParser(format, formatParser.typeParser)\n    index.type = true\n  }\n  if (formatParser.dataParser) {\n    addDataParser(format, formatParser.dataParser)\n    index.data = true\n  }\n  if (formatParser.asyncDataParser) {\n    addDataParser(format, formatParser.asyncDataParser)\n    index.asyncData = true\n  }\n  if (parsers.outputs) {\n    index.outputs = parsers.outputs\n  }\n}\nexport function get(format) {\n  return formats[format]\n}\nexport function remove(format) {\n  const index = formats[format]\n  if (!index) {\n    return\n  }\n  if (index.type) {\n    removeTypeParser(format)\n  }\n  if (index.data) {\n    removeDataParser(format)\n  }\n  if (index.asyncData) {\n    removeDataParser(format, true)\n  }\n  delete formats[format]\n}\nexport function has(format) {\n  return format in formats\n}\nexport function list() {\n  return Object.keys(formats)\n}\n","//@ts-nocheck\nimport * as dataType from './dataType.js'\nimport * as graph from './graph.js'\nimport * as parser from './parser.js'\nimport * as csl from './csl.js'\nexport const util = Object.assign({}, dataType, graph, parser, csl)\nexport * from './register'\nexport * from './chain'\nexport * from './type'\nexport * from './data'\n","//@ts-nocheck\nimport { chain as parseInput, chainAsync as parseInputAsync } from '../plugins/input/index.js'\nimport fetchId from '../util/fetchId.js'\nfunction add(data, options = {}, log = false) {\n  if (options === true || log === true) {\n    this.save()\n  }\n  this.data.push(...parseInput(data, options))\n  this.data\n    .filter((entry) => !Object.prototype.hasOwnProperty.call(entry, 'id'))\n    .forEach((entry) => {\n      entry.id = fetchId(this.getIds(), 'temp_id_')\n    })\n  return this\n}\nasync function addAsync(data, options = {}, log = false) {\n  if (options === true || log === true) {\n    this.save()\n  }\n  this.data.push(...(await parseInputAsync(data, options)))\n  this.data\n    .filter((entry) => !Object.prototype.hasOwnProperty.call(entry, 'id'))\n    .forEach((entry) => {\n      entry.id = fetchId(this.getIds(), 'temp_id_')\n    })\n  return this\n}\nfunction set(data, options = {}, log = false) {\n  if (options === true || log === true) {\n    this.save()\n  }\n  this.data = []\n  return typeof options !== 'boolean' ? this.add(data, options) : this.add(data)\n}\nasync function setAsync(data, options = {}, log = false) {\n  if (options === true || log === true) {\n    this.save()\n  }\n  this.data = []\n  return typeof options !== 'boolean' ? this.addAsync(data, options) : this.addAsync(data)\n}\nfunction reset(log) {\n  if (log) {\n    this.save()\n  }\n  this.data = []\n  this._options = {}\n  return this\n}\nexport { add, addAsync, set, setAsync, reset }\n","function getLabel(entry) {\n  if ('citation-label' in entry) {\n    return entry['citation-label']\n  }\n  let res = ''\n  if (entry.author) {\n    res += entry.author[0].family || entry.author[0].literal\n  }\n  if (entry.issued && entry.issued['date-parts'] && entry.issued['date-parts'][0]) {\n    res += entry.issued['date-parts'][0][0]\n  }\n  if (entry['year-suffix']) {\n    res += entry['year-suffix']\n  } else if (entry.title) {\n    res += entry.title.replace(/<\\/?.*?>/g, '').match(/^(?:(?:the|a|an)\\s+)?(\\S+)/i)[1]\n  }\n  return res\n}\nexport { getLabel }\nexport default {\n  label(data) {\n    return data.reduce((object, entry) => {\n      object[entry.id] = getLabel(entry)\n      return object\n    }, {})\n  },\n}\n","//@ts-nocheck\nimport { getLabel } from '../plugin-common/output/label.js'\nimport { format as getName } from '@citation-js/name'\nfunction getComparisonValue(obj, prop, label = prop === 'label') {\n  let value = label ? getLabel(obj) : obj[prop]\n  switch (prop) {\n    case 'author':\n    case 'editor':\n      return value.map((name) => name.literal || name.family || getName(name))\n    case 'accessed':\n    case 'issued':\n      return value['date-parts'][0]\n    case 'page':\n      return value.split('-').map((num) => parseInt(num))\n    case 'edition':\n    case 'issue':\n    case 'volume':\n      value = parseInt(value)\n      return !isNaN(value) ? value : -Infinity\n    default:\n      return value || -Infinity\n  }\n}\nfunction compareProp(entryA, entryB, prop, flip = /^!/.test(prop)) {\n  prop = prop.replace(/^!/, '')\n  const a = getComparisonValue(entryA, prop)\n  const b = getComparisonValue(entryB, prop)\n  return (flip ? -1 : 1) * (a > b ? 1 : a < b ? -1 : 0)\n}\nfunction getSortCallback(...props) {\n  return (a, b) => {\n    const keys = props.slice()\n    let output = 0\n    while (!output && keys.length) {\n      output = compareProp(a, b, keys.shift())\n    }\n    return output\n  }\n}\nfunction sort(method = [], log) {\n  if (log) {\n    this.save()\n  }\n  this.data.sort(typeof method === 'function' ? method : getSortCallback(...method, 'label'))\n  return this\n}\nexport { sort }\n","//@ts-nocheck\nimport Cite from './index.js'\nfunction async(data, options, callback) {\n  if (typeof options === 'function' && !callback) {\n    callback = options\n    options = undefined\n  }\n  const promise = Cite().setAsync(data, options)\n  if (typeof callback === 'function') {\n    promise.then(callback)\n    return undefined\n  } else {\n    return promise\n  }\n}\nexport default async\n","//@ts-nocheck\nexport { default as async } from './async.js'\nexport * from './validate.js'\n","import Register from '../util/register.js'\nfunction validate(name, formatter) {\n  if (typeof name !== 'string') {\n    throw new TypeError(`Invalid output format name, expected string, got ${typeof name}`)\n  } else if (typeof formatter !== 'function') {\n    throw new TypeError(`Invalid formatter, expected function, got ${typeof formatter}`)\n  }\n}\nexport const register = new Register()\nexport function add(name, formatter) {\n  validate(name, formatter)\n  register.set(name, formatter)\n}\nexport function remove(name) {\n  register.remove(name)\n}\nexport function has(name) {\n  return register.has(name)\n}\nexport function list() {\n  return register.list()\n}\nexport function format(name, data, ...options) {\n  if (!register.has(name)) {\n    throw new Error(`Output format \"${name}\" unavailable`)\n  }\n  return register.get(name)(data, ...options)\n}\n","//@ts-nocheck\nimport { validateOutputOptions as validate } from './static.js'\nimport { format as formatData } from '../plugins/output.js'\nimport { clean as parseCsl } from '../plugins/input/csl.js'\nexport function getIds() {\n  return this.data.map((entry) => entry.id)\n}\nexport function format(format, ...options) {\n  return formatData(format, parseCsl(this.data), ...options)\n}\nexport function get(options = {}) {\n  validate(options)\n  const parsedOptions = Object.assign({}, this.defaultOptions, this._options.output, options)\n  const { type, style } = parsedOptions\n  const [styleType, styleFormat] = style.split('-')\n  const newStyle =\n    styleType === 'citation' ? 'bibliography' : styleType === 'csl' ? 'data' : styleType\n  const newType = type === 'string' ? 'text' : type === 'json' ? 'object' : type\n  let formatOptions\n  switch (newStyle) {\n    case 'bibliography': {\n      const { lang, append, prepend } = parsedOptions\n      formatOptions = {\n        template: styleFormat,\n        lang,\n        format: newType,\n        append,\n        prepend,\n      }\n      break\n    }\n    case 'data':\n    case 'bibtex':\n    case 'bibtxt':\n    case 'ndjson':\n    case 'ris':\n      formatOptions = {\n        type: newType,\n      }\n      break\n    default:\n      throw new Error(`Invalid style \"${newStyle}\"`)\n  }\n  const result = this.format(newStyle, Object.assign(formatOptions, options._newOptions))\n  const { format } = parsedOptions\n  if (\n    format === 'real' &&\n    newType === 'html' &&\n    typeof document !== 'undefined' &&\n    typeof document.createElement === 'function'\n  ) {\n    const tmp = document.createElement('div')\n    tmp.innerHTML = result\n    return tmp.firstChild\n  } else if (format === 'string' && typeof result === 'object') {\n    return JSON.stringify(result)\n  } else {\n    return result\n  }\n}\n","//@ts-nocheck\nimport * as log from './log.js'\nimport * as options from './options.js'\nimport * as set from './set.js'\nimport * as sort from './sort.js'\nimport * as get from './get.js'\nimport * as staticMethods from './static.js'\nfunction Cite(data, options = {}) {\n  if (!(this instanceof Cite)) {\n    return new Cite(data, options)\n  }\n  this._options = options\n  this.log = []\n  this.data = []\n  this.set(data, options)\n  this.options(options)\n  return this\n}\nObject.assign(Cite.prototype, log, options, set, sort, get)\nCite.prototype[Symbol.iterator] = function* () {\n  yield* this.data\n}\nObject.assign(Cite, staticMethods)\nexport default Cite\n","import Register from '../util/register.js'\nfunction validate(name, dict) {\n  if (typeof name !== 'string') {\n    throw new TypeError(`Invalid dict name, expected string, got ${typeof name}`)\n  } else if (typeof dict !== 'object') {\n    throw new TypeError(`Invalid dict, expected object, got ${typeof dict}`)\n  }\n  for (const entryName in dict) {\n    const entry = dict[entryName]\n    if (!Array.isArray(entry) || entry.some((part) => typeof part !== 'string')) {\n      throw new TypeError(`Invalid dict entry \"${entryName}\", expected array of strings`)\n    }\n  }\n}\nexport const register = new Register({\n  html: {\n    bibliographyContainer: ['<div class=\"csl-bib-body\">', '</div>'],\n    entry: ['<div class=\"csl-entry\">', '</div>'],\n    list: ['<ul style=\"list-style-type:none\">', '</ul>'],\n    listItem: ['<li>', '</li>'],\n  },\n  text: {\n    bibliographyContainer: ['', '\\n'],\n    entry: ['', '\\n'],\n    list: ['\\n', ''],\n    listItem: ['\\t', '\\n'],\n  },\n})\nexport function add(name, dict) {\n  validate(name, dict)\n  register.set(name, dict)\n}\nexport function remove(name) {\n  register.remove(name)\n}\nexport function has(name) {\n  return register.has(name)\n}\nexport function list() {\n  return register.list()\n}\nexport function get(name) {\n  if (!register.has(name)) {\n    throw new Error(`Dict \"${name}\" unavailable`)\n  }\n  return register.get(name)\n}\nexport const htmlDict = {\n  wr_start: '<div class=\"csl-bib-body\">',\n  wr_end: '</div>',\n  en_start: '<div class=\"csl-entry\">',\n  en_end: '</div>',\n  ul_start: '<ul style=\"list-style-type:none\">',\n  ul_end: '</ul>',\n  li_start: '<li>',\n  li_end: '</li>',\n}\nexport const textDict = {\n  wr_start: '',\n  wr_end: '\\n',\n  en_start: '',\n  en_end: '\\n',\n  ul_start: '\\n',\n  ul_end: '',\n  li_start: '\\t',\n  li_end: '\\n',\n}\n","const configs = {}\nexport function add(ref, config) {\n  configs[ref] = config\n}\nexport function get(ref) {\n  return configs[ref]\n}\nexport function has(ref) {\n  return Object.prototype.hasOwnProperty.call(configs, ref)\n}\nexport function remove(ref) {\n  delete configs[ref]\n}\nexport function list() {\n  return Object.keys(configs)\n}\n","//@ts-nocheck\nimport * as input from './input/index.js'\nimport * as output from './output.js'\nimport * as dict from './dict.js'\nimport * as config from './config.js'\nconst registers = {\n  input,\n  output,\n  dict,\n  config,\n}\nconst indices = {}\nexport function add(ref, plugins = {}) {\n  const mainIndex = (indices[ref] = {})\n  for (const type in plugins) {\n    if (type === 'config') {\n      mainIndex.config = {\n        [ref]: plugins.config,\n      }\n      registers.config.add(ref, plugins.config)\n      continue\n    }\n    const typeIndex = (mainIndex[type] = {})\n    const typePlugins = plugins[type]\n    for (const name in typePlugins) {\n      const typePlugin = typePlugins[name]\n      typeIndex[name] = true\n      registers[type].add(name, typePlugin)\n    }\n  }\n}\nexport function remove(ref) {\n  const mainIndex = indices[ref]\n  for (const type in mainIndex) {\n    const typeIndex = mainIndex[type]\n    for (const name in typeIndex) {\n      registers[type].remove(name)\n    }\n  }\n  delete indices[ref]\n}\nexport function has(ref) {\n  return ref in indices\n}\nexport function list() {\n  return Object.keys(indices)\n}\nexport { input, output, dict, config }\n","export function parse() {\n  return []\n}\n","import logger from '../../logger.js'\nconst substituters = [\n  [/((?:\\[|:|,)\\s*)'((?:\\\\'|[^'])*?[^\\\\])?'(?=\\s*(?:\\]|}|,))/g, '$1\"$2\"'],\n  [\n    /((?:(?:\"|]|}|\\/[gmiuys]|\\.|(?:\\d|\\.|-)*\\d)\\s*,|{)\\s*)(?:\"([^\":\\n]+?)\"|'([^\":\\n]+?)'|([^\":\\n]+?))(\\s*):/g,\n    '$1\"$2$3$4\"$5:',\n  ],\n]\nfunction parseJSON(str) {\n  if (typeof str !== 'string') {\n    return JSON.parse(str)\n  }\n  try {\n    return JSON.parse(str)\n  } catch (e) {\n    logger.debug('[plugin-common]', 'Invalid JSON, switching to experimental parser')\n    substituters.forEach(([regex, subst]) => {\n      str = str.replace(regex, subst)\n    })\n    return JSON.parse(str)\n  }\n}\nexport { parseJSON as parse, parseJSON as default }\n","export function parse(input) {\n  return input.val() || input.text() || input.html()\n}\n","export function parse(input) {\n  return input.value || input.textContent\n}\n","//@ts-nocheck\nimport * as empty from './empty.js'\nimport * as url from './url.js'\nimport * as json from './json.js'\nimport * as jquery from './jquery.js'\nimport * as html from './html.js'\nexport const ref = '@else'\nexport const parsers = {\n  empty,\n  url,\n  json,\n  jquery,\n  html,\n}\nexport const formats = {\n  '@empty/text': {\n    parse: empty.parse,\n    parseType: {\n      dataType: 'String',\n      predicate: (input) => input === '',\n    },\n  },\n  '@empty/whitespace+text': {\n    parse: empty.parse,\n    parseType: {\n      dataType: 'String',\n      predicate: /^\\s+$/,\n    },\n  },\n  '@empty': {\n    parse: empty.parse,\n    parseType: {\n      dataType: 'Primitive',\n      predicate: (input) => input == null,\n    },\n  },\n  '@else/json': {\n    parse: json.parse,\n    parseType: {\n      dataType: 'String',\n      predicate: /^\\s*(\\{[\\S\\s]*\\}|\\[[\\S\\s]*\\])\\s*$/,\n    },\n  },\n  '@else/url': {\n    parse: url.parse,\n    parseAsync: url.parseAsync,\n    parseType: {\n      dataType: 'String',\n      predicate: /^https?:\\/\\/(([\\w-]+\\.)*[\\w-]+)(:\\d+)?(\\/[^?/]*)*(\\?[^#]*)?(#.*)?$/i,\n    },\n  },\n  '@else/jquery': {\n    parse: jquery.parse,\n    parseType: {\n      dataType: 'ComplexObject',\n      predicate(input) {\n        return typeof jQuery !== 'undefined' && input instanceof jQuery\n      },\n    },\n  },\n  '@else/html': {\n    parse: html.parse,\n    parseType: {\n      dataType: 'ComplexObject',\n      predicate(input) {\n        return typeof HTMLElement !== 'undefined' && input instanceof HTMLElement\n      },\n    },\n  },\n}\n","//@ts-nocheck\nimport * as plugins from '../../plugins/index.js'\nimport * as util from '../../util/index.js'\nimport logger from '../../logger.js'\nfunction appendCommas(string, index, array) {\n  return string + (index < array.length - 1 ? ',' : '')\n}\nfunction getJsonObject(src, dict) {\n  const isArray = Array.isArray(src)\n  let entries\n  if (isArray) {\n    entries = src.map((entry) => getJsonValue(entry, dict))\n  } else {\n    entries = Object.keys(src)\n      .filter((prop) => JSON.stringify(src[prop]))\n      .map((prop) => `\"${prop}\": ${getJsonValue(src[prop], dict)}`)\n  }\n  entries = entries.map(appendCommas).map((entry) => dict.listItem.join(entry))\n  entries = dict.list.join(entries.join(''))\n  return isArray ? `[${entries}]` : `{${entries}}`\n}\nfunction getJsonValue(src, dict) {\n  if (typeof src === 'object' && src !== null) {\n    if (src.length === 0) {\n      return '[]'\n    } else if (Object.keys(src).length === 0) {\n      return '{}'\n    } else {\n      return getJsonObject(src, dict)\n    }\n  } else {\n    return JSON.stringify(src)\n  }\n}\nfunction getJson(src, dict) {\n  let entries = src.map((entry) => getJsonObject(entry, dict))\n  entries = entries.map(appendCommas).map((entry) => dict.entry.join(entry))\n  entries = entries.join('')\n  return dict.bibliographyContainer.join(`[${entries}]`)\n}\nexport function getJsonWrapper(src) {\n  return getJson(src, plugins.dict.get('html'))\n}\nexport default {\n  data(data, { type, format = type || 'text', version = '1.0.2' } = {}) {\n    if (version < '1.0.2') {\n      data = util.downgradeCsl(data)\n    }\n    if (format === 'object') {\n      return util.deepCopy(data)\n    } else if (format === 'text') {\n      return JSON.stringify(data, null, 2)\n    } else {\n      logger.warn(\n        '[core]',\n        'This feature (JSON output with special formatting) is unstable. See https://github.com/larsgw/citation.js/issues/144'\n      )\n      return getJson(data, plugins.dict.get(format))\n    }\n  },\n  ndjson(data, { version = '1.0.2' } = {}) {\n    if (version < '1.0.2') {\n      data = util.downgradeCsl(data)\n    }\n    return data.map((entry) => JSON.stringify(entry)).join('\\n')\n  },\n}\n","//@ts-nocheck\nimport json from './json.js'\nimport label from './label.js'\nexport default Object.assign({}, json, label)\n","import * as plugins from '../plugins'\nimport { ref, formats as input } from './input/'\nimport output from './output/'\nplugins.add(ref, {\n  input,\n  output,\n})\n","//@ts-nocheck\nimport { parse as parseDate } from '@citation-js/date'\nimport { parse as parseName } from '@citation-js/name'\nfunction nameProps(person) {\n  const { firstname, lastname, firstName: given = firstname, lastName: family = lastname } = person\n  if (given && family) {\n    return {\n      given,\n      family,\n    }\n  } else if (person.name) {\n    return parseName(person.name)\n  }\n}\nconst identifiers = ['PMID', 'PMCID', 'DOI', 'ISBN']\nconst journalIdentifiers = ['ISSN']\nfunction idProps(input, identifiers) {\n  const output = {}\n  for (const prop in input) {\n    const upperCaseProp = prop.toUpperCase()\n    if (identifiers.includes(upperCaseProp)) {\n      output[upperCaseProp] = input[prop]\n    }\n  }\n  if (input.identifier) {\n    for (let { id, type = '' } of input.identifier) {\n      type = type.toUpperCase()\n      if (identifiers.includes(type)) {\n        output[type] = id\n      }\n    }\n  }\n  return output\n}\nconst typeMap = {\n  article: 'article',\n  book: 'book',\n  booklet: 'book',\n  proceedings: 'book',\n  mastersthesis: 'thesis',\n  inbook: 'chapter',\n  incollection: 'chapter',\n  conference: 'paper-conference',\n  inproceedings: 'paper-conference',\n  manual: 'report',\n  misc: 'document',\n  online: 'website',\n  patent: 'patent',\n  phdthesis: 'thesis',\n  techreport: 'report',\n  unpublished: 'manuscript',\n}\nfunction quickscrapeSpecificProps() {\n  return {\n    type: 'article-journal',\n  }\n}\nfunction generalProps(input) {\n  const output = {\n    type: typeMap[input.type] || 'document',\n  }\n  if (input.title) {\n    output.title = input.title\n  }\n  if (input.author) {\n    output.author = input.author.map(nameProps).filter(Boolean)\n  }\n  if (input.editor) {\n    output.editor = input.editor.map(nameProps).filter(Boolean)\n  }\n  if (input.reviewer) {\n    if (input.author) {\n      output['reviewed-author'] = output.author\n    }\n    output.author = input.reviewer.map(nameProps).filter(Boolean)\n  }\n  if (Array.isArray(input.keywords)) {\n    output.keyword = input.keywords.join()\n  } else if (input.keywords) {\n    output.keyword = input.keywords\n  }\n  if (input.publisher) {\n    output.publisher = input.publisher.name || input.publisher\n  }\n  if (input.date && Object.keys(input.date).length > 0) {\n    const dates = input.date\n    if (dates.submitted) {\n      output.submitted = parseDate(dates.submitted)\n    }\n    if (dates.published) {\n      output.issued = parseDate(dates.published)\n    }\n  } else if (input.year) {\n    output.issued = {\n      'date-parts': [[+input.year]],\n    }\n  }\n  if (input.journal) {\n    const journal = input.journal\n    if (journal.name) {\n      output['container-title'] = journal.name\n    }\n    if (journal.volume) {\n      output.volume = +journal.volume\n    }\n    if (journal.issue) {\n      output.issue = +journal.issue\n    }\n    Object.assign(output, idProps(journal, journalIdentifiers))\n    if (journal.firstpage) {\n      output['page-first'] = journal.firstpage\n    }\n    if (journal.pages) {\n      output.page = journal.pages.replace('--', '-')\n    } else if (journal.firstpage && journal.lastpage) {\n      output.page = journal.firstpage + '-' + journal.lastpage\n    }\n  }\n  if (input.link && typeof input.link[0] === 'object') {\n    output.URL = input.link[0].url\n  }\n  Object.assign(output, idProps(input, identifiers))\n  if (input.cid) {\n    output.id = input.cid\n  } else if (output.DOI) {\n    output.id = output.DOI\n  }\n  return output\n}\nconst parseContentMine = function (data) {\n  return Object.assign(generalProps(data), quickscrapeSpecificProps(data))\n}\nconst parseBibJson = function (data) {\n  return generalProps(data)\n}\nexport { parseContentMine as quickscrapeRecord, parseBibJson as record }\n","import * as json from './json.js'\nimport { plugins } from '../core/index.js'\nconst scraperLinks = ['fulltext_html', 'fulltext_xml', 'fulltext_pdf']\nconst ref = '@bibjson'\nconst parsers = {\n  json,\n}\nconst formats = {\n  '@bibjson/quickscrape+record+object': {\n    parse: json.quickscrapeRecord,\n    parseType: {\n      propertyConstraint: {\n        props: 'link',\n        value(links) {\n          return scraperLinks.some((link) => links.find(({ type }) => type === link))\n        },\n      },\n      extends: '@bibjson/record+object',\n    },\n  },\n  '@bibjson/record+object': {\n    parse: json.record,\n    parseType: {\n      dataType: 'SimpleObject',\n      propertyConstraint: [\n        {\n          props: 'title',\n        },\n        {\n          props: ['author', 'editor'],\n          match: 'some',\n          value(authors) {\n            return Array.isArray(authors) && authors[0] && 'name' in authors[0]\n          },\n        },\n      ],\n    },\n  },\n  '@bibjson/collection+object': {\n    parse(collection) {\n      return collection.records\n    },\n    parseType: {\n      dataType: 'SimpleObject',\n      propertyConstraint: [\n        {\n          props: 'metadata',\n          value(metadata) {\n            return 'collection' in metadata\n          },\n        },\n        {\n          props: 'records',\n          value(records) {\n            return Array.isArray(records)\n          },\n        },\n      ],\n    },\n  },\n}\nplugins.add(ref, {\n  input: formats,\n})\nexport { ref, parsers, formats }\n","(function(root, factory) {\n  if (typeof define === 'function' && define.amd) {\n    define([], factory) /* global define */\n  } else if (typeof module === 'object' && module.exports) {\n    module.exports = factory()\n  } else {\n    root.moo = factory()\n  }\n}(this, function() {\n  'use strict';\n\n  var hasOwnProperty = Object.prototype.hasOwnProperty\n  var toString = Object.prototype.toString\n  var hasSticky = typeof new RegExp().sticky === 'boolean'\n\n  /***************************************************************************/\n\n  function isRegExp(o) { return o && toString.call(o) === '[object RegExp]' }\n  function isObject(o) { return o && typeof o === 'object' && !isRegExp(o) && !Array.isArray(o) }\n\n  function reEscape(s) {\n    return s.replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g, '\\\\$&')\n  }\n  function reGroups(s) {\n    var re = new RegExp('|' + s)\n    return re.exec('').length - 1\n  }\n  function reCapture(s) {\n    return '(' + s + ')'\n  }\n  function reUnion(regexps) {\n    if (!regexps.length) return '(?!)'\n    var source =  regexps.map(function(s) {\n      return \"(?:\" + s + \")\"\n    }).join('|')\n    return \"(?:\" + source + \")\"\n  }\n\n  function regexpOrLiteral(obj) {\n    if (typeof obj === 'string') {\n      return '(?:' + reEscape(obj) + ')'\n\n    } else if (isRegExp(obj)) {\n      // TODO: consider /u support\n      if (obj.ignoreCase) throw new Error('RegExp /i flag not allowed')\n      if (obj.global) throw new Error('RegExp /g flag is implied')\n      if (obj.sticky) throw new Error('RegExp /y flag is implied')\n      if (obj.multiline) throw new Error('RegExp /m flag is implied')\n      return obj.source\n\n    } else {\n      throw new Error('Not a pattern: ' + obj)\n    }\n  }\n\n  function pad(s, length) {\n    if (s.length > length) {\n      return s\n    }\n    return Array(length - s.length + 1).join(\" \") + s\n  }\n\n  function lastNLines(string, numLines) {\n    var position = string.length\n    var lineBreaks = 0;\n    while (true) {\n      var idx = string.lastIndexOf(\"\\n\", position - 1)\n      if (idx === -1) {\n        break;\n      } else {\n        lineBreaks++\n      }\n      position = idx\n      if (lineBreaks === numLines) {\n        break;\n      }\n      if (position === 0) {\n        break;\n      }\n    }\n    var startPosition = \n      lineBreaks < numLines ?\n      0 : \n      position + 1\n    return string.substring(startPosition).split(\"\\n\")\n  }\n\n  function objectToRules(object) {\n    var keys = Object.getOwnPropertyNames(object)\n    var result = []\n    for (var i = 0; i < keys.length; i++) {\n      var key = keys[i]\n      var thing = object[key]\n      var rules = [].concat(thing)\n      if (key === 'include') {\n        for (var j = 0; j < rules.length; j++) {\n          result.push({include: rules[j]})\n        }\n        continue\n      }\n      var match = []\n      rules.forEach(function(rule) {\n        if (isObject(rule)) {\n          if (match.length) result.push(ruleOptions(key, match))\n          result.push(ruleOptions(key, rule))\n          match = []\n        } else {\n          match.push(rule)\n        }\n      })\n      if (match.length) result.push(ruleOptions(key, match))\n    }\n    return result\n  }\n\n  function arrayToRules(array) {\n    var result = []\n    for (var i = 0; i < array.length; i++) {\n      var obj = array[i]\n      if (obj.include) {\n        var include = [].concat(obj.include)\n        for (var j = 0; j < include.length; j++) {\n          result.push({include: include[j]})\n        }\n        continue\n      }\n      if (!obj.type) {\n        throw new Error('Rule has no type: ' + JSON.stringify(obj))\n      }\n      result.push(ruleOptions(obj.type, obj))\n    }\n    return result\n  }\n\n  function ruleOptions(type, obj) {\n    if (!isObject(obj)) {\n      obj = { match: obj }\n    }\n    if (obj.include) {\n      throw new Error('Matching rules cannot also include states')\n    }\n\n    // nb. error and fallback imply lineBreaks\n    var options = {\n      defaultType: type,\n      lineBreaks: !!obj.error || !!obj.fallback,\n      pop: false,\n      next: null,\n      push: null,\n      error: false,\n      fallback: false,\n      value: null,\n      type: null,\n      shouldThrow: false,\n    }\n\n    // Avoid Object.assign(), so we support IE9+\n    for (var key in obj) {\n      if (hasOwnProperty.call(obj, key)) {\n        options[key] = obj[key]\n      }\n    }\n\n    // type transform cannot be a string\n    if (typeof options.type === 'string' && type !== options.type) {\n      throw new Error(\"Type transform cannot be a string (type '\" + options.type + \"' for token '\" + type + \"')\")\n    }\n\n    // convert to array\n    var match = options.match\n    options.match = Array.isArray(match) ? match : match ? [match] : []\n    options.match.sort(function(a, b) {\n      return isRegExp(a) && isRegExp(b) ? 0\n           : isRegExp(b) ? -1 : isRegExp(a) ? +1 : b.length - a.length\n    })\n    return options\n  }\n\n  function toRules(spec) {\n    return Array.isArray(spec) ? arrayToRules(spec) : objectToRules(spec)\n  }\n\n  var defaultErrorRule = ruleOptions('error', {lineBreaks: true, shouldThrow: true})\n  function compileRules(rules, hasStates) {\n    var errorRule = null\n    var fast = Object.create(null)\n    var fastAllowed = true\n    var unicodeFlag = null\n    var groups = []\n    var parts = []\n\n    // If there is a fallback rule, then disable fast matching\n    for (var i = 0; i < rules.length; i++) {\n      if (rules[i].fallback) {\n        fastAllowed = false\n      }\n    }\n\n    for (var i = 0; i < rules.length; i++) {\n      var options = rules[i]\n\n      if (options.include) {\n        // all valid inclusions are removed by states() preprocessor\n        throw new Error('Inheritance is not allowed in stateless lexers')\n      }\n\n      if (options.error || options.fallback) {\n        // errorRule can only be set once\n        if (errorRule) {\n          if (!options.fallback === !errorRule.fallback) {\n            throw new Error(\"Multiple \" + (options.fallback ? \"fallback\" : \"error\") + \" rules not allowed (for token '\" + options.defaultType + \"')\")\n          } else {\n            throw new Error(\"fallback and error are mutually exclusive (for token '\" + options.defaultType + \"')\")\n          }\n        }\n        errorRule = options\n      }\n\n      var match = options.match.slice()\n      if (fastAllowed) {\n        while (match.length && typeof match[0] === 'string' && match[0].length === 1) {\n          var word = match.shift()\n          fast[word.charCodeAt(0)] = options\n        }\n      }\n\n      // Warn about inappropriate state-switching options\n      if (options.pop || options.push || options.next) {\n        if (!hasStates) {\n          throw new Error(\"State-switching options are not allowed in stateless lexers (for token '\" + options.defaultType + \"')\")\n        }\n        if (options.fallback) {\n          throw new Error(\"State-switching options are not allowed on fallback tokens (for token '\" + options.defaultType + \"')\")\n        }\n      }\n\n      // Only rules with a .match are included in the RegExp\n      if (match.length === 0) {\n        continue\n      }\n      fastAllowed = false\n\n      groups.push(options)\n\n      // Check unicode flag is used everywhere or nowhere\n      for (var j = 0; j < match.length; j++) {\n        var obj = match[j]\n        if (!isRegExp(obj)) {\n          continue\n        }\n\n        if (unicodeFlag === null) {\n          unicodeFlag = obj.unicode\n        } else if (unicodeFlag !== obj.unicode && options.fallback === false) {\n          throw new Error('If one rule is /u then all must be')\n        }\n      }\n\n      // convert to RegExp\n      var pat = reUnion(match.map(regexpOrLiteral))\n\n      // validate\n      var regexp = new RegExp(pat)\n      if (regexp.test(\"\")) {\n        throw new Error(\"RegExp matches empty string: \" + regexp)\n      }\n      var groupCount = reGroups(pat)\n      if (groupCount > 0) {\n        throw new Error(\"RegExp has capture groups: \" + regexp + \"\\nUse (?: … ) instead\")\n      }\n\n      // try and detect rules matching newlines\n      if (!options.lineBreaks && regexp.test('\\n')) {\n        throw new Error('Rule should declare lineBreaks: ' + regexp)\n      }\n\n      // store regex\n      parts.push(reCapture(pat))\n    }\n\n\n    // If there's no fallback rule, use the sticky flag so we only look for\n    // matches at the current index.\n    //\n    // If we don't support the sticky flag, then fake it using an irrefutable\n    // match (i.e. an empty pattern).\n    var fallbackRule = errorRule && errorRule.fallback\n    var flags = hasSticky && !fallbackRule ? 'ym' : 'gm'\n    var suffix = hasSticky || fallbackRule ? '' : '|'\n\n    if (unicodeFlag === true) flags += \"u\"\n    var combined = new RegExp(reUnion(parts) + suffix, flags)\n    return {regexp: combined, groups: groups, fast: fast, error: errorRule || defaultErrorRule}\n  }\n\n  function compile(rules) {\n    var result = compileRules(toRules(rules))\n    return new Lexer({start: result}, 'start')\n  }\n\n  function checkStateGroup(g, name, map) {\n    var state = g && (g.push || g.next)\n    if (state && !map[state]) {\n      throw new Error(\"Missing state '\" + state + \"' (in token '\" + g.defaultType + \"' of state '\" + name + \"')\")\n    }\n    if (g && g.pop && +g.pop !== 1) {\n      throw new Error(\"pop must be 1 (in token '\" + g.defaultType + \"' of state '\" + name + \"')\")\n    }\n  }\n  function compileStates(states, start) {\n    var all = states.$all ? toRules(states.$all) : []\n    delete states.$all\n\n    var keys = Object.getOwnPropertyNames(states)\n    if (!start) start = keys[0]\n\n    var ruleMap = Object.create(null)\n    for (var i = 0; i < keys.length; i++) {\n      var key = keys[i]\n      ruleMap[key] = toRules(states[key]).concat(all)\n    }\n    for (var i = 0; i < keys.length; i++) {\n      var key = keys[i]\n      var rules = ruleMap[key]\n      var included = Object.create(null)\n      for (var j = 0; j < rules.length; j++) {\n        var rule = rules[j]\n        if (!rule.include) continue\n        var splice = [j, 1]\n        if (rule.include !== key && !included[rule.include]) {\n          included[rule.include] = true\n          var newRules = ruleMap[rule.include]\n          if (!newRules) {\n            throw new Error(\"Cannot include nonexistent state '\" + rule.include + \"' (in state '\" + key + \"')\")\n          }\n          for (var k = 0; k < newRules.length; k++) {\n            var newRule = newRules[k]\n            if (rules.indexOf(newRule) !== -1) continue\n            splice.push(newRule)\n          }\n        }\n        rules.splice.apply(rules, splice)\n        j--\n      }\n    }\n\n    var map = Object.create(null)\n    for (var i = 0; i < keys.length; i++) {\n      var key = keys[i]\n      map[key] = compileRules(ruleMap[key], true)\n    }\n\n    for (var i = 0; i < keys.length; i++) {\n      var name = keys[i]\n      var state = map[name]\n      var groups = state.groups\n      for (var j = 0; j < groups.length; j++) {\n        checkStateGroup(groups[j], name, map)\n      }\n      var fastKeys = Object.getOwnPropertyNames(state.fast)\n      for (var j = 0; j < fastKeys.length; j++) {\n        checkStateGroup(state.fast[fastKeys[j]], name, map)\n      }\n    }\n\n    return new Lexer(map, start)\n  }\n\n  function keywordTransform(map) {\n\n    // Use a JavaScript Map to map keywords to their corresponding token type\n    // unless Map is unsupported, then fall back to using an Object:\n    var isMap = typeof Map !== 'undefined'\n    var reverseMap = isMap ? new Map : Object.create(null)\n\n    var types = Object.getOwnPropertyNames(map)\n    for (var i = 0; i < types.length; i++) {\n      var tokenType = types[i]\n      var item = map[tokenType]\n      var keywordList = Array.isArray(item) ? item : [item]\n      keywordList.forEach(function(keyword) {\n        if (typeof keyword !== 'string') {\n          throw new Error(\"keyword must be string (in keyword '\" + tokenType + \"')\")\n        }\n        if (isMap) {\n          reverseMap.set(keyword, tokenType)\n        } else {\n          reverseMap[keyword] = tokenType\n        }\n      })\n    }\n    return function(k) {\n      return isMap ? reverseMap.get(k) : reverseMap[k]\n    }\n  }\n\n  /***************************************************************************/\n\n  var Lexer = function(states, state) {\n    this.startState = state\n    this.states = states\n    this.buffer = ''\n    this.stack = []\n    this.reset()\n  }\n\n  Lexer.prototype.reset = function(data, info) {\n    this.buffer = data || ''\n    this.index = 0\n    this.line = info ? info.line : 1\n    this.col = info ? info.col : 1\n    this.queuedToken = info ? info.queuedToken : null\n    this.queuedText = info ? info.queuedText: \"\";\n    this.queuedThrow = info ? info.queuedThrow : null\n    this.setState(info ? info.state : this.startState)\n    this.stack = info && info.stack ? info.stack.slice() : []\n    return this\n  }\n\n  Lexer.prototype.save = function() {\n    return {\n      line: this.line,\n      col: this.col,\n      state: this.state,\n      stack: this.stack.slice(),\n      queuedToken: this.queuedToken,\n      queuedText: this.queuedText,\n      queuedThrow: this.queuedThrow,\n    }\n  }\n\n  Lexer.prototype.setState = function(state) {\n    if (!state || this.state === state) return\n    this.state = state\n    var info = this.states[state]\n    this.groups = info.groups\n    this.error = info.error\n    this.re = info.regexp\n    this.fast = info.fast\n  }\n\n  Lexer.prototype.popState = function() {\n    this.setState(this.stack.pop())\n  }\n\n  Lexer.prototype.pushState = function(state) {\n    this.stack.push(this.state)\n    this.setState(state)\n  }\n\n  var eat = hasSticky ? function(re, buffer) { // assume re is /y\n    return re.exec(buffer)\n  } : function(re, buffer) { // assume re is /g\n    var match = re.exec(buffer)\n    // will always match, since we used the |(?:) trick\n    if (match[0].length === 0) {\n      return null\n    }\n    return match\n  }\n\n  Lexer.prototype._getGroup = function(match) {\n    var groupCount = this.groups.length\n    for (var i = 0; i < groupCount; i++) {\n      if (match[i + 1] !== undefined) {\n        return this.groups[i]\n      }\n    }\n    throw new Error('Cannot find token type for matched text')\n  }\n\n  function tokenToString() {\n    return this.value\n  }\n\n  Lexer.prototype.next = function() {\n    var index = this.index\n\n    // If a fallback token matched, we don't need to re-run the RegExp\n    if (this.queuedGroup) {\n      var token = this._token(this.queuedGroup, this.queuedText, index)\n      this.queuedGroup = null\n      this.queuedText = \"\"\n      return token\n    }\n\n    var buffer = this.buffer\n    if (index === buffer.length) {\n      return // EOF\n    }\n\n    // Fast matching for single characters\n    var group = this.fast[buffer.charCodeAt(index)]\n    if (group) {\n      return this._token(group, buffer.charAt(index), index)\n    }\n\n    // Execute RegExp\n    var re = this.re\n    re.lastIndex = index\n    var match = eat(re, buffer)\n\n    // Error tokens match the remaining buffer\n    var error = this.error\n    if (match == null) {\n      return this._token(error, buffer.slice(index, buffer.length), index)\n    }\n\n    var group = this._getGroup(match)\n    var text = match[0]\n\n    if (error.fallback && match.index !== index) {\n      this.queuedGroup = group\n      this.queuedText = text\n\n      // Fallback tokens contain the unmatched portion of the buffer\n      return this._token(error, buffer.slice(index, match.index), index)\n    }\n\n    return this._token(group, text, index)\n  }\n\n  Lexer.prototype._token = function(group, text, offset) {\n    // count line breaks\n    var lineBreaks = 0\n    if (group.lineBreaks) {\n      var matchNL = /\\n/g\n      var nl = 1\n      if (text === '\\n') {\n        lineBreaks = 1\n      } else {\n        while (matchNL.exec(text)) { lineBreaks++; nl = matchNL.lastIndex }\n      }\n    }\n\n    var token = {\n      type: (typeof group.type === 'function' && group.type(text)) || group.defaultType,\n      value: typeof group.value === 'function' ? group.value(text) : text,\n      text: text,\n      toString: tokenToString,\n      offset: offset,\n      lineBreaks: lineBreaks,\n      line: this.line,\n      col: this.col,\n    }\n    // nb. adding more props to token object will make V8 sad!\n\n    var size = text.length\n    this.index += size\n    this.line += lineBreaks\n    if (lineBreaks !== 0) {\n      this.col = size - nl + 1\n    } else {\n      this.col += size\n    }\n\n    // throw, if no rule with {error: true}\n    if (group.shouldThrow) {\n      var err = new Error(this.formatError(token, \"invalid syntax\"))\n      throw err;\n    }\n\n    if (group.pop) this.popState()\n    else if (group.push) this.pushState(group.push)\n    else if (group.next) this.setState(group.next)\n\n    return token\n  }\n\n  if (typeof Symbol !== 'undefined' && Symbol.iterator) {\n    var LexerIterator = function(lexer) {\n      this.lexer = lexer\n    }\n\n    LexerIterator.prototype.next = function() {\n      var token = this.lexer.next()\n      return {value: token, done: !token}\n    }\n\n    LexerIterator.prototype[Symbol.iterator] = function() {\n      return this\n    }\n\n    Lexer.prototype[Symbol.iterator] = function() {\n      return new LexerIterator(this)\n    }\n  }\n\n  Lexer.prototype.formatError = function(token, message) {\n    if (token == null) {\n      // An undefined token indicates EOF\n      var text = this.buffer.slice(this.index)\n      var token = {\n        text: text,\n        offset: this.index,\n        lineBreaks: text.indexOf('\\n') === -1 ? 0 : 1,\n        line: this.line,\n        col: this.col,\n      }\n    }\n    \n    var numLinesAround = 2\n    var firstDisplayedLine = Math.max(token.line - numLinesAround, 1)\n    var lastDisplayedLine = token.line + numLinesAround\n    var lastLineDigits = String(lastDisplayedLine).length\n    var displayedLines = lastNLines(\n        this.buffer, \n        (this.line - token.line) + numLinesAround + 1\n      )\n      .slice(0, 5)\n    var errorLines = []\n    errorLines.push(message + \" at line \" + token.line + \" col \" + token.col + \":\")\n    errorLines.push(\"\")\n    for (var i = 0; i < displayedLines.length; i++) {\n      var line = displayedLines[i]\n      var lineNo = firstDisplayedLine + i\n      errorLines.push(pad(String(lineNo), lastLineDigits) + \"  \" + line);\n      if (lineNo === token.line) {\n        errorLines.push(pad(\"\", lastLineDigits + token.col + 1) + \"^\")\n      }\n    }\n    return errorLines.join(\"\\n\")\n  }\n\n  Lexer.prototype.clone = function() {\n    return new Lexer(this.states, this.state)\n  }\n\n  Lexer.prototype.has = function(tokenType) {\n    return true\n  }\n\n\n  return {\n    compile: compile,\n    states: compileStates,\n    error: Object.freeze({error: true}),\n    fallback: Object.freeze({fallback: true}),\n    keywords: keywordTransform,\n  }\n\n}));\n","import _required from './required.json'\nimport _fieldTypes from './fieldTypes.json'\nimport unicode from './unicode.json'\nexport const required = _required\nexport const fieldTypes = _fieldTypes\nexport const diacritics = unicode.diacritics\nexport const commands = unicode.commands\nexport const defaultStrings = {\n  jan: '01',\n  feb: '02',\n  mar: '03',\n  apr: '04',\n  may: '05',\n  jun: '06',\n  jul: '07',\n  aug: '08',\n  sep: '09',\n  oct: '10',\n  nov: '11',\n  dec: '12',\n  acmcs: 'ACM Computing Surveys',\n  acta: 'Acta Informatica',\n  cacm: 'Communications of the ACM',\n  ibmjrd: 'IBM Journal of Research and Development',\n  ibmsj: 'IBM Systems Journal',\n  ieeese: 'IEEE Transactions on Software Engineering',\n  ieeetc: 'IEEE Transactions on Computers',\n  ieeetcad: 'IEEE Transactions on Computer-Aided Design of Integrated Circuits',\n  ipl: 'Information Processing Letters',\n  jacm: 'Journal of the ACM',\n  jcss: 'Journal of Computer and System Sciences',\n  scp: 'Science of Computer Programming',\n  sicomp: 'SIAM Journal on Computing',\n  tocs: 'ACM Transactions on Computer Systems',\n  tods: 'ACM Transactions on Database Systems',\n  tog: 'ACM Transactions on Graphics',\n  toms: 'ACM Transactions on Mathematical Software',\n  toois: 'ACM Transactions on Office Information Systems',\n  toplas: 'ACM Transactions on Programming Languages and Systems',\n  tcs: 'Theoretical Computer Science',\n}\nexport const formattingEnvs = {\n  it: 'italics',\n  itshape: 'italics',\n  sl: 'italics',\n  slshape: 'italics',\n  em: 'italics',\n  bf: 'bold',\n  bfseries: 'bold',\n  sc: 'smallcaps',\n  scshape: 'smallcaps',\n  rm: undefined,\n  sf: undefined,\n  tt: undefined,\n}\nexport const formattingCommands = {\n  textit: 'italics',\n  textsl: 'italics',\n  emph: 'italics',\n  mkbibitalic: 'italics',\n  mkbibemph: 'italics',\n  textbf: 'bold',\n  strong: 'bold',\n  mkbibbold: 'bold',\n  textsc: 'smallcaps',\n  textsuperscript: 'superscript',\n  textsubscript: 'subscript',\n  enquote: 'quotes',\n  mkbibquote: 'quotes',\n  textmd: undefined,\n  textrm: undefined,\n  textsf: undefined,\n  texttt: undefined,\n  textup: undefined,\n}\nexport const formatting = {\n  italics: ['<i>', '</i>'],\n  bold: ['<b>', '</b>'],\n  superscript: ['<sup>', '</sup>'],\n  subscript: ['<sub>', '</sub>'],\n  smallcaps: ['<span style=\"font-variant:small-caps;\">', '</span>'],\n  nocase: ['<span class=\"nocase\">', '</span>'],\n  quotes: ['\\u201C', '\\u201D'],\n}\nexport const argumentCommands = {\n  ElsevierGlyph(glyph) {\n    return String.fromCharCode(parseInt(glyph, 16))\n  },\n  href(url, text) {\n    return url\n  },\n  url(url) {\n    return url\n  },\n}\nexport const ligaturePattern = /---?|''|``|~/g\nexport const ligatures = {\n  '--': '\\u2013',\n  '---': '\\u2014',\n  '``': '\\u201C',\n  \"''\": '\\u201D',\n  '~': '\\u00A0',\n}\nexport const mathScriptFormatting = {\n  '^': 'superscript',\n  sp: 'superscript',\n  _: 'subscript',\n  sb: 'subscript',\n  mathrm: undefined,\n}\nexport const mathScripts = {\n  '^': {\n    0: '\\u2070',\n    1: '\\u00B9',\n    2: '\\u00B2',\n    3: '\\u00B3',\n    4: '\\u2074',\n    5: '\\u2075',\n    6: '\\u2076',\n    7: '\\u2077',\n    8: '\\u2078',\n    9: '\\u2079',\n    '+': '\\u207A',\n    '-': '\\u207B',\n    '=': '\\u207C',\n    '(': '\\u207D',\n    ')': '\\u207E',\n    i: '\\u2071',\n    n: '\\u207F',\n  },\n  _: {\n    0: '\\u2080',\n    1: '\\u2081',\n    2: '\\u2082',\n    3: '\\u2083',\n    4: '\\u2084',\n    5: '\\u2085',\n    6: '\\u2086',\n    7: '\\u2087',\n    8: '\\u2088',\n    9: '\\u2089',\n    '+': '\\u208A',\n    '-': '\\u208B',\n    '=': '\\u208C',\n    '(': '\\u208D',\n    ')': '\\u208E',\n    a: '\\u2090',\n    e: '\\u2091',\n    o: '\\u2092',\n    x: '\\u2093',\n    '\\u0259': '\\u2094',\n    h: '\\u2095',\n    k: '\\u2096',\n    l: '\\u2097',\n    m: '\\u2098',\n    n: '\\u2099',\n    s: '\\u209A',\n    p: '\\u209B',\n    t: '\\u209C',\n  },\n}\nexport const sentenceCaseLanguages = [\n  'american',\n  'british',\n  'canadian',\n  'english',\n  'australian',\n  'newzealand',\n  'usenglish',\n  'ukenglish',\n  'en',\n  'eng',\n  'en-au',\n  'en-bz',\n  'en-ca',\n  'en-cb',\n  'en-gb',\n  'en-ie',\n  'en-jm',\n  'en-nz',\n  'en-ph',\n  'en-tt',\n  'en-us',\n  'en-za',\n  'en-zw',\n  'anglais',\n]\n","function ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object)\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object)\n    enumerableOnly &&\n      (symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable\n      })),\n      keys.push.apply(keys, symbols)\n  }\n  return keys\n}\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {}\n    i % 2\n      ? ownKeys(Object(source), !0).forEach(function (key) {\n          _defineProperty(target, key, source[key])\n        })\n      : Object.getOwnPropertyDescriptors\n      ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source))\n      : ownKeys(Object(source)).forEach(function (key) {\n          Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key))\n        })\n  }\n  return target\n}\nfunction _defineProperty(obj, key, value) {\n  key = _toPropertyKey(key)\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true,\n    })\n  } else {\n    obj[key] = value\n  }\n  return obj\n}\nfunction _toPropertyKey(arg) {\n  var key = _toPrimitive(arg, 'string')\n  return typeof key === 'symbol' ? key : String(key)\n}\nfunction _toPrimitive(input, hint) {\n  if (typeof input !== 'object' || input === null) return input\n  var prim = input[Symbol.toPrimitive]\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || 'default')\n    if (typeof res !== 'object') return res\n    throw new TypeError('@@toPrimitive must return a primitive value.')\n  }\n  return (hint === 'string' ? String : Number)(input)\n}\nimport { util, logger } from '../../core/index.js'\nimport moo from 'moo'\nimport { defaultStrings } from './constants.js'\nconst identifier = /[a-zA-Z_][a-zA-Z0-9_:-]*/\nconst whitespace = {\n  comment: /%.*/,\n  whitespace: {\n    match: /\\s+/,\n    lineBreaks: true,\n  },\n}\nconst lexer = moo.states({\n  main: {\n    junk: {\n      match: /@[cC][oO][mM][mM][eE][nN][tT].+|[^@]+/,\n      lineBreaks: true,\n    },\n    at: {\n      match: '@',\n      push: 'entry',\n    },\n  },\n  entry: _objectSpread(\n    _objectSpread({}, whitespace),\n    {},\n    {\n      otherEntryType: {\n        match: /[sS][tT][rR][iI][nN][gG]|[pP][rR][eE][aA][mM][bB][lL][eE]/,\n        next: 'otherEntryContents',\n      },\n      dataEntryType: {\n        match: identifier,\n        next: 'dataEntryContents',\n      },\n    }\n  ),\n  otherEntryContents: _objectSpread(\n    _objectSpread({}, whitespace),\n    {},\n    {\n      lbrace: {\n        match: /[{(]/,\n        next: 'fields',\n      },\n    }\n  ),\n  dataEntryContents: _objectSpread(\n    _objectSpread({}, whitespace),\n    {},\n    {\n      lbrace: {\n        match: /[{(]/,\n        next: 'dataEntryContents',\n      },\n      label: /[^,\\s]+/,\n      comma: {\n        match: ',',\n        next: 'fields',\n      },\n    }\n  ),\n  fields: _objectSpread(\n    _objectSpread({}, whitespace),\n    {},\n    {\n      identifier,\n      number: /-?\\d+/,\n      hash: '#',\n      equals: '=',\n      comma: ',',\n      quote: {\n        match: '\"',\n        push: 'quotedLiteral',\n      },\n      lbrace: {\n        match: '{',\n        push: 'bracedLiteral',\n      },\n      rbrace: {\n        match: /[})]/,\n        pop: true,\n      },\n    }\n  ),\n  quotedLiteral: {\n    lbrace: {\n      match: '{',\n      push: 'bracedLiteral',\n    },\n    quote: {\n      match: '\"',\n      pop: true,\n    },\n    text: {\n      match: /(?:\\\\[\\\\{]|[^{\"])+/,\n      lineBreaks: true,\n    },\n  },\n  bracedLiteral: {\n    lbrace: {\n      match: '{',\n      push: 'bracedLiteral',\n    },\n    rbrace: {\n      match: '}',\n      pop: true,\n    },\n    text: {\n      match: /(?:\\\\[\\\\{}]|[^{}])+/,\n      lineBreaks: true,\n    },\n  },\n})\nconst delimiters = {\n  '(': ')',\n  '{': '}',\n}\nexport const bibtexGrammar = new util.Grammar(\n  {\n    Main() {\n      const entries = []\n      while (true) {\n        while (this.matchToken('junk')) {\n          this.consumeToken('junk')\n        }\n        if (this.matchEndOfFile()) {\n          break\n        }\n        entries.push(this.consumeRule('Entry'))\n      }\n      return entries.filter(Boolean)\n    },\n    _() {\n      let oldToken\n      while (oldToken !== this.token) {\n        oldToken = this.token\n        this.consumeToken('whitespace', true)\n        this.consumeToken('comment', true)\n      }\n    },\n    Entry() {\n      this.consumeToken('at')\n      this.consumeRule('_')\n      const type = (\n        this.matchToken('otherEntryType')\n          ? this.consumeToken('otherEntryType')\n          : this.consumeToken('dataEntryType')\n      ).value.toLowerCase()\n      this.consumeRule('_')\n      const openBrace = this.consumeToken('lbrace').value\n      this.consumeRule('_')\n      let result\n      if (type === 'string') {\n        const [key, value] = this.consumeRule('Field')\n        this.state.strings[key] = value\n      } else if (type === 'preamble') {\n        this.consumeRule('Expression')\n      } else {\n        const label = this.consumeToken('label').value\n        this.consumeRule('_')\n        this.consumeToken('comma')\n        this.consumeRule('_')\n        const properties = this.consumeRule('EntryBody')\n        result = {\n          type,\n          label,\n          properties,\n        }\n      }\n      this.consumeRule('_')\n      const closeBrace = this.consumeToken('rbrace').value\n      if (closeBrace !== delimiters[openBrace]) {\n        logger.warn(\n          '[plugin-bibtex]',\n          `entry started with \"${openBrace}\", but ends with \"${closeBrace}\"`\n        )\n      }\n      return result\n    },\n    EntryBody() {\n      const properties = {}\n      while (this.matchToken('identifier')) {\n        const [field, value] = this.consumeRule('Field')\n        properties[field] = value\n        this.consumeRule('_')\n        if (this.consumeToken('comma', true)) {\n          this.consumeRule('_')\n        } else {\n          break\n        }\n      }\n      return properties\n    },\n    Field() {\n      const field = this.consumeToken('identifier').value.toLowerCase()\n      this.consumeRule('_')\n      this.consumeToken('equals')\n      this.consumeRule('_')\n      const value = this.consumeRule('Expression')\n      return [field, value]\n    },\n    Expression() {\n      let output = this.consumeRule('ExpressionPart')\n      this.consumeRule('_')\n      while (this.matchToken('hash')) {\n        this.consumeToken('hash')\n        this.consumeRule('_')\n        output += this.consumeRule('ExpressionPart').toString()\n        this.consumeRule('_')\n      }\n      return output\n    },\n    ExpressionPart() {\n      if (this.matchToken('identifier')) {\n        return this.state.strings[this.consumeToken('identifier').value.toLowerCase()] || ''\n      } else if (this.matchToken('number')) {\n        return parseInt(this.consumeToken('number'))\n      } else if (this.matchToken('quote')) {\n        return this.consumeRule('QuoteString')\n      } else {\n        return this.consumeRule('BracketString')\n      }\n    },\n    QuoteString() {\n      let output = ''\n      this.consumeToken('quote')\n      while (!this.matchToken('quote')) {\n        output += this.consumeRule('Text')\n      }\n      this.consumeToken('quote')\n      return output\n    },\n    BracketString() {\n      let output = ''\n      this.consumeToken('lbrace')\n      while (!this.matchToken('rbrace')) {\n        output += this.consumeRule('Text')\n      }\n      this.consumeToken('rbrace')\n      return output\n    },\n    Text() {\n      if (this.matchToken('lbrace')) {\n        return `{${this.consumeRule('BracketString')}}`\n      } else {\n        return this.consumeToken('text').value\n      }\n    },\n  },\n  {\n    strings: defaultStrings,\n  }\n)\nexport function parse(text) {\n  return bibtexGrammar.parse(lexer.reset(text))\n}\n","const bibTxtRegex = {\n  splitEntries: /\\n\\s*(?=\\[)/g,\n  parseEntry: /^\\[(.+?)\\]\\s*(?:\\n([\\s\\S]+))?$/,\n  splitPairs: /((?=.)\\s)*\\n\\s*/g,\n  splitPair: /:(.*)/,\n}\nconst parseBibTxtEntry = (entry) => {\n  const [, label, pairs] = entry.match(bibTxtRegex.parseEntry) || []\n  if (!label || !pairs) {\n    return {}\n  } else {\n    const out = {\n      type: 'book',\n      label,\n      properties: {},\n    }\n    pairs\n      .trim()\n      .split(bibTxtRegex.splitPairs)\n      .filter((v) => v)\n      .forEach((pair) => {\n        let [key, value] = pair.split(bibTxtRegex.splitPair)\n        if (value) {\n          key = key.trim()\n          value = value.trim()\n          if (key === 'type') {\n            out.type = value\n          } else {\n            out.properties[key] = value\n          }\n        }\n      })\n    return out\n  }\n}\nconst parseBibTxt = (src) => src.trim().split(bibTxtRegex.splitEntries).map(parseBibTxtEntry)\nexport { parseBibTxt as parse, parseBibTxt as text, parseBibTxtEntry as textEntry }\n","import biblatex from './mapping/biblatexTypes.json'\nimport bibtex from './mapping/bibtexTypes.json'\nimport * as constants from './input/constants.js'\nexport default {\n  constants,\n  types: {\n    biblatex,\n    bibtex,\n  },\n  parse: {\n    biblatex: true,\n    strict: false,\n    sentenceCase: 'never',\n  },\n  format: {\n    useIdAsLabel: false,\n  },\n}\n","//@ts-nocheck\nimport { util } from '../../core/index.js'\nimport config from '../config.js'\nconst stopWords = new Set(['the', 'a', 'an'])\nconst unsafeChars = /(?:<\\/?.*?>|[\\u0020-\\u002F\\u003A-\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F])+/g\nconst unicode = /[^\\u0020-\\u007F]+/g\nfunction firstWord(text) {\n  if (!text) {\n    return ''\n  } else {\n    return text\n      .normalize('NFKD')\n      .replace(unicode, '')\n      .split(unsafeChars)\n      .find((word) => word.length && !stopWords.has(word.toLowerCase()))\n  }\n}\nconst name = new util.Translator([\n  {\n    source: 'given',\n    target: 'given',\n  },\n  {\n    source: 'family',\n    target: 'family',\n  },\n  {\n    source: 'suffix',\n    target: 'suffix',\n  },\n  {\n    source: 'prefix',\n    target: 'non-dropping-particle',\n  },\n  {\n    source: 'family',\n    target: 'literal',\n    when: {\n      source: false,\n      target: {\n        family: false,\n        given: false,\n      },\n    },\n  },\n])\nconst months = ['jan', 'feb', 'mar', 'apr', 'may', 'jun', 'jul', 'aug', 'sep', 'oct', 'nov', 'dec']\nexport const TYPE = 'BibTeX type'\nexport const LABEL = 'BibTeX label'\nexport const MONTHS = {\n  jan: 1,\n  feb: 2,\n  mar: 3,\n  apr: 4,\n  may: 5,\n  jun: 6,\n  jul: 7,\n  aug: 8,\n  sep: 9,\n  oct: 10,\n  nov: 11,\n  dec: 12,\n  january: 1,\n  february: 2,\n  march: 3,\n  april: 4,\n  may: 5,\n  june: 6,\n  july: 7,\n  august: 8,\n  september: 9,\n  october: 10,\n  november: 11,\n  december: 12,\n}\nexport const TYPE_KEYS = {\n  bathesis: \"Bachelor's thesis\",\n  mathesis: \"Master's thesis\",\n  phdthesis: 'PhD thesis',\n  candthesis: 'Candidate thesis',\n  techreport: 'technical report',\n  resreport: 'research report',\n  software: 'computer software',\n  datacd: 'data cd',\n  audiocd: 'audio cd',\n  patent: 'patent',\n  patentde: 'German patent',\n  patenteu: 'European patent',\n  patentfr: 'French patent',\n  patentuk: 'British patent',\n  patentus: 'U.S. patent',\n  patreq: 'patent request',\n  patreqde: 'German patent request',\n  patreqeu: 'European patent request',\n  patreqfr: 'French patent request',\n  patrequk: 'British patent request',\n  patrequs: 'U.S. patent request',\n}\nexport const STANDARD_NUMBERS_PATTERN =\n  /(^(?:ISAN )?(?:[0-9a-f]{4}-){4}[0-9a-z](?:-(?:[0-9a-f]{4}-){2}[0-9a-z])?$)|(^(?:979-?0-?|M-?)(?:\\d{9}|(?=[\\d-]{11}$)\\d+-\\d+-\\d)$)|(^ISRN .{1,36}$)|(^(?:ISWC )?T-?\\d{9}-?\\d$)/i\nexport function parseDate(date) {\n  const parts = date\n    .split('T')[0]\n    .replace(/[?~%]$/, '')\n    .split('-')\n  const year = +parts[0].replace(/^Y(?=-?\\d{4}\\d+)/, '').replace(/X/g, '0')\n  const month = +parts[1]\n  const day = +parts[2]\n  if (!month || month > 20) {\n    return [year]\n  } else if (!day) {\n    return [year, month]\n  } else {\n    return [year, month, day]\n  }\n}\nexport function parseMonth(value) {\n  if (value == null) {\n    return []\n  }\n  if (+value) {\n    return [parseInt(value, 10)]\n  }\n  value = value.trim().toLowerCase()\n  if (value in MONTHS) {\n    return [MONTHS[value]]\n  }\n  const parts = value.split(/\\s+/)\n  let month\n  let day\n  if (parts[0] in MONTHS) {\n    month = MONTHS[parts[0]]\n    day = parseInt(parts[1])\n  } else if (parts[1] in MONTHS) {\n    month = MONTHS[parts[1]]\n    day = parseInt(parts[0])\n  }\n  return day ? [month, day] : month ? [month] : []\n}\nexport function formatLabel(author, issued, suffix, title) {\n  let label = ''\n  if (author && author[0]) {\n    label += firstWord(author[0].family || author[0].literal)\n  }\n  if (issued && issued['date-parts'] && issued['date-parts'][0]) {\n    label += issued['date-parts'][0][0]\n  }\n  if (suffix) {\n    label += suffix\n  } else if (title) {\n    label += firstWord(title)\n  }\n  return label\n}\nexport const Converters = {\n  PICK: {\n    toTarget(...args) {\n      return args.find(Boolean)\n    },\n    toSource(value) {\n      return [value]\n    },\n  },\n  DATE: {\n    toTarget(date) {\n      const parts = date\n        .split('/')\n        .map((part) => (part && part !== '..' ? parseDate(part) : undefined))\n      return isNaN(parts[0][0])\n        ? {\n            literal: date,\n          }\n        : {\n            'date-parts': parts,\n          }\n    },\n    toSource(date) {\n      if ('date-parts' in date) {\n        return date['date-parts']\n          .map((datePart) =>\n            datePart.map((datePart) => datePart.toString().padStart(2, '0')).join('-')\n          )\n          .join('/')\n      }\n    },\n  },\n  YEAR_MONTH: {\n    toTarget(year, month, day) {\n      if (isNaN(+year)) {\n        return {\n          literal: year,\n        }\n      } else if (!isNaN(+day) && !isNaN(+month)) {\n        return {\n          'date-parts': [[+year, +month, +day]],\n        }\n      } else {\n        return {\n          'date-parts': [[+year, ...parseMonth(month)]],\n        }\n      }\n    },\n    toSource(date) {\n      if ('date-parts' in date) {\n        const [year, month, day] = date['date-parts'][0]\n        return [year.toString(), month ? (day ? `${months[month - 1]} ${day}` : month) : undefined]\n      } else {\n        return []\n      }\n    },\n  },\n  EPRINT: {\n    toTarget(id, type) {\n      if (type === 'pubmed') {\n        return id\n      }\n    },\n    toSource(id) {\n      return [id, 'pubmed']\n    },\n  },\n  EVENT_TITLE: {\n    toTarget(title, addon) {\n      if (addon) {\n        title += ' (' + addon + ')'\n      }\n      return title\n    },\n    toSource(title) {\n      return title.match(/^(.+)(?: \\((.+)\\))?$/).slice(1, 3)\n    },\n  },\n  HOW_PUBLISHED: {\n    toTarget(howPublished) {\n      if (howPublished.startsWith('http')) {\n        return howPublished\n      }\n    },\n  },\n  KEYWORDS: {\n    toTarget(list) {\n      return list.join(',')\n    },\n    toSource(list) {\n      return list.split(',')\n    },\n  },\n  LABEL: {\n    toTarget(label) {\n      return [label, label]\n    },\n    toSource(id, label, author, issued, suffix, title) {\n      let safeId\n      if (id === null) {\n        safeId = 'null'\n      } else if (id === undefined) {\n        safeId = 'undefined'\n      } else {\n        safeId = id.toString().replace(unsafeChars, '')\n      }\n      if (config.format.useIdAsLabel) {\n        return safeId\n      }\n      if (label && !unsafeChars.test(label)) {\n        return label\n      } else {\n        return formatLabel(author, issued, suffix, title) || safeId\n      }\n    },\n  },\n  NAMES: {\n    toTarget(list) {\n      return list.map(name.convertToTarget)\n    },\n    toSource(list) {\n      return list.map(name.convertToSource)\n    },\n  },\n  PAGES: {\n    toTarget(pages) {\n      return pages.replace(/[–—]/, '-')\n    },\n    toSource(pages) {\n      return pages.replace('-', '--')\n    },\n  },\n  STANDARD_NUMBERS: {\n    toTarget(...args) {\n      return args.find(Boolean)\n    },\n    toSource(number) {\n      const match = number.toString().match(STANDARD_NUMBERS_PATTERN)\n      return match ? match.slice(1, 5) : []\n    },\n  },\n  STATUS: {\n    toSource(state) {\n      if (/^(inpreparation|submitted|forthcoming|inpress|prepublished)$/i.test(state)) {\n        return state\n      }\n    },\n  },\n  TITLE: {\n    toTarget(title, subtitle, addon) {\n      if (subtitle) {\n        title += ': ' + subtitle\n      }\n      return title\n    },\n    toSource(title) {\n      return [title]\n    },\n  },\n}\n","import { util } from '../../core/index.js'\nimport { format as formatDate } from '@citation-js/date'\nimport types from './biblatexTypes.json'\nimport { TYPE, LABEL, TYPE_KEYS, Converters } from './shared.js'\nconst nonSpec = [\n  {\n    source: 'note',\n    target: 'accessed',\n    when: {\n      source: false,\n      target: {\n        note: false,\n        addendum: false,\n      },\n    },\n    convert: {\n      toSource(accessed) {\n        return `[Online; accessed ${formatDate(accessed)}]`\n      },\n    },\n  },\n  {\n    source: 'numpages',\n    target: 'number-of-pages',\n    when: {\n      source: {\n        pagetotal: false,\n      },\n      target: false,\n    },\n  },\n  {\n    source: 'pmid',\n    target: 'PMID',\n    when: {\n      source: {\n        eprinttype(type) {\n          return type !== 'pmid'\n        },\n        archiveprefix(type) {\n          return type !== 'pmid'\n        },\n      },\n      target: false,\n    },\n  },\n  {\n    source: 'pmcid',\n    target: 'PMCID',\n    when: {\n      target: false,\n    },\n  },\n  {\n    source: 's2id',\n    target: 'custom',\n    convert: {\n      toTarget(S2ID) {\n        return {\n          S2ID,\n        }\n      },\n      toSource({ S2ID }) {\n        return S2ID\n      },\n    },\n  },\n]\nconst aliases = [\n  {\n    source: 'annote',\n    target: 'annote',\n    when: {\n      source: {\n        annotation: false,\n      },\n      target: false,\n    },\n  },\n  {\n    source: 'address',\n    target: 'publisher-place',\n    convert: Converters.PICK,\n    when: {\n      source: {\n        location: false,\n      },\n      target: false,\n    },\n  },\n  {\n    source: ['eprint', 'archiveprefix'],\n    target: 'PMID',\n    convert: Converters.EPRINT,\n    when: {\n      source: {\n        eprinttype: false,\n      },\n      target: false,\n    },\n  },\n  {\n    source: 'journal',\n    target: 'container-title',\n    when: {\n      source: {\n        maintitle: false,\n        booktitle: false,\n        journaltitle: false,\n      },\n      target: false,\n    },\n  },\n  {\n    source: 'school',\n    target: 'publisher',\n    convert: Converters.PICK,\n    when: {\n      source: {\n        institution: false,\n        organization: false,\n        publisher: false,\n      },\n      target: false,\n    },\n  },\n]\nexport default new util.Translator([\n  ...aliases,\n  ...nonSpec,\n  {\n    source: 'abstract',\n    target: 'abstract',\n  },\n  {\n    source: 'urldate',\n    target: 'accessed',\n    convert: Converters.DATE,\n  },\n  {\n    source: 'annotation',\n    target: 'annote',\n  },\n  {\n    source: 'author',\n    target: 'author',\n    convert: Converters.NAMES,\n  },\n  {\n    source: 'library',\n    target: 'call-number',\n  },\n  {\n    source: 'chapter',\n    target: 'chapter-number',\n  },\n  {\n    source: 'bookauthor',\n    target: 'container-author',\n    convert: Converters.NAMES,\n  },\n  {\n    source: ['maintitle', 'mainsubtitle', 'maintitleaddon'],\n    target: 'container-title',\n    when: {\n      source: true,\n      target: {\n        'number-of-volumes': true,\n      },\n    },\n    convert: Converters.TITLE,\n  },\n  {\n    source: ['booktitle', 'booksubtitle', 'booktitleaddon'],\n    target: 'container-title',\n    when: {\n      source: {\n        maintitle: false,\n      },\n      target: {\n        'number-of-volumes': false,\n        type(type) {\n          return !type || !type.startsWith('article')\n        },\n      },\n    },\n    convert: Converters.TITLE,\n  },\n  {\n    source: ['journaltitle', 'journalsubtitle', 'journaltitleaddon'],\n    target: 'container-title',\n    when: {\n      source: {\n        [TYPE]: 'article',\n      },\n      target: {\n        type: ['article', 'article-newspaper', 'article-journal', 'article-magazine'],\n      },\n    },\n    convert: Converters.TITLE,\n  },\n  {\n    source: 'shortjournal',\n    target: 'container-title-short',\n    when: {\n      source: {\n        [TYPE]: 'article',\n      },\n      target: {\n        type: ['article', 'article-newspaper', 'article-journal', 'article-magazine'],\n      },\n    },\n  },\n  {\n    source: 'shortjournal',\n    target: 'journalAbbreviation',\n    when: {\n      source: false,\n      target: {\n        'container-title-short': false,\n      },\n    },\n  },\n  {\n    source: 'number',\n    target: 'collection-number',\n    when: {\n      source: {\n        [TYPE]: [\n          'book',\n          'mvbook',\n          'inbook',\n          'bookinbook',\n          'suppbook',\n          'collection',\n          'mvcollection',\n          'incollection',\n          'suppcollection',\n          'manual',\n          'suppperiodical',\n          'proceedings',\n          'mvproceedings',\n          'refererence',\n        ],\n      },\n      target: {\n        type: [\n          'bill',\n          'book',\n          'broadcast',\n          'chapter',\n          'dataset',\n          'entry',\n          'entry-dictionary',\n          'entry-encyclopedia',\n          'figure',\n          'graphic',\n          'interview',\n          'legislation',\n          'legal_case',\n          'manuscript',\n          'map',\n          'motion_picture',\n          'musical_score',\n          'pamphlet',\n          'post',\n          'post-weblog',\n          'personal_communication',\n          'review',\n          'review-book',\n          'song',\n          'speech',\n          'thesis',\n          'treaty',\n          'webpage',\n        ],\n      },\n    },\n  },\n  {\n    source: 'series',\n    target: 'collection-title',\n  },\n  {\n    source: 'shortseries',\n    target: 'collection-title-short',\n  },\n  {\n    source: 'doi',\n    target: 'DOI',\n  },\n  {\n    source: 'edition',\n    target: 'edition',\n  },\n  {\n    source: 'editor',\n    target: 'editor',\n    convert: Converters.NAMES,\n  },\n  {\n    source: [TYPE, 'entrysubtype', 'type'],\n    target: ['type', 'genre'],\n    convert: {\n      toTarget(type, subtype, typeKey) {\n        if (!typeKey) {\n          if (type === 'mastersthesis') {\n            typeKey = 'mathesis'\n          }\n          if (type === 'phdthesis') {\n            typeKey = 'phdthesis'\n          }\n          if (type === 'techreport') {\n            typeKey = 'techreport'\n          }\n        }\n        return [types.source[type] || 'document', typeKey || subtype]\n      },\n      toSource(type, genre) {\n        const sourceType = types.target[type] || 'misc'\n        return genre in TYPE_KEYS ? [sourceType, undefined, genre] : [sourceType, genre]\n      },\n    },\n  },\n  {\n    source: TYPE,\n    when: {\n      target: {\n        type: false,\n      },\n    },\n    convert: {\n      toSource() {\n        return 'misc'\n      },\n    },\n  },\n  {\n    source: 'eventdate',\n    target: 'event-date',\n    convert: Converters.DATE,\n  },\n  {\n    source: 'venue',\n    target: 'event-place',\n  },\n  {\n    source: ['eventtitle', 'eventtitleaddon'],\n    target: 'event-title',\n    convert: Converters.EVENT_TITLE,\n  },\n  {\n    source: ['eventtitle', 'eventtitleaddon'],\n    target: 'event',\n    convert: Converters.EVENT_TITLE,\n    when: {\n      source: false,\n      target: {\n        'event-title': false,\n      },\n    },\n  },\n  {\n    source: LABEL,\n    target: ['id', 'citation-key', 'author', 'issued', 'year-suffix', 'title'],\n    convert: Converters.LABEL,\n  },\n  {\n    source: 'isbn',\n    target: 'ISBN',\n  },\n  {\n    source: 'issn',\n    target: 'ISSN',\n  },\n  {\n    source: 'issue',\n    target: 'issue',\n    when: {\n      source: {\n        number: false,\n        [TYPE]: ['article', 'periodical'],\n      },\n      target: {\n        issue(issue) {\n          return typeof issue === 'string' && !issue.match(/\\d+/)\n        },\n        type: ['article', 'article-journal', 'article-newspaper', 'article-magazine', 'periodical'],\n      },\n    },\n  },\n  {\n    source: 'number',\n    target: 'issue',\n    when: {\n      source: {\n        [TYPE]: ['article', 'periodical', 'inproceedings'],\n      },\n      target: {\n        issue(issue) {\n          return issue && (typeof issue === 'number' || issue.match(/\\d+/))\n        },\n        type: [\n          'article',\n          'article-journal',\n          'article-newspaper',\n          'article-magazine',\n          'paper-conference',\n          'periodical',\n        ],\n      },\n    },\n  },\n  {\n    source: 'date',\n    target: 'issued',\n    convert: Converters.DATE,\n  },\n  {\n    source: ['year', 'month', 'day'],\n    target: 'issued',\n    convert: Converters.YEAR_MONTH,\n    when: {\n      source: {\n        date: false,\n      },\n      target: false,\n    },\n  },\n  {\n    source: 'location',\n    target: 'jurisdiction',\n    when: {\n      source: {\n        type: 'patent',\n      },\n      target: {\n        type: 'patent',\n      },\n    },\n  },\n  {\n    source: 'keywords',\n    target: 'keyword',\n    convert: Converters.KEYWORDS,\n  },\n  {\n    source: 'language',\n    target: 'language',\n    convert: Converters.PICK,\n  },\n  {\n    source: 'langid',\n    target: 'language',\n    when: {\n      source: {\n        language: false,\n      },\n      target: false,\n    },\n  },\n  {\n    source: 'note',\n    target: 'note',\n  },\n  {\n    source: 'addendum',\n    target: 'note',\n    when: {\n      source: {\n        note: false,\n      },\n      target: false,\n    },\n  },\n  {\n    source: 'eid',\n    target: 'number',\n    when: {\n      target: {\n        type: ['article-journal'],\n      },\n    },\n  },\n  {\n    source: ['isan', 'ismn', 'isrn', 'iswc'],\n    target: 'number',\n    convert: Converters.STANDARD_NUMBERS,\n    when: {\n      source: {\n        [TYPE](type) {\n          return type !== 'patent'\n        },\n      },\n      target: {\n        type(type) {\n          return type !== 'patent'\n        },\n      },\n    },\n  },\n  {\n    source: 'number',\n    target: 'number',\n    when: {\n      source: {\n        [TYPE]: ['patent', 'report', 'techreport', 'legislation'],\n      },\n      target: {\n        type: ['patent', 'report', 'legislation'],\n      },\n    },\n  },\n  {\n    source: 'origdate',\n    target: 'original-date',\n    convert: Converters.DATE,\n  },\n  {\n    source: 'origlocation',\n    target: 'original-publisher-place',\n    convert: Converters.PICK,\n  },\n  {\n    source: 'origpublisher',\n    target: 'original-publisher',\n    convert: Converters.PICK,\n  },\n  {\n    source: 'origtitle',\n    target: 'original-title',\n  },\n  {\n    source: 'pages',\n    target: 'page',\n    when: {\n      source: {\n        bookpagination: [undefined, 'page'],\n      },\n    },\n    convert: Converters.PAGES,\n  },\n  {\n    source: 'pagetotal',\n    target: 'number-of-pages',\n  },\n  {\n    source: 'part',\n    target: 'part-number',\n  },\n  {\n    source: ['eprint', 'eprinttype'],\n    target: 'PMID',\n    convert: Converters.EPRINT,\n  },\n  {\n    source: 'location',\n    target: 'publisher-place',\n    convert: Converters.PICK,\n  },\n  {\n    source: 'publisher',\n    target: 'publisher',\n    convert: Converters.PICK,\n    when: {\n      source: true,\n      target: {\n        type: [\n          'article',\n          'article-journal',\n          'article-magazine',\n          'article-newspaper',\n          'bill',\n          'book',\n          'broadcast',\n          'chapter',\n          'classic',\n          'collection',\n          'dataset',\n          'document',\n          'entry',\n          'entry-dictionary',\n          'entry-encyclopedia',\n          'event',\n          'figure',\n          'graphic',\n          'hearing',\n          'interview',\n          'legal_case',\n          'legislation',\n          'manuscript',\n          'map',\n          'motion_picture',\n          'musical_score',\n          'pamphlet',\n          'paper-conference',\n          'patent',\n          'performance',\n          'periodical',\n          'personal_communication',\n          'post',\n          'post-weblog',\n          'regulation',\n          'review',\n          'review-book',\n          'software',\n          'song',\n          'speech',\n          'standard',\n          'treaty',\n        ],\n      },\n    },\n  },\n  {\n    source: 'organization',\n    target: 'publisher',\n    convert: Converters.PICK,\n    when: {\n      source: {\n        publisher: false,\n      },\n      target: {\n        type: 'webpage',\n      },\n    },\n  },\n  {\n    source: 'institution',\n    target: 'publisher',\n    convert: Converters.PICK,\n    when: {\n      source: {\n        publisher: false,\n        organization: false,\n      },\n      target: {\n        type: ['report', 'thesis'],\n      },\n    },\n  },\n  {\n    source: 'howpublished',\n    target: 'publisher',\n    convert: Converters.PICK,\n    when: {\n      source: {\n        publisher: false,\n        organization: false,\n        institution: false,\n      },\n      target: {\n        type: 'manuscript',\n      },\n    },\n  },\n  {\n    source: ['pages', 'bookpagination'],\n    target: 'section',\n    when: {\n      source: {\n        bookpagination: 'section',\n      },\n      target: {\n        page: false,\n      },\n    },\n    convert: {\n      toTarget(section) {\n        return section\n      },\n      toSource(section) {\n        return [section, 'section']\n      },\n    },\n  },\n  {\n    source: 'pubstate',\n    target: 'status',\n    convert: Converters.STATUS,\n  },\n  {\n    source: 'shorttitle',\n    target: 'title-short',\n  },\n  {\n    source: 'shorttitle',\n    target: 'shortTitle',\n    when: {\n      source: false,\n      target: {\n        'title-short': false,\n      },\n    },\n  },\n  {\n    source: ['title', 'subtitle', 'titleaddon'],\n    target: 'title',\n    convert: Converters.TITLE,\n  },\n  {\n    source: 'translator',\n    target: 'translator',\n    convert: Converters.NAMES,\n  },\n  {\n    source: 'url',\n    target: 'URL',\n  },\n  {\n    source: 'howpublished',\n    target: 'URL',\n    convert: Converters.HOW_PUBLISHED,\n    when: {\n      source: {\n        url: false,\n      },\n      target: false,\n    },\n  },\n  {\n    source: 'version',\n    target: 'version',\n  },\n  {\n    source: 'volume',\n    target: 'volume',\n  },\n  {\n    source: 'volumes',\n    target: 'number-of-volumes',\n  },\n  {\n    source: ['issuetitle', 'issuesubtitle', 'issuetitleaddon'],\n    target: 'volume-title',\n    convert: Converters.TITLE,\n  },\n])\n","import { util } from '../../core/index.js'\nimport { format as formatDate } from '@citation-js/date'\nimport types from './bibtexTypes.json'\nimport { TYPE, LABEL, Converters } from './shared.js'\nexport default new util.Translator([\n  {\n    source: 'note',\n    target: 'accessed',\n    when: {\n      source: false,\n      target: {\n        note: false,\n      },\n    },\n    convert: {\n      toSource(accessed) {\n        return `[Online; accessed ${formatDate(accessed)}]`\n      },\n    },\n  },\n  {\n    source: 'annote',\n    target: 'annote',\n  },\n  {\n    source: 'address',\n    target: 'publisher-place',\n    convert: Converters.PICK,\n  },\n  {\n    source: 'author',\n    target: 'author',\n    convert: Converters.NAMES,\n  },\n  {\n    source: 'chapter',\n    target: 'chapter-number',\n  },\n  {\n    source: 'number',\n    target: 'collection-number',\n    when: {\n      source: {\n        [TYPE]: [\n          'book',\n          'mvbook',\n          'inbook',\n          'collection',\n          'mvcollection',\n          'incollection',\n          'suppcollection',\n          'manual',\n          'suppperiodical',\n          'proceedings',\n          'mvproceedings',\n          'refererence',\n        ],\n      },\n      target: {\n        type: [\n          'bill',\n          'book',\n          'broadcast',\n          'chapter',\n          'dataset',\n          'entry',\n          'entry-dictionary',\n          'entry-encyclopedia',\n          'figure',\n          'graphic',\n          'interview',\n          'legislation',\n          'legal_case',\n          'manuscript',\n          'map',\n          'motion_picture',\n          'musical_score',\n          'pamphlet',\n          'post',\n          'post-weblog',\n          'personal_communication',\n          'review',\n          'review-book',\n          'song',\n          'speech',\n          'thesis',\n          'treaty',\n          'webpage',\n        ],\n      },\n    },\n  },\n  {\n    source: 'series',\n    target: 'collection-title',\n  },\n  {\n    source: 'booktitle',\n    target: 'container-title',\n    when: {\n      target: {\n        type: ['chapter', 'paper-conference'],\n      },\n    },\n  },\n  {\n    source: 'journal',\n    target: 'container-title',\n    when: {\n      source: {\n        [TYPE]: 'article',\n      },\n      target: {\n        type: ['article', 'article-newspaper', 'article-journal', 'article-magazine'],\n      },\n    },\n  },\n  {\n    source: 'edition',\n    target: 'edition',\n  },\n  {\n    source: 'editor',\n    target: 'editor',\n    convert: Converters.NAMES,\n  },\n  {\n    source: LABEL,\n    target: ['id', 'citation-key', 'author', 'issued', 'year-suffix', 'title'],\n    convert: Converters.LABEL,\n  },\n  {\n    source: 'number',\n    target: 'issue',\n    when: {\n      source: {\n        [TYPE]: ['article', 'periodical', 'inproceedings'],\n      },\n      target: {\n        issue(issue) {\n          return typeof issue === 'number' || (typeof issue === 'string' && issue.match(/\\d+/))\n        },\n        type: [\n          'article',\n          'article-journal',\n          'article-newspaper',\n          'article-magazine',\n          'paper-conference',\n          'periodical',\n        ],\n      },\n    },\n  },\n  {\n    source: ['year', 'month', 'day'],\n    target: 'issued',\n    convert: Converters.YEAR_MONTH,\n  },\n  {\n    source: 'note',\n    target: 'note',\n  },\n  {\n    source: 'number',\n    target: 'number',\n    when: {\n      source: {\n        [TYPE]: ['patent', 'report', 'techreport'],\n      },\n      target: {\n        type: ['patent', 'report'],\n      },\n    },\n  },\n  {\n    source: 'pages',\n    target: 'page',\n    convert: Converters.PAGES,\n  },\n  {\n    source: 'publisher',\n    target: 'publisher',\n    convert: Converters.PICK,\n    when: {\n      target: {\n        type: [\n          'article',\n          'article-journal',\n          'article-magazine',\n          'article-newspaper',\n          'bill',\n          'book',\n          'broadcast',\n          'chapter',\n          'classic',\n          'collection',\n          'dataset',\n          'document',\n          'entry',\n          'entry-dictionary',\n          'entry-encyclopedia',\n          'event',\n          'figure',\n          'graphic',\n          'hearing',\n          'interview',\n          'legal_case',\n          'legislation',\n          'map',\n          'motion_picture',\n          'musical_score',\n          'pamphlet',\n          'patent',\n          'performance',\n          'periodical',\n          'personal_communication',\n          'post',\n          'post-weblog',\n          'regulation',\n          'review',\n          'review-book',\n          'software',\n          'song',\n          'speech',\n          'standard',\n          'treaty',\n          'webpage',\n        ],\n      },\n    },\n  },\n  {\n    source: 'organization',\n    target: 'publisher',\n    convert: Converters.PICK,\n    when: {\n      source: {\n        publisher: false,\n      },\n      target: {\n        type: 'paper-conference',\n      },\n    },\n  },\n  {\n    source: 'institution',\n    target: 'publisher',\n    convert: Converters.PICK,\n    when: {\n      source: {\n        publisher: false,\n        organization: false,\n      },\n      target: {\n        type: 'report',\n      },\n    },\n  },\n  {\n    source: 'school',\n    target: 'publisher',\n    convert: Converters.PICK,\n    when: {\n      source: {\n        institution: false,\n        organization: false,\n        publisher: false,\n      },\n      target: {\n        type: 'thesis',\n      },\n    },\n  },\n  {\n    source: 'howpublished',\n    target: 'publisher',\n    convert: Converters.PICK,\n    when: {\n      source: {\n        publisher: false,\n        organization: false,\n        institution: false,\n        school: false,\n      },\n      target: {\n        type: 'manuscript',\n      },\n    },\n  },\n  {\n    source: 'title',\n    target: 'title',\n  },\n  {\n    source: [TYPE, 'type'],\n    target: ['type', 'genre'],\n    convert: {\n      toTarget(sourceType, subType) {\n        const type = types.source[sourceType] || 'document'\n        if (subType) {\n          return [type, subType]\n        } else if (sourceType === 'mastersthesis') {\n          return [type, \"Master's thesis\"]\n        } else if (sourceType === 'phdthesis') {\n          return [type, 'PhD thesis']\n        } else {\n          return [type]\n        }\n      },\n      toSource(targetType, genre) {\n        const type = types.target[targetType] || 'misc'\n        if (/^(master'?s|diploma) thesis$/i.test(genre)) {\n          return ['mastersthesis']\n        } else if (/^(phd|doctoral) thesis$/i.test(genre)) {\n          return ['phdthesis']\n        } else {\n          return [type, genre]\n        }\n      },\n    },\n  },\n  {\n    source: TYPE,\n    when: {\n      target: {\n        type: false,\n      },\n    },\n    convert: {\n      toSource() {\n        return 'misc'\n      },\n    },\n  },\n  {\n    source: 'howpublished',\n    target: 'URL',\n    convert: Converters.HOW_PUBLISHED,\n    when: {\n      target: {\n        publisher: false,\n      },\n    },\n  },\n  {\n    source: 'volume',\n    target: 'volume',\n  },\n])\n","function ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object)\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object)\n    enumerableOnly &&\n      (symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable\n      })),\n      keys.push.apply(keys, symbols)\n  }\n  return keys\n}\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {}\n    i % 2\n      ? ownKeys(Object(source), !0).forEach(function (key) {\n          _defineProperty(target, key, source[key])\n        })\n      : Object.getOwnPropertyDescriptors\n      ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source))\n      : ownKeys(Object(source)).forEach(function (key) {\n          Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key))\n        })\n  }\n  return target\n}\nfunction _defineProperty(obj, key, value) {\n  key = _toPropertyKey(key)\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true,\n    })\n  } else {\n    obj[key] = value\n  }\n  return obj\n}\nfunction _toPropertyKey(arg) {\n  var key = _toPrimitive(arg, 'string')\n  return typeof key === 'symbol' ? key : String(key)\n}\nfunction _toPrimitive(input, hint) {\n  if (typeof input !== 'object' || input === null) return input\n  var prim = input[Symbol.toPrimitive]\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || 'default')\n    if (typeof res !== 'object') return res\n    throw new TypeError('@@toPrimitive must return a primitive value.')\n  }\n  return (hint === 'string' ? String : Number)(input)\n}\nconst BOOK = new Set(['book', 'inbook', 'bookinbook', 'suppbook'])\nconst BOOK_PART = new Set(['inbook', 'bookinbook', 'suppbook'])\nconst COLLECTION = new Set([\n  'collection',\n  'reference',\n  'incollection',\n  'inreference',\n  'suppcollection',\n])\nconst COLLECTION_PART = new Set(['incollection', 'inreference', 'suppcollection'])\nconst PROCEEDINGS = new Set(['proceedings', 'inproceedings'])\nconst PROCEEDINGS_PART = new Set(['inproceedings'])\nconst PERIODICAL_PART = new Set(['article', 'suppperiodical'])\nconst TITLE_MAP = {\n  mvbook: ['main', BOOK],\n  mvcollection: ['main', COLLECTION],\n  mvreference: ['main', COLLECTION],\n  mvproceedings: ['main', PROCEEDINGS],\n  book: ['book', BOOK_PART],\n  collection: ['book', COLLECTION_PART],\n  reference: ['book', COLLECTION_PART],\n  proceedings: ['book', PROCEEDINGS_PART],\n  periodical: ['journal', PERIODICAL_PART],\n}\nexport function crossref(target, entry, registry) {\n  if (entry.crossref in registry) {\n    const parent = registry[entry.crossref]\n    if (parent.properties === entry) {\n      return entry\n    }\n    const data = _objectSpread({}, crossref(parent.type, parent.properties, registry))\n    delete data.ids\n    delete data.crossref\n    delete data.xref\n    delete data.entryset\n    delete data.entrysubtype\n    delete data.execute\n    delete data.label\n    delete data.options\n    delete data.presort\n    delete data.related\n    delete data.relatedoptions\n    delete data.relatedstring\n    delete data.relatedtype\n    delete data.shortand\n    delete data.shortandintro\n    delete data.sortkey\n    if ((parent.type === 'mvbook' || parent.type === 'book') && BOOK_PART.has(target)) {\n      data.bookauthor = data.author\n    }\n    if (parent.type in TITLE_MAP) {\n      const [prefix, targets] = TITLE_MAP[parent.type]\n      if (targets.has(target)) {\n        data[prefix + 'title'] = data.title\n        data[prefix + 'subtitle'] = data.subtitle\n        if (prefix !== 'journal') {\n          data[prefix + 'titleaddon'] = data.titleaddon\n        }\n        delete data.title\n        delete data.subtitle\n        delete data.titleaddon\n        delete data.shorttitle\n        delete data.sorttitle\n        delete data.indextitle\n        delete data.indexsorttitle\n      }\n    }\n    return Object.assign(data, entry)\n  }\n  return entry\n}\n","function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {}\n  var target = _objectWithoutPropertiesLoose(source, excluded)\n  var key, i\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source)\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i]\n      if (excluded.indexOf(key) >= 0) continue\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue\n      target[key] = source[key]\n    }\n  }\n  return target\n}\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {}\n  var target = {}\n  var sourceKeys = Object.keys(source)\n  var key, i\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i]\n    if (excluded.indexOf(key) >= 0) continue\n    target[key] = source[key]\n  }\n  return target\n}\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object)\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object)\n    enumerableOnly &&\n      (symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable\n      })),\n      keys.push.apply(keys, symbols)\n  }\n  return keys\n}\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {}\n    i % 2\n      ? ownKeys(Object(source), !0).forEach(function (key) {\n          _defineProperty(target, key, source[key])\n        })\n      : Object.getOwnPropertyDescriptors\n      ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source))\n      : ownKeys(Object(source)).forEach(function (key) {\n          Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key))\n        })\n  }\n  return target\n}\nfunction _defineProperty(obj, key, value) {\n  key = _toPropertyKey(key)\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true,\n    })\n  } else {\n    obj[key] = value\n  }\n  return obj\n}\nfunction _toPropertyKey(arg) {\n  var key = _toPrimitive(arg, 'string')\n  return typeof key === 'symbol' ? key : String(key)\n}\nfunction _toPrimitive(input, hint) {\n  if (typeof input !== 'object' || input === null) return input\n  var prim = input[Symbol.toPrimitive]\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || 'default')\n    if (typeof res !== 'object') return res\n    throw new TypeError('@@toPrimitive must return a primitive value.')\n  }\n  return (hint === 'string' ? String : Number)(input)\n}\nimport { TYPE, LABEL } from './shared.js'\nimport biblatex from './biblatex.js'\nimport bibtex from './bibtex.js'\nimport { crossref } from './crossref.js'\nfunction _parse(input, spec) {\n  const registry = {}\n  for (const entry of input) {\n    registry[entry.label] = entry\n  }\n  return input.map(({ type, label, properties }) =>\n    spec.convertToTarget(\n      _objectSpread(\n        {\n          [TYPE]: type,\n          [LABEL]: label,\n        },\n        crossref(type, properties, registry)\n      )\n    )\n  )\n}\nfunction _format(input, spec) {\n  return input.map((entry) => {\n    const _spec$convertToSource = spec.convertToSource(entry),\n      { [TYPE]: type, [LABEL]: label } = _spec$convertToSource,\n      properties = _objectWithoutProperties(\n        _spec$convertToSource,\n        [TYPE, LABEL].map(_toPropertyKey)\n      )\n    return {\n      type,\n      label,\n      properties,\n    }\n  })\n}\nexport function parseBibtex(input) {\n  return _parse(input, bibtex)\n}\nexport function formatBibtex(input) {\n  return _format(input, bibtex)\n}\nexport function parse(input) {\n  return _parse(input, biblatex)\n}\nexport function format(input) {\n  return _format(input, biblatex)\n}\n","export function getStringCase(string) {\n  const a = string.toUpperCase()\n  const b = string.toLowerCase()\n  for (let i = 0; i < string.length; i++) {\n    if (a[i] !== b[i]) {\n      return a[i] === string[i]\n    }\n  }\n  return null\n}\nexport function formatNameParts(parts) {\n  if (parts.length === 0) {\n    return undefined\n  }\n  let piece = ''\n  while (parts.length > 1) {\n    const { value, hyphenated } = parts.shift()\n    piece += value + (hyphenated ? '-' : ' ')\n  }\n  const output = piece + parts[0].value\n  return output[0] && output\n}\nexport function orderNameParts(parts, orderGiven = true) {\n  const given = []\n  const undecided = []\n  if (orderGiven) {\n    while (parts.length > 1 && parts[0].upperCase !== false) {\n      given.push(...undecided)\n      undecided.length = 0\n      while (parts.length > 1 && parts[0].upperCase !== false && !parts[0].hyphenated) {\n        given.push(parts.shift())\n      }\n      while (parts.length > 0 && parts[0].upperCase !== false && parts[0].hyphenated) {\n        undecided.push(parts.shift())\n      }\n    }\n  }\n  const prefix = []\n  const family = []\n  while (parts.length > 1) {\n    prefix.push(...family)\n    family.length = 0\n    while (parts.length > 1 && parts[0].upperCase === false) {\n      prefix.push(parts.shift())\n    }\n    while (parts.length > 0 && parts[0].upperCase !== false) {\n      family.push(parts.shift())\n    }\n  }\n  if (undecided.length) {\n    family.unshift(...undecided)\n  }\n  if (parts.length) {\n    family.push(parts[0])\n  }\n  return [formatNameParts(given), formatNameParts(prefix), formatNameParts(family)]\n}\nexport function orderNamePieces(pieces) {\n  if (pieces[0][0].label) {\n    const name = {}\n    for (const [{ value, label }] of pieces) {\n      name[label] = value\n    }\n    return name\n  }\n  const name = {}\n  const [given, prefix, family] = orderNameParts(pieces[0], pieces.length === 1)\n  if (family) {\n    name.family = family\n  }\n  if (prefix) {\n    name.prefix = prefix\n  }\n  if (pieces.length === 3) {\n    name.given = formatNameParts(pieces[2])\n    name.suffix = formatNameParts(pieces[1])\n  } else if (pieces.length === 2) {\n    name.given = formatNameParts(pieces[1])\n  } else if (given) {\n    name.given = given\n  }\n  return name\n}\n","function ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object)\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object)\n    enumerableOnly &&\n      (symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable\n      })),\n      keys.push.apply(keys, symbols)\n  }\n  return keys\n}\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {}\n    i % 2\n      ? ownKeys(Object(source), !0).forEach(function (key) {\n          _defineProperty(target, key, source[key])\n        })\n      : Object.getOwnPropertyDescriptors\n      ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source))\n      : ownKeys(Object(source)).forEach(function (key) {\n          Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key))\n        })\n  }\n  return target\n}\nfunction _defineProperty(obj, key, value) {\n  key = _toPropertyKey(key)\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true,\n    })\n  } else {\n    obj[key] = value\n  }\n  return obj\n}\nfunction _toPropertyKey(arg) {\n  var key = _toPrimitive(arg, 'string')\n  return typeof key === 'symbol' ? key : String(key)\n}\nfunction _toPrimitive(input, hint) {\n  if (typeof input !== 'object' || input === null) return input\n  var prim = input[Symbol.toPrimitive]\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || 'default')\n    if (typeof res !== 'object') return res\n    throw new TypeError('@@toPrimitive must return a primitive value.')\n  }\n  return (hint === 'string' ? String : Number)(input)\n}\nimport { util } from '../../core/index.js'\nimport moo from 'moo'\nimport config from '../config.js'\nimport * as constants from './constants.js'\nimport { orderNamePieces, formatNameParts, getStringCase } from './name.js'\nconst commandKeywords = {\n  '\\\\begin': 'commandBegin',\n  '\\\\end': 'commandEnd',\n}\nconst text = {\n  command: {\n    match: /\\\\(?:[a-zA-Z]+|.) */,\n    type: (command) => commandKeywords[command],\n    value: (s) => s.slice(1).trim(),\n  },\n  lbrace: {\n    match: '{',\n    push: 'bracedLiteral',\n  },\n  mathShift: {\n    match: '$',\n    push: 'mathLiteral',\n  },\n  whitespace: {\n    match: /[\\s]+|~/,\n    lineBreaks: true,\n    value(token) {\n      return token === '~' ? '\\xa0' : ' '\n    },\n  },\n}\nconst lexer = moo.states({\n  stringLiteral: _objectSpread(\n    _objectSpread({}, text),\n    {},\n    {\n      text: /[^{$}\\s~\\\\]+/,\n    }\n  ),\n  namesLiteral: _objectSpread(\n    _objectSpread(\n      {\n        and: /\\s+[aA][nN][dD]\\s+/,\n        comma: ',',\n        hyphen: '-',\n        equals: '=',\n      },\n      text\n    ),\n    {},\n    {\n      text: /[^{$}\\s~\\\\,=-]+/,\n    }\n  ),\n  listLiteral: _objectSpread(\n    _objectSpread(\n      {\n        and: /\\s+and\\s+/,\n      },\n      text\n    ),\n    {},\n    {\n      text: /[^{$}\\s~\\\\]+/,\n    }\n  ),\n  separatedLiteral: _objectSpread(\n    _objectSpread(\n      {\n        comma: ',',\n      },\n      text\n    ),\n    {},\n    {\n      text: /[^{$}\\s~\\\\,]+/,\n    }\n  ),\n  bracedLiteral: _objectSpread(\n    _objectSpread({}, text),\n    {},\n    {\n      rbrace: {\n        match: '}',\n        pop: true,\n      },\n      text: /[^{$}\\s~\\\\]+/,\n    }\n  ),\n  mathLiteral: _objectSpread(\n    _objectSpread({}, text),\n    {},\n    {\n      mathShift: {\n        match: '$',\n        pop: true,\n      },\n      script: /[\\^_]/,\n      text: /[^{$}\\s~\\\\^_]+/,\n    }\n  ),\n})\nfunction flattenConsString(string) {\n  string[0]\n  return string\n}\nfunction applyFormatting(text, format) {\n  if (format in constants.formatting) {\n    return text && constants.formatting[format].join(text)\n  } else {\n    return text\n  }\n}\nexport const valueGrammar = new util.Grammar(\n  {\n    String() {\n      let output = ''\n      while (!this.matchEndOfFile()) {\n        output += this.consumeRule('Text')\n      }\n      return flattenConsString(output)\n    },\n    StringNames() {\n      const list = []\n      while (true) {\n        this.consumeToken('whitespace', true)\n        list.push(this.consumeRule('Name'))\n        this.consumeToken('whitespace', true)\n        if (this.matchEndOfFile()) {\n          return list\n        } else {\n          this.consumeToken('and')\n        }\n      }\n    },\n    Name() {\n      const pieces = []\n      while (true) {\n        pieces.push(this.consumeRule('NamePiece'))\n        if (this.matchEndOfFile() || this.matchToken('and')) {\n          return orderNamePieces(pieces)\n        } else {\n          this.consumeToken('comma')\n          this.consumeToken('whitespace', true)\n        }\n      }\n    },\n    NamePiece() {\n      const parts = []\n      while (true) {\n        const part = this.consumeRule('NameToken')\n        if (part.label) {\n          part.label = formatNameParts([\n            ...parts,\n            {\n              value: part.label,\n            },\n          ])\n          return [part]\n        }\n        parts.push(part)\n        if (this.matchEndOfFile() || this.matchToken('and') || this.matchToken('comma')) {\n          return parts\n        } else {\n          while (this.matchToken('hyphen') || this.matchToken('whitespace')) {\n            this.consumeToken()\n          }\n        }\n      }\n    },\n    NameToken() {\n      let upperCase = null\n      let value = ''\n      while (true) {\n        if (upperCase === null && this.matchToken('text')) {\n          const text = this.consumeToken().value\n          value += text\n          upperCase = getStringCase(text)\n        } else if (\n          this.matchEndOfFile() ||\n          this.matchToken('and') ||\n          this.matchToken('comma') ||\n          this.matchToken('whitespace')\n        ) {\n          return {\n            value,\n            upperCase,\n          }\n        } else if (this.matchToken('hyphen')) {\n          return {\n            value,\n            upperCase,\n            hyphenated: true,\n          }\n        } else if (this.matchToken('equals')) {\n          this.consumeToken('equals')\n          const text = this.consumeRule('NamePiece')\n          if (text[0].label) {\n            value += '=' + text[0].label\n          }\n          return {\n            value: formatNameParts(text),\n            label: value,\n          }\n        } else {\n          value += this.consumeRule('Text')\n        }\n      }\n    },\n    StringList() {\n      const list = []\n      while (!this.matchEndOfFile()) {\n        let output = ''\n        while (!this.matchEndOfFile() && !this.matchToken('and')) {\n          output += this.consumeRule('Text')\n        }\n        list.push(flattenConsString(output))\n        this.consumeToken('and', true)\n      }\n      return list.length === 1 ? list[0] : list\n    },\n    StringSeparated() {\n      const list = []\n      while (!this.matchEndOfFile()) {\n        let output = ''\n        while (!this.matchEndOfFile() && !this.matchToken('comma')) {\n          output += this.consumeRule('Text')\n        }\n        list.push(output.trim())\n        this.consumeToken('comma', true)\n        this.consumeToken('whitespace', true)\n      }\n      return list\n    },\n    StringVerbatim() {\n      let output = ''\n      while (!this.matchEndOfFile()) {\n        output += this.consumeToken().text\n      }\n      return flattenConsString(output)\n    },\n    StringUri() {\n      const uri = this.consumeRule('StringVerbatim')\n      try {\n        if (decodeURI(uri) === uri) {\n          return encodeURI(uri)\n        } else {\n          return uri\n        }\n      } catch (e) {\n        return encodeURI(uri)\n      }\n    },\n    StringTitleCase() {\n      this.state.sentenceCase = true\n      let output = ''\n      while (!this.matchEndOfFile()) {\n        output += this.consumeRule('Text')\n      }\n      return flattenConsString(output)\n    },\n    BracketString() {\n      var _this$state\n      let output = ''\n      this.consumeToken('lbrace')\n      const sentenceCase = this.state.sentenceCase\n      this.state.sentenceCase = sentenceCase && this.matchToken('command')\n      ;(_this$state = this.state).partlyLowercase &&\n        (_this$state.partlyLowercase = this.state.sentenceCase)\n      while (!this.matchToken('rbrace')) {\n        output += this.consumeRule('Text')\n      }\n      const topLevel = sentenceCase && !this.state.sentenceCase\n      const protectCase = topLevel && this.state.partlyLowercase\n      this.state.sentenceCase = sentenceCase\n      this.consumeToken('rbrace')\n      return protectCase ? applyFormatting(output, 'nocase') : output\n    },\n    MathString() {\n      let output = ''\n      this.consumeToken('mathShift')\n      while (!this.matchToken('mathShift')) {\n        if (this.matchToken('script')) {\n          const script = this.consumeToken('script').value\n          const text = this.consumeRule('Text').split('')\n          if (text.every((char) => char in constants.mathScripts[script])) {\n            output += text.map((char) => constants.mathScripts[script][char]).join('')\n          } else {\n            const formatName = constants.mathScriptFormatting[script]\n            output += constants.formatting[formatName].join(text.join(''))\n          }\n          continue\n        }\n        if (this.matchToken('command')) {\n          const command = this.token.value\n          if (command in constants.mathScriptFormatting) {\n            this.consumeToken('command')\n            const text = this.consumeRule('BracketString')\n            output += applyFormatting(text, constants.mathScriptFormatting[command])\n            continue\n          }\n        }\n        output += this.consumeRule('Text')\n      }\n      this.consumeToken('mathShift')\n      return output\n    },\n    Text() {\n      if (this.matchToken('lbrace')) {\n        return this.consumeRule('BracketString')\n      } else if (this.matchToken('mathShift')) {\n        return this.consumeRule('MathString')\n      } else if (this.matchToken('whitespace')) {\n        return this.consumeToken('whitespace').value\n      } else if (this.matchToken('commandBegin')) {\n        return this.consumeRule('EnclosedEnv')\n      } else if (this.matchToken('command')) {\n        return this.consumeRule('Command')\n      }\n      const text = this.consumeToken('text').value.replace(\n        constants.ligaturePattern,\n        (ligature) => constants.ligatures[ligature]\n      )\n      const afterPunctuation = this.state.afterPunctuation\n      this.state.afterPunctuation = /[?!.:]$/.test(text)\n      if (!this.state.sentenceCase) {\n        var _this$state2\n        ;(_this$state2 = this.state).partlyLowercase ||\n          (_this$state2.partlyLowercase =\n            text === text.toLowerCase() && text !== text.toUpperCase())\n        return text\n      }\n      const [first, ...otherCharacters] = text\n      const rest = otherCharacters.join('')\n      const restLowerCase = rest.toLowerCase()\n      if (rest !== restLowerCase) {\n        return text\n      }\n      if (!afterPunctuation) {\n        return text.toLowerCase()\n      }\n      return first + restLowerCase\n    },\n    Command() {\n      const commandToken = this.consumeToken('command')\n      const command = commandToken.value\n      if (command in constants.formattingEnvs) {\n        const text = this.consumeRule('Env')\n        const format = constants.formattingEnvs[command]\n        return applyFormatting(text, format)\n      } else if (command in constants.formattingCommands) {\n        const text = this.consumeRule('BracketString')\n        const format = constants.formattingCommands[command]\n        return applyFormatting(text, format)\n      } else if (command in constants.commands) {\n        return constants.commands[command]\n      } else if (command in constants.diacritics && !this.matchEndOfFile()) {\n        const text = this.consumeRule('Text')\n        const diacritic = text[0] + constants.diacritics[command]\n        return diacritic.normalize('NFC') + text.slice(1)\n      } else if (command in constants.argumentCommands) {\n        const func = constants.argumentCommands[command]\n        const args = []\n        let arity = func.length\n        while (arity-- > 0) {\n          this.consumeToken('whitespace', true)\n          args.push(this.consumeRule('BracketString'))\n        }\n        return func(...args)\n      } else if (/^[&%$#_{}]$/.test(command)) {\n        return commandToken.text.slice(1)\n      } else {\n        return commandToken.text\n      }\n    },\n    Env() {\n      let output = ''\n      while (!this.matchEndOfFile() && !this.matchToken('rbrace')) {\n        output += this.consumeRule('Text')\n      }\n      return output\n    },\n    EnclosedEnv() {\n      this.consumeToken('commandBegin')\n      const beginEnv = this.consumeRule('BracketString')\n      let output = ''\n      while (!this.matchToken('commandEnd')) {\n        output += this.consumeRule('Text')\n      }\n      const end = this.consumeToken('commandEnd')\n      const endEnv = this.consumeRule('BracketString')\n      if (beginEnv !== endEnv) {\n        throw new SyntaxError(\n          this.lexer.formatError(\n            end,\n            `environment started with \"${beginEnv}\", ended with \"${endEnv}\"`\n          )\n        )\n      }\n      return applyFormatting(output, constants.formattingEnvs[beginEnv])\n    },\n  },\n  {\n    sentenceCase: false,\n    partlyLowercase: false,\n    afterPunctuation: true,\n  }\n)\nfunction singleLanguageIsEnglish(language) {\n  return constants.sentenceCaseLanguages.includes(language.toLowerCase())\n}\nfunction isEnglish(languages) {\n  if (Array.isArray(languages)) {\n    return languages.every(singleLanguageIsEnglish)\n  }\n  return singleLanguageIsEnglish(languages)\n}\nfunction getMainRule(fieldType, languages) {\n  if (fieldType[1] === 'name') {\n    return fieldType[0] === 'list' ? 'StringNames' : 'Name'\n  }\n  if (fieldType[1] === 'title') {\n    const option = config.parse.sentenceCase\n    if (option === 'always' || (option === 'english' && isEnglish(languages))) {\n      return 'StringTitleCase'\n    } else {\n      return 'String'\n    }\n  }\n  switch (fieldType[0] === 'field' ? fieldType[1] : fieldType[0]) {\n    case 'list':\n      return 'StringList'\n    case 'separated':\n      return 'StringSeparated'\n    case 'verbatim':\n      return 'StringVerbatim'\n    case 'uri':\n      return 'StringUri'\n    case 'title':\n    case 'literal':\n    default:\n      return 'String'\n  }\n}\nfunction getLexerState(fieldType) {\n  if (fieldType[1] === 'name') {\n    return 'namesLiteral'\n  }\n  switch (fieldType[0]) {\n    case 'list':\n      return 'listLiteral'\n    case 'separated':\n      return 'separatedLiteral'\n    case 'field':\n    default:\n      return 'stringLiteral'\n  }\n}\nexport function parse(text, field, languages = []) {\n  const fieldType = constants.fieldTypes[field] || []\n  return valueGrammar.parse(\n    lexer.reset(text, {\n      state: getLexerState(fieldType),\n      line: 0,\n      col: 0,\n    }),\n    getMainRule(fieldType, languages)\n  )\n}\n","function ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object)\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object)\n    enumerableOnly &&\n      (symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable\n      })),\n      keys.push.apply(keys, symbols)\n  }\n  return keys\n}\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {}\n    i % 2\n      ? ownKeys(Object(source), !0).forEach(function (key) {\n          _defineProperty(target, key, source[key])\n        })\n      : Object.getOwnPropertyDescriptors\n      ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source))\n      : ownKeys(Object(source)).forEach(function (key) {\n          Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key))\n        })\n  }\n  return target\n}\nfunction _defineProperty(obj, key, value) {\n  key = _toPropertyKey(key)\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true,\n    })\n  } else {\n    obj[key] = value\n  }\n  return obj\n}\nfunction _toPropertyKey(arg) {\n  var key = _toPrimitive(arg, 'string')\n  return typeof key === 'symbol' ? key : String(key)\n}\nfunction _toPrimitive(input, hint) {\n  if (typeof input !== 'object' || input === null) return input\n  var prim = input[Symbol.toPrimitive]\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || 'default')\n    if (typeof res !== 'object') return res\n    throw new TypeError('@@toPrimitive must return a primitive value.')\n  }\n  return (hint === 'string' ? String : Number)(input)\n}\nimport config from '../config.js'\nimport { parse as mapBiblatex, parseBibtex as mapBibtex } from '../mapping/index.js'\nimport { parse as parseValue } from './value.js'\nimport { required } from './constants.js'\nfunction validate(entries, requirements) {\n  const problems = []\n  for (const { type, label, properties } of entries) {\n    if (type in requirements) {\n      const missing = []\n      for (const field of requirements[type]) {\n        if (Array.isArray(field) && !field.some((field) => field in properties)) {\n          missing.push(field.join('/'))\n        } else if (typeof field === 'string' && !(field in properties)) {\n          missing.push(field)\n        }\n      }\n      if (missing.length) {\n        problems.push([label, `missing fields: ${missing.join(', ')}`])\n      }\n    } else {\n      problems.push([label, `invalid type: \"${type}\"`])\n    }\n  }\n  if (problems.length) {\n    throw new RangeError(\n      ['Invalid entries:']\n        .concat(problems.map(([label, problem]) => `  - ${label} has ${problem}`))\n        .join('\\n')\n    )\n  }\n}\nfunction parseEntryValues(entry) {\n  const output = {}\n  if ('language' in entry.properties) {\n    output.language = parseValue(entry.properties.language, 'language')\n  }\n  for (const property in entry.properties) {\n    const value = entry.properties[property]\n    if (value === '') {\n      continue\n    }\n    output[property] = parseValue(value + '', property, output.language)\n  }\n  return _objectSpread(\n    _objectSpread({}, entry),\n    {},\n    {\n      properties: output,\n    }\n  )\n}\nexport function parse(entries) {\n  if (config.parse.strict) {\n    validate(entries, required.biblatex)\n  }\n  return mapBiblatex(entries.map(parseEntryValues))\n}\nexport function parseBibtex(entries) {\n  if (config.parse.strict) {\n    validate(entries, required.bibtex)\n  }\n  return mapBibtex(entries.map(parseEntryValues))\n}\n","import { parse as parseFile } from './file.js'\nimport { parse as parseBibtxt } from './bibtxt.js'\nimport { parse as parseEntries, parseBibtex } from './entries.js'\nexport const ref = '@bibtex'\nexport const formats = {\n  '@biblatex/text': {\n    parse: parseFile,\n    parseType: {\n      dataType: 'String',\n      predicate: /@\\s{0,5}[A-Za-z]{1,13}\\s{0,5}\\{\\s{0,5}[^@{}\"=,\\\\\\s]{0,100}\\s{0,5},[\\s\\S]*\\}/,\n    },\n  },\n  '@biblatex/entry+object': {\n    parse(input) {\n      return parseEntries([input])\n    },\n    parseType: {\n      dataType: 'SimpleObject',\n      propertyConstraint: {\n        props: ['type', 'label', 'properties'],\n      },\n    },\n  },\n  '@biblatex/entries+list': {\n    parse: parseEntries,\n    parseType: {\n      elementConstraint: '@biblatex/entry+object',\n    },\n  },\n  '@bibtex/text': {\n    parse: parseFile,\n    outputs: '@bibtex/entries+list',\n  },\n  '@bibtex/entry+object': {\n    parse(input) {\n      return parseBibtex([input])\n    },\n  },\n  '@bibtex/entries+list': {\n    parse: parseBibtex,\n  },\n  '@bibtxt/text': {\n    parse: parseBibtxt,\n    parseType: {\n      dataType: 'String',\n      predicate: /^\\s*(\\[(?!\\s*[{[]).*?\\]\\s*(\\n\\s*[^[]((?!:)\\S)+\\s*:\\s*.+?\\s*)*\\s*)+$/,\n    },\n  },\n}\n","//@ts-nocheck\nimport { diacritics, commands, ligatures, fieldTypes } from '../input/constants.js'\nconst unicode = {}\nfor (const command in commands) {\n  unicode[commands[command]] = command\n}\nfor (const diacritic in diacritics) {\n  unicode[diacritics[diacritic]] = diacritic\n}\nfor (const ligature in ligatures) {\n  unicode[ligatures[ligature]] = ligature\n}\nconst UNSAFE_UNICODE =\n  /[^a-zA-Z0-9\\s!\"#%&'()*+,\\-./:;=?@[\\]{}\\u0300-\\u0308\\u030a-\\u030c\\u0332\\u0323\\u0327\\u0328\\u0361\\u0326]/g\nconst DIACRITIC_PATTERN = /.[\\u0300-\\u0308\\u030a-\\u030c\\u0332\\u0323\\u0327\\u0328\\u0361\\u0326]+/g\nconst listDelimiters = {\n  separated: ',',\n  list: ' and ',\n}\nconst richTextMappings = {\n  i: '\\\\textit{',\n  b: '\\\\textbf{',\n  sc: '\\\\textsc{',\n  sup: '\\\\textsuperscript{',\n  sub: '\\\\textsubscript{',\n  'span style=\"font-variant:small-caps;\"': '\\\\textsc{',\n  'span class=\"nocase\"': '{',\n}\nfunction escapeValue(value) {\n  return value\n    .normalize('NFKD')\n    .replace(UNSAFE_UNICODE, (char) =>\n      char in unicode ? (unicode[char] in ligatures ? unicode[char] : `\\\\${unicode[char]}{}`) : ''\n    )\n    .replace(DIACRITIC_PATTERN, (match) =>\n      Array.from(match).reduce((subject, diacritic) => `{\\\\${unicode[diacritic]} ${subject}}`)\n    )\n}\nfunction formatRichText(value) {\n  const closingTags = []\n  let tokens = value.split(/<(\\/?(?:i|b|sc|sup|sub|span)|span .*?)>/g)\n  tokens = tokens.map((token, index) => {\n    if (index % 2 === 0) {\n      return escapeValue(token)\n    } else if (token in richTextMappings) {\n      closingTags.push('/' + token.split(' ')[0])\n      return richTextMappings[token]\n    } else if (token === closingTags[closingTags.length - 1]) {\n      closingTags.pop()\n      return '}'\n    } else {\n      return ''\n    }\n  })\n  return tokens.join('')\n}\nfunction formatName(name) {\n  if (name.family && !name.prefix && !name.given & !name.suffix) {\n    return name.family.includes(listDelimiters.list) ? name.family : `{${name.family}}`\n  }\n  const parts = ['']\n  if (name.prefix && name.family) {\n    parts[0] += name.prefix + ' '\n  }\n  if (name.family) {\n    parts[0] += name.family\n  }\n  if (name.suffix) {\n    parts.push(name.suffix)\n    parts.push(name.given || '')\n  } else {\n    parts.push(name.given)\n  }\n  return escapeValue(parts.join(', ').trim())\n}\nfunction formatTitle(title) {\n  return formatRichText(title)\n    .split(/(:\\s*)/)\n    .map((part, i) => (i % 2 ? part : part.replace(/(?!^)\\b[a-z]*[A-Z].*?\\b/g, '{$&}')))\n    .join('')\n}\nfunction formatSingleValue(value, valueType) {\n  switch (valueType) {\n    case 'title':\n      return formatTitle(value)\n    case 'literal':\n      return formatRichText(value.toString())\n    case 'name':\n      return formatName(value)\n    case 'verbatim':\n    case 'uri':\n      return value.toString()\n    default:\n      return escapeValue(value.toString())\n  }\n}\nfunction formatList(values, valueType, listType) {\n  const delimiter = listDelimiters[listType]\n  return values\n    .map((value) => {\n      const formatted = formatSingleValue(value, valueType)\n      return formatted.includes(delimiter) ? `{${formatted}}` : formatted\n    })\n    .join(delimiter)\n}\nexport function format(field, value) {\n  if (!(field in fieldTypes)) {\n    return formatSingleValue(value, 'verbatim')\n  }\n  const [listType, valueType] = fieldTypes[field]\n  if (listType in listDelimiters) {\n    return formatList(value, valueType, listType)\n  } else {\n    return formatSingleValue(value, valueType)\n  }\n}\n","import { format as mapBiblatex, formatBibtex as mapBibtex } from '../mapping/index.js'\nimport { format as formatValue } from './value.js'\nfunction formatEntryValues({ type, label, properties }) {\n  const output = {}\n  for (const property in properties) {\n    const value = properties[property]\n    output[property] = formatValue(property, value)\n  }\n  return {\n    type,\n    label,\n    properties: output,\n  }\n}\nexport function format(entries) {\n  return mapBiblatex(entries).map(formatEntryValues)\n}\nexport function formatBibtex(entries) {\n  return mapBibtex(entries).map(formatEntryValues)\n}\n","function formatEntry({ type, label, properties }, dict) {\n  const fields = Object.entries(properties).map(([field, value]) =>\n    dict.listItem.join(`${field} = {${value}},`)\n  )\n  return dict.entry.join(`@${type}{${label},${dict.list.join(fields.join(''))}}`)\n}\nexport function format(src, dict) {\n  const entries = src.map((entry) => formatEntry(entry, dict)).join('')\n  return dict.bibliographyContainer.join(entries)\n}\n","function formatEntry({ type, label, properties }, dict) {\n  const fields = Object.entries(properties)\n    .concat([['type', type]])\n    .map(([field, value]) => dict.listItem.join(`${field}: ${value}`))\n  return dict.entry.join(`[${label}]${dict.list.join(fields.join(''))}`)\n}\nexport function format(src, dict) {\n  const entries = src.map((entry) => formatEntry(entry, dict)).join('\\n')\n  return dict.bibliographyContainer.join(entries)\n}\n","import { plugins } from '../../core/index.js'\nimport { format as mapBiblatex, formatBibtex as mapBibtex } from './entries.js'\nimport { format } from './bibtex.js'\nimport { format as formatBibtxt } from './bibtxt.js'\nconst factory = function (mapper, formatter) {\n  return function (data, opts = {}) {\n    const { type, format = type || 'text' } = opts\n    data = mapper(data)\n    if (format === 'object') {\n      return data\n    } else if (plugins.dict.has(format)) {\n      return formatter(data, plugins.dict.get(format), opts)\n    } else {\n      throw new RangeError(`Output dictionary \"${format}\" not available`)\n    }\n  }\n}\nexport default {\n  bibtex: factory(mapBibtex, format),\n  biblatex: factory(mapBiblatex, format),\n  bibtxt: factory(mapBibtex, formatBibtxt),\n}\n","import { plugins } from '../core/index.js'\nimport { ref, formats as input } from './input/index.js'\nimport config from './config.js'\nimport output from './output/index.js'\nplugins.add(ref, {\n  input,\n  output,\n  config,\n})\n","import { util } from '../core/index.js'\nimport defaultLocales from './locales.json'\nconst locales = new util.Register(defaultLocales)\nconst fetchLocale = (lang) => {\n  if (locales.has(lang)) {\n    return locales.get(lang)\n  } else {\n    return locales.get('en-US')\n  }\n}\nexport default fetchLocale\nexport { locales }\n","import { util } from '../core/index.js'\nimport defaultTemplates from './styles.json'\nconst templates = new util.Register(defaultTemplates)\nconst fetchStyle = (style) => {\n  if (templates.has(style)) {\n    return templates.get(style)\n  } else {\n    return templates.get('apa')\n  }\n}\nexport default fetchStyle\nexport { templates }\n","import CSL from 'citeproc'\nimport { templates } from './styles.js'\nimport { locales } from './locales.js'\nconst proxied = Symbol.for('proxied')\nconst getWrapperProxy = function (original) {\n  const proxy = function (state, entry) {\n    if (state.sys.wrapBibliographyEntry) {\n      const [prefix, postfix] = state.sys.wrapBibliographyEntry(this.system_id)\n      entry = [prefix, entry, postfix].join('')\n    }\n    return original.call(this, state, entry)\n  }\n  proxy[proxied] = true\n  return proxy\n}\nfor (const format in CSL.Output.Formats) {\n  const original = CSL.Output.Formats[format]['@bibliography/entry']\n  if (!original || original[proxied]) {\n    continue\n  }\n  CSL.Output.Formats[format]['@bibliography/entry'] = getWrapperProxy(original)\n}\nfunction retrieveLocale(locale) {\n  if (locales.has(locale)) {\n    return locales.get(locale)\n  }\n  const unnormalised = locale.replace('-', '_')\n  if (locales.has(unnormalised)) {\n    return locales.get(unnormalised)\n  }\n  return {}\n}\nconst engines = {}\nconst fetchEngine = function (style, locale, styleXml, retrieveItem, retrieveLocale) {\n  const engineHash = `${style}|${locale}`\n  let engine\n  if (engines[engineHash] instanceof CSL.Engine) {\n    engine = engines[engineHash]\n    engine.sys.retrieveItem = retrieveItem\n    engine.updateItems([])\n  } else {\n    engine = engines[engineHash] = new CSL.Engine(\n      {\n        retrieveLocale,\n        retrieveItem,\n      },\n      styleXml,\n      locale,\n      true\n    )\n  }\n  return engine\n}\nconst prepareEngine = function (data, style, locale, format) {\n  if (!CSL.Output.Formats[format] || !CSL.Output.Formats[format]['@bibliography/entry']) {\n    throw new TypeError(`Cannot find format '${format}'`)\n  }\n  const items = data.reduce((store, entry) => {\n    store[entry.id] = entry\n    return store\n  }, {})\n  const template = templates.get(templates.has(style) ? style : 'apa')\n  locale = locales.has(locale) ? locale : undefined\n  const callback = function (key) {\n    if (Object.prototype.hasOwnProperty.call(items, key)) {\n      return items[key]\n    } else {\n      throw new Error(`Cannot find entry with id '${key}'`)\n    }\n  }\n  const engine = fetchEngine(style, locale, template, callback, retrieveLocale)\n  engine.setOutputFormat(format)\n  return engine\n}\nexport default prepareEngine\nexport { fetchEngine }\n","const getAttributedEntry = (string, name, value) =>\n  string.replace(/^\\s*<[a-z]+/i, `$& data-${name}=\"${value}\"`)\nconst getPrefixedEntry = (value, id) => getAttributedEntry(value, 'csl-entry-id', id)\nexport { getAttributedEntry, getPrefixedEntry }\n","import { util } from '../core/index.js'\nimport prepareEngine from './engines.js'\nimport { getPrefixedEntry } from './attr.js'\nconst getAffix = (source, affix) => (typeof affix === 'function' ? affix(source) : affix || '')\nexport default function bibliography(data, options = {}) {\n  const { template = 'apa', lang, format = 'text', nosort = false } = options\n  const ids = options.entry ? [].concat(options.entry) : data.map(({ id }) => id)\n  data = util.downgradeCsl(data)\n  const citeproc = prepareEngine(data, template, lang, format)\n  const sortedIds = citeproc.updateItems(ids, nosort)\n  if (options.append || options.prepend) {\n    const items = data.reduce((items, entry) => {\n      items[entry.id] = entry\n      return items\n    }, {})\n    citeproc.sys.wrapBibliographyEntry = function (id) {\n      const entry = items[id]\n      return [getAffix(entry, options.prepend), getAffix(entry, options.append)]\n    }\n  } else {\n    citeproc.sys.wrapBibliographyEntry = () => ['', '']\n  }\n  const bibliography = citeproc.makeBibliography()\n  const [{ bibstart, bibend }, bibBody] = bibliography\n  const entries = bibBody.map((element, index) => getPrefixedEntry(element, sortedIds[index]))\n  if (options.asEntryArray) {\n    return entries.map((element, index) => [sortedIds[index], element])\n  }\n  return bibstart + entries.join('') + bibend\n}\n","import { util } from '../core/index.js'\nimport prepareEngine from './engines.js'\nfunction prepareCiteItem(citeItem) {\n  return typeof citeItem === 'object'\n    ? citeItem\n    : {\n        id: citeItem,\n      }\n}\nfunction prepareCitation(citation) {\n  if (citation.citationItems) {\n    return citation\n  }\n  return {\n    citationItems: [].concat(citation).map(prepareCiteItem),\n    properties: {\n      noteIndex: 0,\n    },\n  }\n}\nfunction prepareCitations(context) {\n  if (!context) {\n    return []\n  }\n  return context.map(prepareCitation)\n}\nexport default function citation(data, options = {}) {\n  const { template = 'apa', lang, format = 'text' } = options\n  const ids = data.map(({ id }) => id)\n  const entries = options.entry ? [].concat(options.entry) : ids\n  data = util.downgradeCsl(data)\n  const citeproc = prepareEngine(data, template, lang, format)\n  const before = prepareCitations(options.citationsPre)\n  const citation = prepareCitation(entries)\n  const after = prepareCitations(options.citationsPost)\n  const output = citeproc.rebuildProcessorState([...before, citation, ...after], format, [])\n  return output[before.length][2]\n}\n","import { plugins } from '../core/index.js'\nimport { locales } from './locales.js'\nimport { templates } from './styles.js'\nimport engine from './engines.js'\nimport bibliography from './bibliography.js'\nimport citation from './citation.js'\nplugins.add('@csl', {\n  output: {\n    bibliography,\n    citation,\n  },\n  config: {\n    engine,\n    locales,\n    templates,\n  },\n})\n","import { Cite as CiteCore, plugins } from './citation-js/core/index.js'\nimport './citation-js/plugin-bibjson/index.js'\nimport './citation-js/plugin-bibtex/index.js'\nimport './citation-js/plugin-csl/index.js'\n\nfunction clone(obj) {\n  const copy = {}\n  for (const key in obj) {\n    copy[key] = typeof obj[key] === 'object' ? clone(obj[key]) : obj[key]\n  }\n  return copy\n}\n\nfunction Cite(data, opts) {\n  if (!(this instanceof Cite)) {\n    return new Cite(data, opts)\n  }\n\n  const self = new CiteCore(data, opts)\n  this._options = self._options\n  this.log = self.log\n  this.data = self.data\n}\n\nCite.plugins = clone(plugins)\n\nexport default Cite\n","export default `<?xml version=\"1.0\" encoding=\"utf-8\"?><style xmlns=\"http://purl.org/net/xbiblio/csl\" class=\"in-text\" version=\"1.0\" demote-non-dropping-particle=\"never\" page-range-format=\"minimal-two\"><info><title>Modern Language Association 9th edition</title><title-short>MLA</title-short><id>http://www.zotero.org/styles/modern-language-association</id><link href=\"http://www.zotero.org/styles/modern-language-association\" rel=\"self\"/><link href=\"http://style.mla.org\" rel=\"documentation\"/><author><name>Sebastian Karcher</name></author><category citation-format=\"author\"/><category field=\"generic-base\"/><summary>This style adheres to the MLA 9th edition handbook. Follows the structure of references as outlined in the MLA Manual closely</summary><updated>2021-07-13T20:05:10+00:00</updated><rights license=\"http://creativecommons.org/licenses/by-sa/3.0/\">This work is licensed under a Creative Commons Attribution-ShareAlike 3.0 License</rights></info><locale xml:lang=\"en\"><date form=\"text\"><date-part name=\"day\" suffix=\" \"/><date-part name=\"month\" suffix=\" \" form=\"short\"/><date-part name=\"year\"/></date><terms><term name=\"month-01\" form=\"short\">Jan.</term><term name=\"month-02\" form=\"short\">Feb.</term><term name=\"month-03\" form=\"short\">Mar.</term><term name=\"month-04\" form=\"short\">Apr.</term><term name=\"month-05\" form=\"short\">May</term><term name=\"month-06\" form=\"short\">June</term><term name=\"month-07\" form=\"short\">July</term><term name=\"month-08\" form=\"short\">Aug.</term><term name=\"month-09\" form=\"short\">Sept.</term><term name=\"month-10\" form=\"short\">Oct.</term><term name=\"month-11\" form=\"short\">Nov.</term><term name=\"month-12\" form=\"short\">Dec.</term><term name=\"translator\" form=\"short\">trans.</term></terms></locale><macro name=\"author\"><names variable=\"author\"><name name-as-sort-order=\"first\" and=\"text\" delimiter-precedes-last=\"always\" delimiter-precedes-et-al=\"always\" initialize=\"false\" initialize-with=\". \"/><label form=\"long\" prefix=\", \"/><substitute><names variable=\"editor\"/><names variable=\"translator\"/><text macro=\"title\"/></substitute></names></macro><macro name=\"author-short\"><group delimiter=\", \"><names variable=\"author\"><name form=\"short\" initialize-with=\". \" and=\"text\"/><substitute><names variable=\"editor\"/><names variable=\"translator\"/><text macro=\"title-short\"/></substitute></names><choose><if disambiguate=\"true\"><text macro=\"title-short\"/></if></choose></group></macro><macro name=\"title\"><choose><if variable=\"container-title\" match=\"any\"><text variable=\"title\" quotes=\"true\" text-case=\"title\"/></if><else><text variable=\"title\" font-style=\"italic\" text-case=\"title\"/></else></choose></macro><macro name=\"title-short\"><choose><if variable=\"container-title\" match=\"any\"><text variable=\"title\" form=\"short\" quotes=\"true\" text-case=\"title\"/></if><else><text variable=\"title\" form=\"short\" font-style=\"italic\" text-case=\"title\"/></else></choose></macro><macro name=\"container-title\"><text variable=\"container-title\" font-style=\"italic\" text-case=\"title\"/></macro><macro name=\"other-contributors\"><choose><if variable=\"container-title\" match=\"any\"><group delimiter=\", \"><names variable=\"container-author\" delimiter=\", \"><label form=\"verb\" suffix=\" \"/><name and=\"text\"/></names><names variable=\"editor translator\" delimiter=\", \"><label form=\"verb\" suffix=\" \"/><name and=\"text\"/></names><names variable=\"director illustrator interviewer\" delimiter=\", \"><label form=\"verb\" suffix=\" \"/><name and=\"text\"/></names></group></if><else><group delimiter=\", \"><names variable=\"container-author\" delimiter=\", \"><label form=\"verb\" suffix=\" \" text-case=\"capitalize-first\"/><name and=\"text\"/></names><names variable=\"editor translator\" delimiter=\", \"><label form=\"verb\" suffix=\" \" text-case=\"capitalize-first\"/><name and=\"text\"/></names><names variable=\"director illustrator interviewer\" delimiter=\", \"><label form=\"verb\" suffix=\" \" text-case=\"capitalize-first\"/><name and=\"text\"/></names></group></else></choose></macro><macro name=\"version\"><group delimiter=\", \"><choose><if is-numeric=\"edition\"><group delimiter=\" \"><number variable=\"edition\" form=\"ordinal\"/><text term=\"edition\" form=\"short\"/></group></if><else><text variable=\"edition\" text-case=\"capitalize-first\"/></else></choose><text variable=\"version\"/></group></macro><macro name=\"volume-lowercase\"><group delimiter=\" \"><text term=\"volume\" form=\"short\"/><text variable=\"volume\"/></group></macro><macro name=\"number\"><group delimiter=\", \"><group><choose><if variable=\"edition container-title\" match=\"any\"><text macro=\"volume-lowercase\"/></if><else-if variable=\"author\" match=\"all\"><choose><if variable=\"editor translator container-author illustrator interviewer director\" match=\"any\"><text macro=\"volume-lowercase\"/></if></choose></else-if><else-if variable=\"editor\" match=\"all\"><choose><if variable=\"translator container-author illustrator interviewer director\" match=\"any\"><text macro=\"volume-lowercase\"/></if></choose></else-if><else-if variable=\"container-author illustrator interviewer director\" match=\"any\"><text macro=\"volume-lowercase\"/></else-if><else><group delimiter=\" \"><text term=\"volume\" form=\"short\" text-case=\"capitalize-first\"/><text variable=\"volume\"/></group></else></choose></group><group delimiter=\" \"><text term=\"issue\" form=\"short\"/><text variable=\"issue\"/></group><choose><if type=\"report\"><text variable=\"genre\"/></if></choose><text variable=\"number\"/></group></macro><macro name=\"publisher\"><text variable=\"publisher\"/></macro><macro name=\"publication-date\"><choose><if type=\"book chapter paper-conference motion_picture\" match=\"any\"><date variable=\"issued\" form=\"numeric\" date-parts=\"year\"/></if><else-if type=\"article-journal article-magazine\" match=\"any\"><date variable=\"issued\" form=\"text\" date-parts=\"year-month\"/></else-if><else-if type=\"speech\" match=\"none\"><date variable=\"issued\" form=\"text\"/></else-if></choose></macro><macro name=\"location\"><group delimiter=\", \"><group delimiter=\" \"><label variable=\"page\" form=\"short\"/><text variable=\"page\"/></group><choose><if variable=\"source\" match=\"none\"><text macro=\"URI\"/></if></choose></group></macro><macro name=\"container2-title\"><group delimiter=\", \"><choose><if type=\"speech\"><text variable=\"event\"/><date variable=\"event-date\" form=\"text\"/><text variable=\"event-place\"/></if></choose><text variable=\"archive\"/><text variable=\"archive-place\"/><text variable=\"archive_location\"/></group></macro><macro name=\"container2-location\"><choose><if variable=\"source\"><choose><if variable=\"DOI URL\" match=\"any\"><group delimiter=\", \"><text variable=\"source\" font-style=\"italic\"/><text macro=\"URI\"/></group></if></choose></if></choose></macro><macro name=\"URI\"><choose><if variable=\"DOI\"><text variable=\"DOI\" prefix=\"https://doi.org/\"/></if><else><text variable=\"URL\"/></else></choose></macro><macro name=\"accessed\"><choose><if variable=\"issued\" match=\"none\"><group delimiter=\" \"><text term=\"accessed\" text-case=\"capitalize-first\"/><date variable=\"accessed\" form=\"text\"/></group></if></choose></macro><citation et-al-min=\"3\" et-al-use-first=\"1\" disambiguate-add-names=\"true\" disambiguate-add-givenname=\"true\"><layout prefix=\"(\" suffix=\")\" delimiter=\"; \"><choose><if locator=\"page line\" match=\"any\"><group delimiter=\" \"><text macro=\"author-short\"/><text variable=\"locator\"/></group></if><else><group delimiter=\", \"><text macro=\"author-short\"/><group><label variable=\"locator\" form=\"short\"/><text variable=\"locator\"/></group></group></else></choose></layout></citation><bibliography hanging-indent=\"true\" et-al-min=\"3\" et-al-use-first=\"1\" line-spacing=\"2\" entry-spacing=\"0\" subsequent-author-substitute=\"---\"><sort><key macro=\"author\"/><key variable=\"title\"/></sort><layout suffix=\".\"><group delimiter=\". \"><text macro=\"author\"/><text macro=\"title\"/><date variable=\"original-date\" form=\"numeric\" date-parts=\"year\"/><group delimiter=\", \"><text macro=\"container-title\"/><text macro=\"other-contributors\"/><text macro=\"version\"/><text macro=\"number\"/><text macro=\"publisher\"/><text macro=\"publication-date\"/><text macro=\"location\"/></group><group delimiter=\", \"><text macro=\"container2-title\"/><text macro=\"container2-location\"/></group><text macro=\"accessed\"/></group></layout></bibliography></style>`\n","export default `<?xml version=\"1.0\" encoding=\"utf-8\"?><style xmlns=\"http://purl.org/net/xbiblio/csl\" class=\"in-text\" version=\"1.0\" demote-non-dropping-particle=\"display-and-sort\" page-range-format=\"chicago\"><info><title>Chicago Manual of Style 17th edition (author-date)</title><id>http://www.zotero.org/styles/chicago-author-date</id><link href=\"http://www.zotero.org/styles/chicago-author-date\" rel=\"self\"/><link href=\"http://www.chicagomanualofstyle.org/tools_citationguide.html\" rel=\"documentation\"/><author><name>Julian Onions</name><email>julian.onions@gmail.com</email></author><contributor><name>Sebastian Karcher</name></contributor><contributor><name>Richard Karnesky</name><email>karnesky+zotero@gmail.com</email><uri>http://arc.nucapt.northwestern.edu/Richard_Karnesky</uri></contributor><contributor><name>Andrew Dunning</name><email>andrew.dunning@utoronto.ca</email><uri>https://orcid.org/0000-0003-0464-5036</uri></contributor><contributor><name>Matthew Roth</name><email>matthew.g.roth@yale.edu</email><uri> https://orcid.org/0000-0001-7902-6331</uri></contributor><contributor><name>Brenton M. Wiernik</name></contributor><category citation-format=\"author-date\"/><category field=\"generic-base\"/><summary>The author-date variant of the Chicago style</summary><updated>2018-01-24T12:00:00+00:00</updated><rights license=\"http://creativecommons.org/licenses/by-sa/3.0/\">This work is licensed under a Creative Commons Attribution-ShareAlike 3.0 License</rights></info><locale xml:lang=\"en\"><terms><term name=\"editor\" form=\"verb-short\">ed.</term><term name=\"container-author\" form=\"verb\">by</term><term name=\"translator\" form=\"verb-short\">trans.</term><term name=\"editortranslator\" form=\"verb\">edited and translated by</term><term name=\"translator\" form=\"short\">trans.</term></terms></locale><macro name=\"secondary-contributors\"><choose><if type=\"chapter entry-dictionary entry-encyclopedia paper-conference\" match=\"none\"><group delimiter=\". \"><names variable=\"editor translator\" delimiter=\". \"><label form=\"verb\" text-case=\"capitalize-first\" suffix=\" \"/><name and=\"text\" delimiter=\", \"/></names><names variable=\"director\" delimiter=\". \"><label form=\"verb\" text-case=\"capitalize-first\" suffix=\" \"/><name and=\"text\" delimiter=\", \"/></names></group></if></choose></macro><macro name=\"container-contributors\"><choose><if type=\"chapter entry-dictionary entry-encyclopedia paper-conference\" match=\"any\"><group prefix=\", \" delimiter=\", \"><names variable=\"container-author\" delimiter=\", \"><label form=\"verb\" suffix=\" \"/><name and=\"text\" delimiter=\", \"/></names><names variable=\"editor translator\" delimiter=\", \"><label form=\"verb\" suffix=\" \"/><name and=\"text\" delimiter=\", \"/></names></group></if></choose></macro><macro name=\"editor\"><names variable=\"editor\"><name name-as-sort-order=\"first\" and=\"text\" sort-separator=\", \" delimiter=\", \" delimiter-precedes-last=\"always\"/><label form=\"short\" prefix=\", \"/></names></macro><macro name=\"translator\"><names variable=\"translator\"><name name-as-sort-order=\"first\" and=\"text\" sort-separator=\", \" delimiter=\", \" delimiter-precedes-last=\"always\"/><label form=\"short\" prefix=\", \"/></names></macro><macro name=\"recipient\"><choose><if type=\"personal_communication\"><choose><if variable=\"genre\"><text variable=\"genre\" text-case=\"capitalize-first\"/></if><else><text term=\"letter\" text-case=\"capitalize-first\"/></else></choose></if></choose><names variable=\"recipient\" delimiter=\", \"><label form=\"verb\" prefix=\" \" text-case=\"lowercase\" suffix=\" \"/><name and=\"text\" delimiter=\", \"/></names></macro><macro name=\"substitute-title\"><choose><if type=\"article-magazine article-newspaper review review-book\" match=\"any\"><text macro=\"container-title\"/></if></choose></macro><macro name=\"contributors\"><group delimiter=\". \"><names variable=\"author\"><name and=\"text\" name-as-sort-order=\"first\" sort-separator=\", \" delimiter=\", \" delimiter-precedes-last=\"always\"/><label form=\"short\" prefix=\", \"/><substitute><names variable=\"editor\"/><names variable=\"translator\"/><names variable=\"director\"/><text macro=\"substitute-title\"/><text macro=\"title\"/></substitute></names><text macro=\"recipient\"/></group></macro><macro name=\"contributors-short\"><names variable=\"author\"><name form=\"short\" and=\"text\" delimiter=\", \" initialize-with=\". \"/><substitute><names variable=\"editor\"/><names variable=\"translator\"/><names variable=\"director\"/><text macro=\"substitute-title\"/><text macro=\"title\"/></substitute></names></macro><macro name=\"interviewer\"><names variable=\"interviewer\" delimiter=\", \"><label form=\"verb\" prefix=\" \" text-case=\"capitalize-first\" suffix=\" \"/><name and=\"text\" delimiter=\", \"/></names></macro><macro name=\"archive\"><group delimiter=\". \"><text variable=\"archive_location\" text-case=\"capitalize-first\"/><text variable=\"archive\"/><text variable=\"archive-place\"/></group></macro><macro name=\"access\"><group delimiter=\". \"><choose><if type=\"graphic report\" match=\"any\"><text macro=\"archive\"/></if><else-if type=\"article-journal bill book chapter legal_case legislation motion_picture paper-conference\" match=\"none\"><text macro=\"archive\"/></else-if></choose><choose><if type=\"webpage post-weblog\" match=\"any\"><date variable=\"issued\" form=\"text\"/></if></choose><choose><if variable=\"issued\" match=\"none\"><group delimiter=\" \"><text term=\"accessed\" text-case=\"capitalize-first\"/><date variable=\"accessed\" form=\"text\"/></group></if></choose><choose><if type=\"legal_case\" match=\"none\"><choose><if variable=\"DOI\"><text variable=\"DOI\" prefix=\"https://doi.org/\"/></if><else><text variable=\"URL\"/></else></choose></if></choose></group></macro><macro name=\"title\"><choose><if variable=\"title\" match=\"none\"><choose><if type=\"personal_communication\" match=\"none\"><text variable=\"genre\" text-case=\"capitalize-first\"/></if></choose></if><else-if type=\"bill book graphic legislation motion_picture song\" match=\"any\"><text variable=\"title\" text-case=\"title\" font-style=\"italic\"/><group prefix=\" (\" suffix=\")\" delimiter=\" \"><text term=\"version\"/><text variable=\"version\"/></group></else-if><else-if variable=\"reviewed-author\"><choose><if variable=\"reviewed-title\"><group delimiter=\". \"><text variable=\"title\" text-case=\"title\" quotes=\"true\"/><group delimiter=\", \"><text variable=\"reviewed-title\" text-case=\"title\" font-style=\"italic\" prefix=\"Review of \"/><names variable=\"reviewed-author\"><label form=\"verb-short\" text-case=\"lowercase\" suffix=\" \"/><name and=\"text\" delimiter=\", \"/></names></group></group></if><else><group delimiter=\", \"><text variable=\"title\" text-case=\"title\" font-style=\"italic\" prefix=\"Review of \"/><names variable=\"reviewed-author\"><label form=\"verb-short\" text-case=\"lowercase\" suffix=\" \"/><name and=\"text\" delimiter=\", \"/></names></group></else></choose></else-if><else-if type=\"legal_case interview patent\" match=\"any\"><text variable=\"title\"/></else-if><else><text variable=\"title\" text-case=\"title\" quotes=\"true\"/></else></choose></macro><macro name=\"edition\"><choose><if type=\"bill book graphic legal_case legislation motion_picture report song\" match=\"any\"><choose><if is-numeric=\"edition\"><group delimiter=\" \" prefix=\". \"><number variable=\"edition\" form=\"ordinal\"/><text term=\"edition\" form=\"short\" strip-periods=\"true\"/></group></if><else><text variable=\"edition\" text-case=\"capitalize-first\" prefix=\". \"/></else></choose></if><else-if type=\"chapter entry-dictionary entry-encyclopedia paper-conference\" match=\"any\"><choose><if is-numeric=\"edition\"><group delimiter=\" \" prefix=\", \"><number variable=\"edition\" form=\"ordinal\"/><text term=\"edition\" form=\"short\"/></group></if><else><text variable=\"edition\" prefix=\", \"/></else></choose></else-if></choose></macro><macro name=\"locators\"><choose><if type=\"article-journal\"><choose><if variable=\"volume\"><text variable=\"volume\" prefix=\" \"/><group prefix=\" (\" suffix=\")\"><choose><if variable=\"issue\"><text variable=\"issue\"/></if><else><date variable=\"issued\"><date-part name=\"month\"/></date></else></choose></group></if><else-if variable=\"issue\"><group delimiter=\" \" prefix=\", \"><text term=\"issue\" form=\"short\"/><text variable=\"issue\"/><date variable=\"issued\" prefix=\"(\" suffix=\")\"><date-part name=\"month\"/></date></group></else-if><else><date variable=\"issued\" prefix=\", \"><date-part name=\"month\"/></date></else></choose></if><else-if type=\"legal_case\"><text variable=\"volume\" prefix=\", \"/><text variable=\"container-title\" prefix=\" \"/><text variable=\"page\" prefix=\" \"/></else-if><else-if type=\"bill book graphic legal_case legislation motion_picture report song\" match=\"any\"><group prefix=\". \" delimiter=\". \"><group><text term=\"volume\" form=\"short\" text-case=\"capitalize-first\" suffix=\" \"/><number variable=\"volume\" form=\"numeric\"/></group><group><number variable=\"number-of-volumes\" form=\"numeric\"/><text term=\"volume\" form=\"short\" prefix=\" \" plural=\"true\"/></group></group></else-if><else-if type=\"chapter entry-dictionary entry-encyclopedia paper-conference\" match=\"any\"><choose><if variable=\"page\" match=\"none\"><group prefix=\". \"><text term=\"volume\" form=\"short\" text-case=\"capitalize-first\" suffix=\" \"/><number variable=\"volume\" form=\"numeric\"/></group></if></choose></else-if></choose></macro><macro name=\"locators-chapter\"><choose><if type=\"chapter entry-dictionary entry-encyclopedia paper-conference\" match=\"any\"><choose><if variable=\"page\"><group prefix=\", \"><text variable=\"volume\" suffix=\":\"/><text variable=\"page\"/></group></if></choose></if></choose></macro><macro name=\"locators-article\"><choose><if type=\"article-newspaper\"><group prefix=\", \" delimiter=\", \"><group delimiter=\" \"><text variable=\"edition\"/><text term=\"edition\"/></group><group><text term=\"section\" form=\"short\" suffix=\" \"/><text variable=\"section\"/></group></group></if><else-if type=\"article-journal\"><choose><if variable=\"volume issue\" match=\"any\"><text variable=\"page\" prefix=\": \"/></if><else><text variable=\"page\" prefix=\", \"/></else></choose></else-if></choose></macro><macro name=\"point-locators\"><choose><if variable=\"locator\"><choose><if locator=\"page\" match=\"none\"><choose><if type=\"bill book graphic legal_case legislation motion_picture report song\" match=\"any\"><choose><if variable=\"volume\"><group><text term=\"volume\" form=\"short\" suffix=\" \"/><number variable=\"volume\" form=\"numeric\"/><label variable=\"locator\" form=\"short\" prefix=\", \" suffix=\" \"/></group></if><else><label variable=\"locator\" form=\"short\" suffix=\" \"/></else></choose></if><else><label variable=\"locator\" form=\"short\" suffix=\" \"/></else></choose></if><else-if type=\"bill book graphic legal_case legislation motion_picture report song\" match=\"any\"><number variable=\"volume\" form=\"numeric\" suffix=\":\"/></else-if></choose><text variable=\"locator\"/></if></choose></macro><macro name=\"container-prefix\"><text term=\"in\" text-case=\"capitalize-first\"/></macro><macro name=\"container-title\"><choose><if type=\"chapter entry-dictionary entry-encyclopedia paper-conference\" match=\"any\"><text macro=\"container-prefix\" suffix=\" \"/></if></choose><choose><if type=\"webpage\"><text variable=\"container-title\" text-case=\"title\"/></if><else-if type=\"legal_case\" match=\"none\"><group delimiter=\" \"><text variable=\"container-title\" text-case=\"title\" font-style=\"italic\"/><choose><if type=\"post-weblog\"><text value=\"(blog)\"/></if></choose></group></else-if></choose></macro><macro name=\"publisher\"><group delimiter=\": \"><text variable=\"publisher-place\"/><text variable=\"publisher\"/></group></macro><macro name=\"date\"><choose><if variable=\"issued\"><group delimiter=\" \"><date variable=\"original-date\" form=\"text\" date-parts=\"year\" prefix=\"(\" suffix=\")\"/><date variable=\"issued\"><date-part name=\"year\"/></date></group></if><else-if variable=\"status\"><text variable=\"status\" text-case=\"capitalize-first\"/></else-if><else><text term=\"no date\" form=\"short\"/></else></choose></macro><macro name=\"date-in-text\"><choose><if variable=\"issued\"><group delimiter=\" \"><date variable=\"original-date\" form=\"text\" date-parts=\"year\" prefix=\"[\" suffix=\"]\"/><date variable=\"issued\"><date-part name=\"year\"/></date></group></if><else-if variable=\"status\"><text variable=\"status\"/></else-if><else><text term=\"no date\" form=\"short\"/></else></choose></macro><macro name=\"day-month\"><date variable=\"issued\"><date-part name=\"month\"/><date-part name=\"day\" prefix=\" \"/></date></macro><macro name=\"collection-title\"><choose><if match=\"none\" type=\"article-journal\"><choose><if match=\"none\" is-numeric=\"collection-number\"><group delimiter=\", \"><text variable=\"collection-title\" text-case=\"title\"/><text variable=\"collection-number\"/></group></if><else><group delimiter=\" \"><text variable=\"collection-title\" text-case=\"title\"/><text variable=\"collection-number\"/></group></else></choose></if></choose></macro><macro name=\"collection-title-journal\"><choose><if type=\"article-journal\"><group delimiter=\" \"><text variable=\"collection-title\"/><text variable=\"collection-number\"/></group></if></choose></macro><macro name=\"event\"><group delimiter=\" \"><choose><if variable=\"genre\"><text term=\"presented at\"/></if><else><text term=\"presented at\" text-case=\"capitalize-first\"/></else></choose><text variable=\"event\"/></group></macro><macro name=\"description\"><choose><if variable=\"interviewer\" type=\"interview\" match=\"any\"><group delimiter=\". \"><text macro=\"interviewer\"/><text variable=\"medium\" text-case=\"capitalize-first\"/></group></if><else-if type=\"patent\"><group delimiter=\" \" prefix=\". \"><text variable=\"authority\"/><text variable=\"number\"/></group></else-if><else><text variable=\"medium\" text-case=\"capitalize-first\" prefix=\". \"/></else></choose><choose><if variable=\"title\" match=\"none\"/><else-if type=\"thesis personal_communication speech\" match=\"any\"/><else><group delimiter=\" \" prefix=\". \"><text variable=\"genre\" text-case=\"capitalize-first\"/><choose><if type=\"report\"><text variable=\"number\"/></if></choose></group></else></choose></macro><macro name=\"issue\"><choose><if type=\"legal_case\"><text variable=\"authority\" prefix=\". \"/></if><else-if type=\"speech\"><group prefix=\". \" delimiter=\", \"><group delimiter=\" \"><text variable=\"genre\" text-case=\"capitalize-first\"/><text macro=\"event\"/></group><text variable=\"event-place\"/><text macro=\"day-month\"/></group></else-if><else-if type=\"article-newspaper article-magazine personal_communication\" match=\"any\"><date variable=\"issued\" form=\"text\" prefix=\", \"/></else-if><else-if type=\"patent\"><group delimiter=\", \" prefix=\", \"><group delimiter=\" \"><text value=\"filed\"/><date variable=\"submitted\" form=\"text\"/></group><group delimiter=\" \"><choose><if variable=\"issued submitted\" match=\"all\"><text term=\"and\"/></if></choose><text value=\"issued\"/><date variable=\"issued\" form=\"text\"/></group></group></else-if><else-if type=\"article-journal\" match=\"any\"/><else><group prefix=\". \" delimiter=\", \"><choose><if type=\"thesis\"><text variable=\"genre\" text-case=\"capitalize-first\"/></if></choose><text macro=\"publisher\"/></group></else></choose></macro><citation et-al-min=\"4\" et-al-use-first=\"1\" disambiguate-add-year-suffix=\"true\" disambiguate-add-names=\"true\" disambiguate-add-givenname=\"true\" givenname-disambiguation-rule=\"primary-name\" collapse=\"year\" after-collapse-delimiter=\"; \"><layout prefix=\"(\" suffix=\")\" delimiter=\"; \"><group delimiter=\", \"><choose><if variable=\"issued accessed\" match=\"any\"><group delimiter=\" \"><text macro=\"contributors-short\"/><text macro=\"date-in-text\"/></group></if><else><group delimiter=\", \"><text macro=\"contributors-short\"/><text macro=\"date-in-text\"/></group></else></choose><text macro=\"point-locators\"/></group></layout></citation><bibliography hanging-indent=\"true\" et-al-min=\"11\" et-al-use-first=\"7\" subsequent-author-substitute=\"&#8212;&#8212;&#8212;\" entry-spacing=\"0\"><sort><key macro=\"contributors\"/><key variable=\"issued\"/><key variable=\"title\"/></sort><layout suffix=\".\"><group delimiter=\". \"><text macro=\"contributors\"/><text macro=\"date\"/><text macro=\"title\"/></group><text macro=\"description\"/><text macro=\"secondary-contributors\" prefix=\". \"/><text macro=\"container-title\" prefix=\". \"/><text macro=\"container-contributors\"/><text macro=\"edition\"/><text macro=\"locators-chapter\"/><text macro=\"collection-title-journal\" prefix=\", \" suffix=\", \"/><text macro=\"locators\"/><text macro=\"collection-title\" prefix=\". \"/><text macro=\"issue\"/><text macro=\"locators-article\"/><text macro=\"access\" prefix=\". \"/></layout></bibliography></style>`\n","export default `<?xml version=\"1.0\" encoding=\"utf-8\"?><style xmlns=\"http://purl.org/net/xbiblio/csl\" class=\"in-text\" version=\"1.0\" demote-non-dropping-particle=\"sort-only\"><info><title>Harvard Reference format 1 (author-date)</title><id>http://www.zotero.org/styles/harvard1</id><link href=\"http://www.zotero.org/styles/harvard1\" rel=\"self\"/><link href=\"http://libweb.anglia.ac.uk/referencing/harvard.htm\" rel=\"documentation\"/><author><name>Julian Onions</name><email>julian.onions@gmail.com</email></author><category citation-format=\"author-date\"/><category field=\"generic-base\"/><summary>The Harvard author-date style</summary><updated>2012-09-27T22:06:38+00:00</updated><rights license=\"http://creativecommons.org/licenses/by-sa/3.0/\">This work is licensed under a Creative Commons Attribution-ShareAlike 3.0 License</rights></info><macro name=\"editor\"><names variable=\"editor\" delimiter=\", \"><name and=\"symbol\" initialize-with=\". \" delimiter=\", \"/><label form=\"short\" prefix=\", \" text-case=\"lowercase\"/></names></macro><macro name=\"anon\"><text term=\"anonymous\" form=\"short\" text-case=\"capitalize-first\" strip-periods=\"true\"/></macro><macro name=\"author\"><names variable=\"author\"><name name-as-sort-order=\"all\" and=\"symbol\" sort-separator=\", \" initialize-with=\".\" delimiter-precedes-last=\"never\" delimiter=\", \"/><label form=\"short\" prefix=\" \" text-case=\"lowercase\"/><substitute><names variable=\"editor\"/><text macro=\"anon\"/></substitute></names></macro><macro name=\"author-short\"><names variable=\"author\"><name form=\"short\" and=\"symbol\" delimiter=\", \" delimiter-precedes-last=\"never\" initialize-with=\". \"/><substitute><names variable=\"editor\"/><names variable=\"translator\"/><text macro=\"anon\"/></substitute></names></macro><macro name=\"access\"><choose><if variable=\"URL\"><text value=\"Available at:\" suffix=\" \"/><text variable=\"URL\"/><group prefix=\" [\" suffix=\"]\"><text term=\"accessed\" text-case=\"capitalize-first\" suffix=\" \"/><date variable=\"accessed\"><date-part name=\"month\" suffix=\" \"/><date-part name=\"day\" suffix=\", \"/><date-part name=\"year\"/></date></group></if></choose></macro><macro name=\"title\"><choose><if type=\"bill book graphic legal_case legislation motion_picture report song thesis\" match=\"any\"><text variable=\"title\" font-style=\"italic\"/></if><else><text variable=\"title\"/></else></choose></macro><macro name=\"publisher\"><group delimiter=\": \"><text variable=\"publisher-place\"/><text variable=\"publisher\"/></group></macro><macro name=\"year-date\"><choose><if variable=\"issued\"><date variable=\"issued\"><date-part name=\"year\"/></date></if><else><text term=\"no date\" form=\"short\"/></else></choose></macro><macro name=\"edition\"><choose><if is-numeric=\"edition\"><group delimiter=\" \"><number variable=\"edition\" form=\"ordinal\"/><text term=\"edition\" form=\"short\"/></group></if><else><text variable=\"edition\" suffix=\".\"/></else></choose></macro><macro name=\"pages\"><group><label variable=\"page\" form=\"short\" suffix=\" \"/><text variable=\"page\"/></group></macro><citation et-al-min=\"3\" et-al-use-first=\"1\" disambiguate-add-year-suffix=\"true\" disambiguate-add-names=\"true\" disambiguate-add-givenname=\"true\"><layout prefix=\"(\" suffix=\")\" delimiter=\"; \"><group delimiter=\", \"><group delimiter=\" \"><text macro=\"author-short\"/><text macro=\"year-date\"/></group><group><label variable=\"locator\" form=\"short\"/><text variable=\"locator\"/></group></group></layout></citation><bibliography hanging-indent=\"true\" et-al-min=\"4\" et-al-use-first=\"1\"><sort><key macro=\"author\"/><key variable=\"title\"/></sort><layout><text macro=\"author\" suffix=\",\"/><date variable=\"issued\" prefix=\" \" suffix=\".\"><date-part name=\"year\"/></date><choose><if type=\"bill book graphic legal_case legislation motion_picture report song\" match=\"any\"><group prefix=\" \" delimiter=\" \" suffix=\",\"><text macro=\"title\"/><text macro=\"edition\"/><text macro=\"editor\"/></group><text prefix=\" \" suffix=\".\" macro=\"publisher\"/></if><else-if type=\"chapter paper-conference\" match=\"any\"><text macro=\"title\" prefix=\" \" suffix=\".\"/><group prefix=\" \" delimiter=\" \"><text term=\"in\" text-case=\"capitalize-first\"/><text macro=\"editor\"/><text variable=\"container-title\" font-style=\"italic\" suffix=\".\"/><text variable=\"collection-title\" suffix=\".\"/><text variable=\"event\" suffix=\".\"/><group suffix=\".\" delimiter=\", \"><text macro=\"publisher\" prefix=\" \"/><text macro=\"pages\"/></group></group></else-if><else-if type=\"thesis\"><group prefix=\" \" suffix=\".\" delimiter=\". \"><text macro=\"title\"/><text variable=\"genre\"/><text macro=\"publisher\"/></group></else-if><else><group suffix=\".\"><text macro=\"title\" prefix=\" \"/><text macro=\"editor\" prefix=\" \"/></group><group prefix=\" \" suffix=\".\"><text variable=\"container-title\" font-style=\"italic\"/><group prefix=\", \"><text variable=\"volume\"/><text variable=\"issue\" prefix=\"(\" suffix=\")\"/></group><group prefix=\", \"><label variable=\"page\" form=\"short\"/><text variable=\"page\"/></group></group></else></choose><text prefix=\" \" macro=\"access\" suffix=\".\"/></layout></bibliography></style>`\n","export default `<?xml version=\"1.0\" encoding=\"utf-8\"?><style xmlns=\"http://purl.org/net/xbiblio/csl\" class=\"in-text\" version=\"1.0\" demote-non-dropping-particle=\"sort-only\" page-range-format=\"minimal\"><info><title>Vancouver</title><id>http://www.zotero.org/styles/vancouver</id><link href=\"http://www.zotero.org/styles/vancouver\" rel=\"self\"/><link href=\"http://www.nlm.nih.gov/bsd/uniform_requirements.html\" rel=\"documentation\"/><author><name>Michael Berkowitz</name><email>mberkowi@gmu.edu</email></author><contributor><name>Sean Takats</name><email>stakats@gmu.edu</email></contributor><contributor><name>Sebastian Karcher</name></contributor><category citation-format=\"numeric\"/><category field=\"medicine\"/><summary>Vancouver style as outlined by International Committee of Medical Journal Editors Uniform Requirements for Manuscripts Submitted to Biomedical Journals: Sample References</summary><updated>2014-09-06T16:03:01+00:00</updated><rights license=\"http://creativecommons.org/licenses/by-sa/3.0/\">This work is licensed under a Creative Commons Attribution-ShareAlike 3.0 License</rights></info><locale xml:lang=\"en\"><date form=\"text\" delimiter=\" \"><date-part name=\"year\"/><date-part name=\"month\" form=\"short\" strip-periods=\"true\"/><date-part name=\"day\"/></date><terms><term name=\"collection-editor\" form=\"long\"><single>editor</single><multiple>editors</multiple></term><term name=\"presented at\">presented at</term><term name=\"available at\">available from</term><term name=\"section\" form=\"short\">sect.</term></terms></locale><locale xml:lang=\"fr\"><date form=\"text\" delimiter=\" \"><date-part name=\"day\"/><date-part name=\"month\" form=\"short\" strip-periods=\"true\"/><date-part name=\"year\"/></date></locale><macro name=\"author\"><names variable=\"author\"><name sort-separator=\" \" initialize-with=\"\" name-as-sort-order=\"all\" delimiter=\", \" delimiter-precedes-last=\"always\"/><label form=\"long\" prefix=\", \"/><substitute><names variable=\"editor\"/></substitute></names></macro><macro name=\"editor\"><names variable=\"editor\" suffix=\".\"><name sort-separator=\" \" initialize-with=\"\" name-as-sort-order=\"all\" delimiter=\", \" delimiter-precedes-last=\"always\"/><label form=\"long\" prefix=\", \"/></names></macro><macro name=\"chapter-marker\"><choose><if type=\"chapter paper-conference entry-dictionary entry-encyclopedia\" match=\"any\"><text term=\"in\" text-case=\"capitalize-first\"/></if></choose></macro><macro name=\"publisher\"><choose><if type=\"article-journal article-magazine article-newspaper\" match=\"none\"><group delimiter=\": \" suffix=\";\"><choose><if type=\"thesis\"><text variable=\"publisher-place\" prefix=\"[\" suffix=\"]\"/></if><else-if type=\"speech\"/><else><text variable=\"publisher-place\"/></else></choose><text variable=\"publisher\"/></group></if></choose></macro><macro name=\"access\"><choose><if variable=\"URL\"><group delimiter=\": \"><text term=\"available at\" text-case=\"capitalize-first\"/><text variable=\"URL\"/></group></if></choose></macro><macro name=\"accessed-date\"><choose><if variable=\"URL\"><group prefix=\"[\" suffix=\"]\" delimiter=\" \"><text term=\"cited\" text-case=\"lowercase\"/><date variable=\"accessed\" form=\"text\"/></group></if></choose></macro><macro name=\"container-title\"><choose><if type=\"article-journal article-magazine chapter paper-conference article-newspaper review review-book entry-dictionary entry-encyclopedia\" match=\"any\"><group suffix=\".\" delimiter=\" \"><choose><if type=\"article-journal review review-book\" match=\"any\"><text variable=\"container-title\" form=\"short\" strip-periods=\"true\"/></if><else><text variable=\"container-title\" strip-periods=\"true\"/></else></choose><choose><if variable=\"URL\"><text term=\"internet\" prefix=\"[\" suffix=\"]\" text-case=\"capitalize-first\"/></if></choose></group><text macro=\"edition\" prefix=\" \"/></if><else-if type=\"bill legislation\" match=\"any\"><group delimiter=\", \"><group delimiter=\". \"><text variable=\"container-title\"/><group delimiter=\" \"><text term=\"section\" form=\"short\" text-case=\"capitalize-first\"/><text variable=\"section\"/></group></group><text variable=\"number\"/></group></else-if><else-if type=\"speech\"><group delimiter=\": \" suffix=\";\"><group delimiter=\" \"><text variable=\"genre\" text-case=\"capitalize-first\"/><text term=\"presented at\"/></group><text variable=\"event\"/></group></else-if><else><group delimiter=\", \" suffix=\".\"><choose><if variable=\"collection-title\" match=\"none\"><group delimiter=\" \"><label variable=\"volume\" form=\"short\" text-case=\"capitalize-first\"/><text variable=\"volume\"/></group></if></choose><text variable=\"container-title\"/></group></else></choose></macro><macro name=\"title\"><text variable=\"title\"/><choose><if type=\"article-journal article-magazine chapter paper-conference article-newspaper review review-book entry-dictionary entry-encyclopedia\" match=\"none\"><choose><if variable=\"URL\"><text term=\"internet\" prefix=\" [\" suffix=\"]\" text-case=\"capitalize-first\"/></if></choose><text macro=\"edition\" prefix=\". \"/></if></choose><choose><if type=\"thesis\"><text variable=\"genre\" prefix=\" [\" suffix=\"]\"/></if></choose></macro><macro name=\"edition\"><choose><if is-numeric=\"edition\"><group delimiter=\" \"><number variable=\"edition\" form=\"ordinal\"/><text term=\"edition\" form=\"short\"/></group></if><else><text variable=\"edition\" suffix=\".\"/></else></choose></macro><macro name=\"date\"><choose><if type=\"article-journal article-magazine article-newspaper review review-book\" match=\"any\"><group suffix=\";\" delimiter=\" \"><date variable=\"issued\" form=\"text\"/><text macro=\"accessed-date\"/></group></if><else-if type=\"bill legislation\" match=\"any\"><group delimiter=\", \"><date variable=\"issued\" delimiter=\" \"><date-part name=\"month\" form=\"short\" strip-periods=\"true\"/><date-part name=\"day\"/></date><date variable=\"issued\"><date-part name=\"year\"/></date></group></else-if><else-if type=\"report\"><date variable=\"issued\" delimiter=\" \"><date-part name=\"year\"/><date-part name=\"month\" form=\"short\" strip-periods=\"true\"/></date><text macro=\"accessed-date\" prefix=\" \"/></else-if><else-if type=\"patent\"><group suffix=\".\"><group delimiter=\", \"><text variable=\"number\"/><date variable=\"issued\"><date-part name=\"year\"/></date></group><text macro=\"accessed-date\" prefix=\" \"/></group></else-if><else-if type=\"speech\"><group delimiter=\"; \"><group delimiter=\" \"><date variable=\"issued\" delimiter=\" \"><date-part name=\"year\"/><date-part name=\"month\" form=\"short\" strip-periods=\"true\"/><date-part name=\"day\"/></date><text macro=\"accessed-date\"/></group><text variable=\"event-place\"/></group></else-if><else><group suffix=\".\"><date variable=\"issued\"><date-part name=\"year\"/></date><text macro=\"accessed-date\" prefix=\" \"/></group></else></choose></macro><macro name=\"pages\"><choose><if type=\"article-journal article-magazine article-newspaper review review-book\" match=\"any\"><text variable=\"page\" prefix=\":\"/></if><else-if type=\"book\" match=\"any\"><text variable=\"number-of-pages\" prefix=\" \"/><choose><if is-numeric=\"number-of-pages\"><label variable=\"number-of-pages\" form=\"short\" prefix=\" \" plural=\"never\"/></if></choose></else-if><else><group prefix=\" \" delimiter=\" \"><label variable=\"page\" form=\"short\" plural=\"never\"/><text variable=\"page\"/></group></else></choose></macro><macro name=\"journal-location\"><choose><if type=\"article-journal article-magazine review review-book\" match=\"any\"><text variable=\"volume\"/><text variable=\"issue\" prefix=\"(\" suffix=\")\"/></if></choose></macro><macro name=\"collection-details\"><choose><if type=\"article-journal article-magazine article-newspaper review review-book\" match=\"none\"><choose><if variable=\"collection-title\"><group delimiter=\" \" prefix=\"(\" suffix=\")\"><names variable=\"collection-editor\" suffix=\".\"><name sort-separator=\" \" initialize-with=\"\" name-as-sort-order=\"all\" delimiter=\", \" delimiter-precedes-last=\"always\"/><label form=\"long\" prefix=\", \"/></names><group delimiter=\"; \"><text variable=\"collection-title\"/><group delimiter=\" \"><label variable=\"volume\" form=\"short\"/><text variable=\"volume\"/></group></group></group></if></choose></if></choose></macro><macro name=\"report-details\"><choose><if type=\"report\"><text variable=\"number\" prefix=\"Report No.: \"/></if></choose></macro><citation collapse=\"citation-number\"><sort><key variable=\"citation-number\"/></sort><layout prefix=\"(\" suffix=\")\" delimiter=\",\"><text variable=\"citation-number\"/></layout></citation><bibliography et-al-min=\"7\" et-al-use-first=\"6\" second-field-align=\"flush\"><layout><text variable=\"citation-number\" suffix=\". \"/><group delimiter=\". \" suffix=\". \"><text macro=\"author\"/><text macro=\"title\"/></group><group delimiter=\" \" suffix=\". \"><group delimiter=\": \"><text macro=\"chapter-marker\"/><group delimiter=\" \"><text macro=\"editor\"/><text macro=\"container-title\"/></group></group><text macro=\"publisher\"/><group><text macro=\"date\"/><text macro=\"journal-location\"/><text macro=\"pages\"/></group></group><text macro=\"collection-details\" suffix=\". \"/><text macro=\"report-details\" suffix=\". \"/><text macro=\"access\"/></layout></bibliography></style>`\n","import rehypeCitationGenerator from './generator.js'\n// @ts-ignore\nimport Cite from './cite.js'\nimport mla from '../styles/mla.js'\nimport chicago from '../styles/chicago.js'\nimport harvard1 from '../styles/harvard1.js'\nimport vancouver from '../styles/vancouver.js'\n\nconst config = Cite.plugins.config.get('@csl')\n\n// Citation.js comes with apa\nconfig.templates.add('vancouver', vancouver)\nconfig.templates.add('harvard1', harvard1)\nconfig.templates.add('mla', mla)\nconfig.templates.add('chicago', chicago)\n\nconst rehypeCitation = rehypeCitationGenerator(Cite)\n\nexport default rehypeCitation\n"],"names":["citationRE","fullCitationRE","locatorRE","locatorLabels","book","chapter","column","figure","folio","issue","line","note","opus","page","paragraph","part","section","verse","volume","parseCitation","regexMatch","entries","isComposite","fullCitation","inTextSuppressAuthor","inTextCitation","optionalSuffix","undefined","citationPart","split","match","exec","trim","thisCitation","id","groups","citekey","replace","prefix","locator","label","suffix","rawPrefix","endsWith","substring","length","explicitLocator","explicitLocatorInSuffix","rawSuffix","suffixToParse","containsLocator","parseSuffix","push","retValue","natural","toLowerCase","startsWith","substr","readFile","path","isValidHttpUrl","fetch","then","response","text","data","fs","readFileSync","str","url","URL","_","protocol","getBibliography","options","file","bibliography","frontmatter","join","cwd","loadCSL","Cite","format","root","config","plugins","get","Object","keys","templates","includes","cslName","Math","random","toString","slice","cslPath","add","err","Error","loadLocale","locales","localePath","xmlLangRe","localeName","getCitationFormat","citeproc","info","cslXml","dataObj","children","node","find","x","citationFormat","getSortedRelevantRegistryItems","relevantIds","sorted","res","item","registry","reflist","index","isSameAuthor","item2","authorList","ref","author","authorList2","i","family","htmlToHast","html","p5ast","parse5","parseFragment","fromParse5","genCitation","mode","citationIdRoot","citationId","citationPre","inlineClass","linkCitations","key","c","processCitationCluster","citationID","citationItems","properties","noteIndex","citationText","ids","map","refIds","e","output","d","results","opt","sort_citations","citeMatch","ambig","indexOf","issued","year","startPos","start","rest","genBiblioNode","params","bibBody","makeBibliography","biblioNode","filter","className","forEach","entry_ids","genFootnoteSection","citationDict","footnoteArray","footnoteSection","list","type","tagName","value","oldFootnoteList","n","idx","oldId","href","dataFootnoteBackref","ariaLabel","liNode","aNode","newfootnoteSection","dataFootnotes","defaultCiteFormat","permittedTags","idRoot","rehypeCitationGenerator","tree","bibtexFile","inputCiteformat","csl","inputLang","lang","citeFormat","citations","citationIds","engine","xclass","visit","parent","citeStartIdx","citeEndIdx","newChildren","citeItem","citedText","citedTextNode","noCite","updateItems","mylist","suppressBibliography","inlineBibClass","bilioInserted","biblioMap","citekeys","pop","inlineBibNode","aBibNode","class","splice","fnArray","nextNode","newFootnoteSection","currentVersion","log","retrieveVersion","versnum","image","JSON","parse","undo","number","retrieveLastVersion","save","stringify","_options","formats","types","styles","wrapperTypes","validateOutputOptions","TypeError","style","append","prepend","test","validateOptions","maxChainLength","forceType","generateGraph","strict","target","defaultOptions","validate","assign","typeOf","thing","constructor","name","dataTypeOf","Array","isArray","applyGraph","entry","graph","_graph","findIndex","removeGraph","logger","_output","level","scope","msg","_log","_levels","_console","console","Console","process","stderr","dataTypes","unregExts","parseNativeTypes","input","dataType","every","matchType","typeList","predicate","extensions","addTypeParser","extends","extend","debug","object","parentTypeParser","hasTypeParser","prototype","hasOwnProperty","call","removeTypeParser","typeLists","listTypeParser","treeTypeParser","attachNode","typeMatcher","_defineProperty","obj","_toPropertyKey","defineProperty","enumerable","configurable","writable","arg","_toPrimitive","String","hint","prim","Symbol","toPrimitive","Number","TypeParser","validateDataType","validDataTypes","RangeError","validateParseType","RegExp","validateTokenList","tokenList","validatePropertyConstraint","propertyConstraint","validateElementConstraint","elementConstraint","validateExtends","parseTokenList","token","trimInput","testTokens","parsePropertyConstraint","constraints","concat","props","some","prop","parseElementConstraint","constraint","parsePredicate","bind","getCombinedPredicate","predicates","getDataType","DataParser","parser","async","FormatParser","parsers","parseType","typeParser","dataParser","parseAsync","asyncDataParser","validateFormat","ownKeys","enumerableOnly","getOwnPropertySymbols","symbols","sym","getOwnPropertyDescriptor","apply","_objectSpread","arguments","source","getOwnPropertyDescriptors","defineProperties","NAME","NAME_LIST","DATE","TYPE","entryTypes","article","bill","broadcast","classic","collection","dataset","document","event","graphic","hearing","interview","legal_case","legislation","manuscript","motion_picture","musical_score","pamphlet","patent","performance","periodical","personal_communication","post","regulation","report","review","software","song","speech","standard","thesis","treaty","webpage","fieldTypes","chair","compiler","composer","contributor","curator","director","editor","guest","host","interviewer","illustrator","narrator","organizer","performer","producer","recipient","translator","accessed","container","submitted","categories","custom","language","journalAbbreviation","shortTitle","abstract","annote","archive","archive_collection","archive_location","authority","dimensions","division","DOI","edition","genre","ISBN","ISSN","jurisdiction","keyword","medium","PMCID","PMID","printing","publisher","references","scale","status","supplement","title","version","correctName","bestGuessConversions","literal","given","parseName","correctNameList","nameList","names","Boolean","correctDateParts","dateParts","isNaN","parseInt","correctDate","date","dp","range","correctType","correctField","fieldName","fieldType","parseFloat","parseCsl","clean","field","correction","upgradeCsl","downgradeCsl","deepCopy","seen","Set","has","copy","delete","conversions","sign","evenRound","floor","round","createNumberConversion","bitLength","typeOpts","unsigned","lowerBound","pow","upperBound","moduloVal","moduloBitLength","moduloBound","V","opts","enforceRange","isFinite","abs","clamp","val","treatNullAsEmptyString","codePointAt","S","U","charCodeAt","fromCodePoint","a","b","Date","module","mixin","getOwnPropertyNames","impl","exports","wrapperSymbol","wrapper","implSymbol","PROCESSING_OPTIONS","TRANSITIONAL","NONTRANSITIONAL","normalize","s","findStatus","end","mappingTable","mid","regexAstralSymbols","countSymbols","string","mapChars","domain_name","useSTD3","processing_option","hasError","processed","len","codePoint","error","combiningMarksRegex","validateLabel","punycode","toUnicode","search","processing","result","labels","validation","verifyDnsLength","l","toASCII","total","domain","specialSchemes","ftp","gopher","http","https","ws","wss","failure","ucs2","decode","at","isASCIIDigit","isASCIIAlpha","isASCIIAlphanumeric","isASCIIHex","isSingleDot","buffer","isDoubleDot","isWindowsDriveLetterCodePoints","cp1","cp2","isWindowsDriveLetterString","isNormalizedWindowsDriveLetterString","containsForbiddenHostCodePoint","containsForbiddenHostCodePointExcludingPercent","isSpecialScheme","scheme","isSpecial","defaultPort","percentEncode","hex","toUpperCase","utf8PercentEncode","buf","Buffer","utf8PercentDecode","isC0ControlPercentEncode","extraPathPercentEncodeSet","isPathPercentEncode","extraUserinfoPercentEncodeSet","isUserinfoPercentEncode","percentEncodeChar","encodeSetPredicate","cStr","parseIPv4Number","R","charAt","regex","parseIPv4","parts","numbers","ipv4","counter","serializeIPv4","address","parseIPv6","pieceIndex","compress","pointer","numbersSeen","ipv4Piece","swaps","temp","serializeIPv6","seqResult","findLongestZeroSequence","ignore0","separator","parseHost","isSpecialArg","parseOpaqueHost","asciiDomain","tr46","ipv4Host","decoded","arr","maxIdx","maxLen","currStart","currLen","serializeHost","trimControlChars","trimTabAndNewline","shortenPath","isNormalizedWindowsDriveLetter","includesCredentials","username","password","cannotHaveAUsernamePasswordPort","cannotBeABaseURL","URLStateMachine","base","encodingOverride","stateOverride","parseError","port","query","fragment","state","atFlag","arrFlag","passwordTokenSeenFlag","ret","parseSchemeStart","parseScheme","parseNoScheme","parseSpecialRelativeOrAuthority","parsePathOrAuthority","parseRelative","parseRelativeSlash","parseSpecialAuthoritySlashes","parseSpecialAuthorityIgnoreSlashes","parseAuthority","encodedCodePoints","parseHostName","parsePort","fileOtherwiseCodePoints","parseFile","parseFileSlash","parseFileHost","parsePathStart","parsePath","shift","parseCannotBeABaseURLPath","parseQuery","serializeURL","excludeFragment","serializeOrigin","tuple","serializeURLOrigin","parseURL","usm","baseURL","integer","basicURLParse","URLImpl","constructorArgs","parsedBase","parsedURL","_url","v","origin","setTheUsername","setThePassword","serializeInteger","hostname","pathname","hash","toJSON","utils","args","setup","is","set","Impl","implementation","create","privateData","interface","expose","Window","Worker","require$$0","require$$1","Readable","Stream","BUFFER","Blob","blobParts","buffers","element","ArrayBuffer","isView","from","byteOffset","byteLength","size","Promise","resolve","arrayBuffer","ab","stream","readable","_read","relativeStart","relativeEnd","max","min","span","slicedBuffer","blob","toStringTag","FetchError","message","systemError","code","errno","captureStackTrace","convert","require","INTERNALS","PassThrough","Body","body","_this","_ref","_ref$size","_ref$timeout","timeout","isURLSearchParams","isBlob","isBuffer","disturbed","on","bodyUsed","consumeBody","ct","headers","json","_this2","reject","textConverted","_this3","convertBody","mixIn","proto","desc","_this4","alloc","accum","accumBytes","abort","resTimeout","setTimeout","chunk","clearTimeout","charset","getAll","sort","clone","instance","p1","p2","getBoundary","pipe","extractContentType","getTotalBytes","getLengthSync","_lengthRetrievers","hasKnownLength","writeToStream","dest","write","global","invalidTokenRegex","invalidHeaderCharRegex","validateName","validateValue","MAP","Headers","init","rawHeaders","raw","headerNames","headerName","method","iterator","pairs","pair","callback","thisArg","getHeaders","_pairs$i","createHeadersIterator","values","kind","k","INTERNAL","HeadersIteratorPrototype","setPrototypeOf","next","getPrototypeOf","_INTERNAL","done","exportNodeCompatibleHeaders","__proto__","hostHeaderKey","createHeadersLenient","INTERNALS$1","STATUS_CODES","Response","contentType","statusText","ok","redirected","INTERNALS$2","Url","whatwgUrl","parse_url","format_url","urlStr","streamDestructionSupported","isRequest","isAbortSignal","signal","Request","inputBody","redirect","follow","agent","getNodeRequestOptions","request","contentLengthValue","totalBytes","AbortError","URL$1","PassThrough$1","isDomainOrSubdomain","destination","original","orig","isSameProtocol","send","destroyStream","emit","aborted","abortAndFinalize","finalize","req","reqTimeout","addEventListener","removeEventListener","once","socket","fixResponseChunkedTransferBadEnding","addListener","hadError","hasDataListener","listenerCount","isRedirect","statusCode","location","locationURL","requestOpts","response_options","statusMessage","codings","zlibOptions","flush","zlib","Z_SYNC_FLUSH","finishFlush","createGunzip","createInflate","createInflateRaw","createBrotliDecompress","errorCallback","destroy","serializeHeaders","deserializeHeaders","old","serializeRequest","credentials","cache","referrer","referrerPolicy","integrity","keepalive","deserializeRequest","resource","serializeResponse","deserializeResponse","bodyError","createStream","errors","serializeError","deserializeError","parseBodyType","parseBody","Transform","read","execFileSync","shared","_fetch","sendMessage","execPath","__dirname","windowsHide","maxBuffer","Infinity","shell","_body","_bodyError","SyncRequest","defineBuffer","checkBody","SyncResponse","defineBodyError","_super","self","catch","wrapFetchForNode","u","context","fetchFn","default","fetchPolyfill","corsEnabled","userAgent","normaliseHeaders","syncFetch","header","parseOpts","reqOpts","accept","checkContentType","isJson","sameType","checkResponse","fetchFile","fetchFileAsync","fetchId","Register","remove","Grammar","rules","defaultState","mainRule","lexer","consumeRule","matchEndOfFile","matchToken","consumeToken","optional","got","SyntaxError","formatError","rule","createConditionEval","condition","conditionEval","parsePropStatement","toSource","inputProp","outputProp","toTarget","when","createConverter","Translator","CONVERT_TO_SOURCE","converter","outputData","converted","cause","convertToSource","convertToTarget","CONVERT_TO_TARGET","prepareParseGraph","reduce","array","last","count","ChainParser","iteration","iterate","typeInfo","getTypeInfo","outputs","chain","parseData","chainLink","chainAsync","parseDataAsync","chainLinkAsync","asyncParsers","nativeParsers","flat","nativeAsyncParsers","all","dataAsync","hasDataParser","addDataParser","removeDataParser","listDataParser","formatParser","asyncData","util","parseInput","getIds","addAsync","parseInputAsync","setAsync","reset","getLabel","getComparisonValue","getName","num","compareProp","entryA","entryB","flip","getSortCallback","promise","formatter","register","formatData","parsedOptions","styleType","styleFormat","newStyle","newType","formatOptions","template","_newOptions","createElement","tmp","innerHTML","firstChild","staticMethods","dict","entryName","bibliographyContainer","listItem","htmlDict","wr_start","wr_end","en_start","en_end","ul_start","ul_end","li_start","li_end","textDict","configs","registers","indices","mainIndex","typeIndex","typePlugins","typePlugin","substituters","parseJSON","subst","textContent","empty","jquery","jQuery","HTMLElement","appendCommas","getJsonObject","src","getJsonValue","getJson","warn","ndjson","nameProps","person","firstname","lastname","firstName","lastName","identifiers","journalIdentifiers","idProps","upperCaseProp","identifier","typeMap","booklet","proceedings","mastersthesis","inbook","incollection","conference","inproceedings","manual","misc","online","phdthesis","techreport","unpublished","quickscrapeSpecificProps","generalProps","reviewer","keywords","dates","parseDate","published","journal","firstpage","pages","lastpage","link","cid","parseContentMine","parseBibJson","scraperLinks","links","authors","records","metadata","factory","moo","this","hasSticky","sticky","isRegExp","o","isObject","reEscape","reGroups","re","reCapture","reUnion","regexps","regexpOrLiteral","ignoreCase","multiline","pad","lastNLines","numLines","position","lineBreaks","lastIndexOf","startPosition","objectToRules","j","include","ruleOptions","arrayToRules","defaultType","fallback","shouldThrow","toRules","spec","defaultErrorRule","compileRules","hasStates","errorRule","fast","fastAllowed","unicodeFlag","word","unicode","pat","regexp","groupCount","fallbackRule","flags","combined","compile","Lexer","checkStateGroup","g","compileStates","states","$all","ruleMap","included","newRules","newRule","fastKeys","keywordTransform","isMap","Map","reverseMap","tokenType","keywordList","startState","stack","col","queuedToken","queuedText","queuedThrow","setState","popState","pushState","eat","_getGroup","tokenToString","queuedGroup","_token","group","lastIndex","offset","matchNL","nl","LexerIterator","numLinesAround","firstDisplayedLine","lastDisplayedLine","lastLineDigits","displayedLines","errorLines","lineNo","freeze","required","_required","_fieldTypes","diacritics","commands","defaultStrings","jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec","acmcs","acta","cacm","ibmjrd","ibmsj","ieeese","ieeetc","ieeetcad","ipl","jacm","jcss","scp","sicomp","tocs","tods","tog","toms","toois","toplas","tcs","formattingEnvs","it","itshape","sl","slshape","em","bf","bfseries","sc","scshape","rm","sf","tt","formattingCommands","textit","textsl","emph","mkbibitalic","mkbibemph","textbf","strong","mkbibbold","textsc","textsuperscript","textsubscript","enquote","mkbibquote","textmd","textrm","textsf","texttt","textup","formatting","italics","bold","superscript","subscript","smallcaps","nocase","quotes","argumentCommands","ElsevierGlyph","glyph","fromCharCode","ligaturePattern","ligatures","mathScriptFormatting","sp","sb","mathrm","mathScripts","h","m","p","t","sentenceCaseLanguages","whitespace","comment","main","junk","otherEntryType","dataEntryType","otherEntryContents","lbrace","dataEntryContents","comma","fields","equals","quote","rbrace","quotedLiteral","bracedLiteral","delimiters","bibtexGrammar","Main","oldToken","Entry","openBrace","strings","closeBrace","EntryBody","Field","Expression","ExpressionPart","QuoteString","BracketString","Text","bibTxtRegex","splitEntries","parseEntry","splitPairs","splitPair","parseBibTxtEntry","out","parseBibTxt","constants","biblatex","bibtex","sentenceCase","useIdAsLabel","stopWords","unsafeChars","firstWord","months","LABEL","MONTHS","january","february","march","april","june","july","august","september","october","november","december","TYPE_KEYS","bathesis","mathesis","candthesis","resreport","datacd","audiocd","patentde","patenteu","patentfr","patentuk","patentus","patreq","patreqde","patreqeu","patreqfr","patrequk","patrequs","STANDARD_NUMBERS_PATTERN","month","day","parseMonth","formatLabel","Converters","PICK","datePart","padStart","YEAR_MONTH","EPRINT","EVENT_TITLE","addon","HOW_PUBLISHED","howPublished","KEYWORDS","safeId","NAMES","PAGES","STANDARD_NUMBERS","STATUS","TITLE","subtitle","nonSpec","addendum","formatDate","pagetotal","eprinttype","archiveprefix","S2ID","aliases","annotation","maintitle","booktitle","journaltitle","institution","organization","subtype","typeKey","sourceType","bookpagination","school","subType","targetType","BOOK","BOOK_PART","COLLECTION","COLLECTION_PART","PROCEEDINGS","PROCEEDINGS_PART","PERIODICAL_PART","TITLE_MAP","mvbook","mvcollection","mvreference","mvproceedings","reference","crossref","xref","entryset","entrysubtype","execute","presort","related","relatedoptions","relatedstring","relatedtype","shortand","shortandintro","sortkey","bookauthor","targets","titleaddon","shorttitle","sorttitle","indextitle","indexsorttitle","_objectWithoutProperties","excluded","_objectWithoutPropertiesLoose","sourceSymbolKeys","propertyIsEnumerable","sourceKeys","_parse","_format","_spec$convertToSource","parseBibtex","formatBibtex","getStringCase","formatNameParts","piece","hyphenated","orderNameParts","orderGiven","undecided","upperCase","unshift","orderNamePieces","pieces","commandKeywords","command","mathShift","stringLiteral","namesLiteral","and","hyphen","listLiteral","separatedLiteral","mathLiteral","script","flattenConsString","applyFormatting","valueGrammar","StringNames","Name","NamePiece","NameToken","StringList","StringSeparated","StringVerbatim","StringUri","uri","decodeURI","encodeURI","StringTitleCase","_this$state","partlyLowercase","topLevel","protectCase","MathString","char","formatName","ligature","afterPunctuation","_this$state2","first","otherCharacters","restLowerCase","Command","commandToken","diacritic","func","arity","Env","EnclosedEnv","beginEnv","endEnv","singleLanguageIsEnglish","isEnglish","languages","getMainRule","option","getLexerState","requirements","problems","missing","problem","parseEntryValues","parseValue","property","mapBiblatex","mapBibtex","parseEntries","parseBibtxt","UNSAFE_UNICODE","DIACRITIC_PATTERN","listDelimiters","separated","richTextMappings","sup","sub","escapeValue","subject","formatRichText","closingTags","tokens","formatTitle","formatSingleValue","valueType","formatList","listType","delimiter","formatted","formatEntryValues","formatValue","formatEntry","mapper","bibtxt","formatBibtxt","defaultLocales","defaultTemplates","proxied","for","getWrapperProxy","proxy","sys","wrapBibliographyEntry","postfix","system_id","CSL","Output","Formats","retrieveLocale","locale","unnormalised","engines","fetchEngine","styleXml","retrieveItem","engineHash","Engine","prepareEngine","items","store","setOutputFormat","getAttributedEntry","getPrefixedEntry","getAffix","affix","nosort","sortedIds","bibstart","bibend","asEntryArray","prepareCiteItem","prepareCitation","citation","prepareCitations","before","citationsPre","after","citationsPost","rebuildProcessorState","CiteCore","vancouver","harvard1","mla","chicago","rehypeCitation"],"mappings":"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;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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"}