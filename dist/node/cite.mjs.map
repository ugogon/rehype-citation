{"version":3,"file":"cite.mjs","sources":["../../src/citation-js/core/Cite/log.js","../../src/citation-js/core/Cite/validate.js","../../src/citation-js/core/Cite/options.js","../../src/citation-js/core/plugins/input/dataType.js","../../src/citation-js/core/plugins/input/graph.js","../../src/citation-js/core/logger.js","../../src/citation-js/core/plugins/input/type.js","../../src/citation-js/core/plugins/input/parser.js","../../src/citation-js/core/plugins/input/csl.js","../../src/citation-js/core/util/csl.js","../../src/citation-js/core/util/deepCopy.js","../../node_modules/webidl-conversions/lib/index.js","../../node_modules/whatwg-url/lib/utils.js","../../node_modules/tr46/index.js","../../node_modules/whatwg-url/lib/url-state-machine.js","../../node_modules/whatwg-url/lib/URL-impl.js","../../node_modules/whatwg-url/lib/URL.js","../../node_modules/whatwg-url/lib/public-api.js","../../node_modules/node-fetch/lib/index.mjs","../../node_modules/sync-fetch/shared.js","../../node_modules/sync-fetch/index.js","../../node_modules/fetch-ponyfill/fetch-node.js","../../src/citation-js/core/util/fetchFile.js","../../src/citation-js/core/util/fetchId.js","../../src/citation-js/core/util/register.js","../../src/citation-js/core/util/grammar.js","../../src/citation-js/core/util/translator.js","../../src/citation-js/core/plugins/input/chain.js","../../src/citation-js/core/plugins/input/data.js","../../src/citation-js/core/plugins/input/register.js","../../src/citation-js/core/plugins/input/index.js","../../src/citation-js/core/Cite/set.js","../../src/citation-js/core/plugin-common/output/label.js","../../src/citation-js/core/Cite/sort.js","../../src/citation-js/core/Cite/async.js","../../src/citation-js/core/Cite/static.js","../../src/citation-js/core/plugins/output.js","../../src/citation-js/core/Cite/get.js","../../src/citation-js/core/Cite/index.js","../../src/citation-js/core/plugins/dict.js","../../src/citation-js/core/plugins/config.js","../../src/citation-js/core/plugins/index.js","../../src/citation-js/core/plugin-common/input/empty.js","../../src/citation-js/core/plugin-common/input/json.js","../../src/citation-js/core/plugin-common/input/jquery.js","../../src/citation-js/core/plugin-common/input/html.js","../../src/citation-js/core/plugin-common/input/index.js","../../src/citation-js/core/plugin-common/output/json.js","../../src/citation-js/core/plugin-common/output/index.js","../../src/citation-js/core/plugin-common/index.js","../../src/citation-js/plugin-bibjson/json.js","../../src/citation-js/plugin-bibjson/index.js","../../node_modules/moo/moo.js","../../src/citation-js/plugin-bibtex/input/constants.js","../../src/citation-js/plugin-bibtex/input/file.js","../../src/citation-js/plugin-bibtex/input/bibtxt.js","../../src/citation-js/plugin-bibtex/config.js","../../src/citation-js/plugin-bibtex/mapping/shared.js","../../src/citation-js/plugin-bibtex/mapping/biblatex.js","../../src/citation-js/plugin-bibtex/mapping/bibtex.js","../../src/citation-js/plugin-bibtex/mapping/crossref.js","../../src/citation-js/plugin-bibtex/mapping/index.js","../../src/citation-js/plugin-bibtex/input/name.js","../../src/citation-js/plugin-bibtex/input/value.js","../../src/citation-js/plugin-bibtex/input/entries.js","../../src/citation-js/plugin-bibtex/input/index.js","../../src/citation-js/plugin-bibtex/output/value.js","../../src/citation-js/plugin-bibtex/output/entries.js","../../src/citation-js/plugin-bibtex/output/bibtex.js","../../src/citation-js/plugin-bibtex/output/bibtxt.js","../../src/citation-js/plugin-bibtex/output/index.js","../../src/citation-js/plugin-bibtex/index.js","../../src/citation-js/plugin-csl/locales.js","../../src/citation-js/plugin-csl/styles.js","../../src/citation-js/plugin-csl/engines.js","../../src/citation-js/plugin-csl/attr.js","../../src/citation-js/plugin-csl/bibliography.js","../../src/citation-js/plugin-csl/citation.js","../../src/citation-js/plugin-csl/index.js","../../src/cite.js"],"sourcesContent":["//@ts-nocheck\nimport Cite from './index.js';\nfunction currentVersion() {\n  return this.log.length;\n}\nfunction retrieveVersion(versnum = 1) {\n  if (versnum <= 0 || versnum > this.currentVersion()) {\n    return null;\n  } else {\n    const [data, options] = this.log[versnum - 1];\n    const image = new Cite(JSON.parse(data), JSON.parse(options));\n    image.log = this.log.slice(0, versnum);\n    return image;\n  }\n}\nfunction undo(number = 1) {\n  return this.retrieveVersion(this.currentVersion() - number);\n}\nfunction retrieveLastVersion() {\n  return this.retrieveVersion(this.currentVersion());\n}\nfunction save() {\n  this.log.push([JSON.stringify(this.data), JSON.stringify(this._options)]);\n  return this;\n}\nexport { currentVersion, retrieveVersion, retrieveLastVersion, undo, save };","//@ts-nocheck\nconst formats = ['real', 'string'];\nconst types = ['json', 'html', 'string', 'rtf'];\nconst styles = ['csl', 'bibtex', 'bibtxt', 'citation-*', 'ris', 'ndjson'];\nconst wrapperTypes = ['string', 'function'];\nexport function validateOutputOptions(options) {\n  if (typeof options !== 'object') {\n    throw new TypeError('Options not an object!');\n  }\n  const {\n    format,\n    type,\n    style,\n    lang,\n    append,\n    prepend\n  } = options;\n  if (format && !formats.includes(format)) {\n    throw new TypeError(`Option format (\"${format}\") should be one of: ${formats}`);\n  } else if (type && !types.includes(type)) {\n    throw new TypeError(`Option type (\"${type}\") should be one of: ${types}`);\n  } else if (style && !styles.includes(style) && !/^citation/.test(style)) {\n    throw new TypeError(`Option style (\"${style}\") should be one of: ${styles}`);\n  } else if (lang && typeof lang !== 'string') {\n    throw new TypeError(`Option lang should be a string, but is a ${typeof lang}`);\n  } else if (prepend && !wrapperTypes.includes(typeof prepend)) {\n    throw new TypeError(`Option prepend should be a string or a function, but is a ${typeof prepend}`);\n  } else if (append && !wrapperTypes.includes(typeof append)) {\n    throw new TypeError(`Option append should be a string or a function, but is a ${typeof append}`);\n  }\n  if (/^citation/.test(style) && type === 'json') {\n    throw new Error(`Combination type/style of json/citation-* is not valid: ${type}/${style}`);\n  }\n  return true;\n}\nexport function validateOptions(options) {\n  if (typeof options !== 'object') {\n    throw new TypeError('Options should be an object');\n  }\n  if (options.output) {\n    validateOutputOptions(options.output);\n  } else if (options.maxChainLength && typeof options.maxChainLength !== 'number') {\n    throw new TypeError('Option maxChainLength should be a number');\n  } else if (options.forceType && typeof options.forceType !== 'string') {\n    throw new TypeError('Option forceType should be a string');\n  } else if (options.generateGraph != null && typeof options.generateGraph !== 'boolean') {\n    throw new TypeError('Option generateGraph should be a boolean');\n  } else if (options.strict != null && typeof options.strict !== 'boolean') {\n    throw new TypeError('Option strict should be a boolean');\n  } else if (options.target != null && typeof options.target !== 'string') {\n    throw new TypeError('Option target should be a boolean');\n  }\n  return true;\n}","//@ts-nocheck\nimport { validateOutputOptions as validate } from './validate.js';\nconst defaultOptions = {\n  format: 'real',\n  type: 'json',\n  style: 'csl',\n  lang: 'en-US'\n};\nfunction options(options, log) {\n  validate(options);\n  if (log) {\n    this.save();\n  }\n  Object.assign(this._options, options);\n  return this;\n}\nexport { options, defaultOptions };","export function typeOf(thing) {\n  switch (thing) {\n    case undefined:\n      return 'Undefined';\n    case null:\n      return 'Null';\n    default:\n      return thing.constructor.name;\n  }\n}\nexport function dataTypeOf(thing) {\n  switch (typeof thing) {\n    case 'string':\n      return 'String';\n    case 'object':\n      if (Array.isArray(thing)) {\n        return 'Array';\n      } else if (typeOf(thing) === 'Object') {\n        return 'SimpleObject';\n      } else if (typeOf(thing) !== 'Null') {\n        return 'ComplexObject';\n      }\n    default:\n      return 'Primitive';\n  }\n}","export function applyGraph(entry, graph) {\n  if (entry._graph) {\n    const index = graph.findIndex(({\n      type\n    }) => type === '@else/list+object');\n    if (index !== -1) {\n      graph.splice(index + 1, 0, ...entry._graph.slice(0, -1));\n    }\n  }\n  entry._graph = graph;\n  return entry;\n}\nexport function removeGraph(entry) {\n  delete entry._graph;\n  return entry;\n}","const logger = {\n  _output(level, scope, msg) {\n    this._log.push(scope, msg);\n    if (this._levels.indexOf(level) < this._levels.indexOf(this.level)) {\n      return;\n    }\n    this._console.log(scope, ...msg);\n  },\n  _console: null,\n  _log: [],\n  _levels: ['http', 'debug', 'unmapped', 'info', 'warn', 'error', 'silent'],\n  level: 'silent'\n};\nfor (const level of logger._levels) {\n  logger[level] = (scope, ...msg) => logger._output(level, scope, msg);\n}\nif (typeof console.Console === 'function') {\n  logger._console = new console.Console(process.stderr);\n} else {\n  logger._console = console;\n}\nexport default logger;","import logger from '../../logger.js';\nimport { dataTypeOf } from './dataType.js';\nconst types = {};\nconst dataTypes = {};\nconst unregExts = {};\nfunction parseNativeTypes(input, dataType) {\n  switch (dataType) {\n    case 'Array':\n      if (input.length === 0 || input.every(entry => type(entry) === '@csl/object')) {\n        return '@csl/list+object';\n      } else {\n        return '@else/list+object';\n      }\n    case 'SimpleObject':\n    case 'ComplexObject':\n      return '@csl/object';\n    default:\n      return '@invalid';\n  }\n}\nfunction matchType(typeList = [], data) {\n  for (const type of typeList) {\n    if (types[type].predicate(data)) {\n      return matchType(types[type].extensions, data) || type;\n    }\n  }\n}\nexport function type(input) {\n  const dataType = dataTypeOf(input);\n  if (dataType === 'Array' && input.length === 0) {\n    return parseNativeTypes(input, dataType);\n  }\n  const match = matchType(dataTypes[dataType], input);\n  return match || parseNativeTypes(input, dataType);\n}\nexport function addTypeParser(format, {\n  dataType,\n  predicate,\n  extends: extend\n}) {\n  let extensions = [];\n  if (format in unregExts) {\n    extensions = unregExts[format];\n    delete unregExts[format];\n    logger.debug('[core]', `Subclasses \"${extensions}\" finally registered to parent type \"${format}\"`);\n  }\n  const object = {\n    predicate,\n    extensions\n  };\n  types[format] = object;\n  if (extend) {\n    const parentTypeParser = types[extend];\n    if (parentTypeParser) {\n      parentTypeParser.extensions.push(format);\n    } else {\n      if (!unregExts[extend]) {\n        unregExts[extend] = [];\n      }\n      unregExts[extend].push(format);\n      logger.debug('[core]', `Subclass \"${format}\" is waiting on parent type \"${extend}\"`);\n    }\n  } else {\n    const typeList = dataTypes[dataType] || (dataTypes[dataType] = []);\n    typeList.push(format);\n  }\n}\nexport function hasTypeParser(type) {\n  return Object.prototype.hasOwnProperty.call(types, type);\n}\nexport function removeTypeParser(type) {\n  delete types[type];\n  const typeLists = [...Object.keys(dataTypes).map(key => dataTypes[key]), ...Object.keys(types).map(type => types[type].extensions).filter(list => list.length > 0)];\n  typeLists.forEach(typeList => {\n    const index = typeList.indexOf(type);\n    if (index > -1) {\n      typeList.splice(index, 1);\n    }\n  });\n}\nexport function listTypeParser() {\n  return Object.keys(types);\n}\nexport function treeTypeParser() {\n  const attachNode = name => ({\n    name,\n    children: types[name].extensions.map(attachNode)\n  });\n  return {\n    name: 'Type tree',\n    children: Object.keys(dataTypes).map(name => ({\n      name,\n      children: dataTypes[name].map(attachNode)\n    }))\n  };\n}\nexport const typeMatcher = /^(?:@(.+?))(?:\\/(?:(.+?)\\+)?(?:(.+)))?$/;","//@ts-nocheck\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return typeof key === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (typeof input !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (typeof res !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nimport { type, typeMatcher } from './type.js';\nclass TypeParser {\n  constructor(data) {\n    _defineProperty(this, \"validDataTypes\", ['String', 'Array', 'SimpleObject', 'ComplexObject', 'Primitive']);\n    this.data = data;\n  }\n  validateDataType() {\n    const dataType = this.data.dataType;\n    if (dataType && !this.validDataTypes.includes(dataType)) {\n      throw new RangeError(`dataType was ${dataType}; expected one of ${this.validDataTypes}`);\n    }\n  }\n  validateParseType() {\n    const predicate = this.data.predicate;\n    if (predicate && !(predicate instanceof RegExp || typeof predicate === 'function')) {\n      throw new TypeError(`predicate was ${typeof predicate}; expected RegExp or function`);\n    }\n  }\n  validateTokenList() {\n    const tokenList = this.data.tokenList;\n    if (tokenList && typeof tokenList !== 'object') {\n      throw new TypeError(`tokenList was ${typeof tokenList}; expected object or RegExp`);\n    }\n  }\n  validatePropertyConstraint() {\n    const propertyConstraint = this.data.propertyConstraint;\n    if (propertyConstraint && typeof propertyConstraint !== 'object') {\n      throw new TypeError(`propertyConstraint was ${typeof propertyConstraint}; expected array or object`);\n    }\n  }\n  validateElementConstraint() {\n    const elementConstraint = this.data.elementConstraint;\n    if (elementConstraint && typeof elementConstraint !== 'string') {\n      throw new TypeError(`elementConstraint was ${typeof elementConstraint}; expected string`);\n    }\n  }\n  validateExtends() {\n    const extend = this.data.extends;\n    if (extend && typeof extend !== 'string') {\n      throw new TypeError(`extends was ${typeof extend}; expected string`);\n    }\n  }\n  validate() {\n    if (this.data === null || typeof this.data !== 'object') {\n      throw new TypeError(`typeParser was ${typeof this.data}; expected object`);\n    }\n    this.validateDataType();\n    this.validateParseType();\n    this.validateTokenList();\n    this.validatePropertyConstraint();\n    this.validateElementConstraint();\n    this.validateExtends();\n  }\n  parseTokenList() {\n    let tokenList = this.data.tokenList;\n    if (!tokenList) {\n      return [];\n    } else if (tokenList instanceof RegExp) {\n      tokenList = {\n        token: tokenList\n      };\n    }\n    const {\n      token,\n      split = /\\s+/,\n      trim = true,\n      every = true\n    } = tokenList;\n    const trimInput = input => trim ? input.trim() : input;\n    const testTokens = every ? 'every' : 'some';\n    const predicate = input => trimInput(input).split(split)[testTokens](part => token.test(part));\n    return [predicate];\n  }\n  parsePropertyConstraint() {\n    const constraints = [].concat(this.data.propertyConstraint || []);\n    return constraints.map(({\n      props,\n      match,\n      value\n    }) => {\n      props = [].concat(props);\n      switch (match) {\n        case 'any':\n        case 'some':\n          return input => props.some(prop => prop in input && (!value || value(input[prop])));\n        case 'none':\n          return input => !props.some(prop => prop in input && (!value || value(input[prop])));\n        case 'every':\n        default:\n          return input => props.every(prop => prop in input && (!value || value(input[prop])));\n      }\n    });\n  }\n  parseElementConstraint() {\n    const constraint = this.data.elementConstraint;\n    return !constraint ? [] : [input => input.every(entry => type(entry) === constraint)];\n  }\n  parsePredicate() {\n    if (this.data.predicate instanceof RegExp) {\n      return [this.data.predicate.test.bind(this.data.predicate)];\n    } else if (this.data.predicate) {\n      return [this.data.predicate];\n    } else {\n      return [];\n    }\n  }\n  getCombinedPredicate() {\n    const predicates = [...this.parsePredicate(), ...this.parseTokenList(), ...this.parsePropertyConstraint(), ...this.parseElementConstraint()];\n    if (predicates.length === 0) {\n      return () => true;\n    } else if (predicates.length === 1) {\n      return predicates[0];\n    } else {\n      return input => predicates.every(predicate => predicate(input));\n    }\n  }\n  getDataType() {\n    if (this.data.dataType) {\n      return this.data.dataType;\n    } else if (this.data.predicate instanceof RegExp) {\n      return 'String';\n    } else if (this.data.tokenList) {\n      return 'String';\n    } else if (this.data.elementConstraint) {\n      return 'Array';\n    } else {\n      return 'Primitive';\n    }\n  }\n  get dataType() {\n    return this.getDataType();\n  }\n  get predicate() {\n    return this.getCombinedPredicate();\n  }\n  get extends() {\n    return this.data.extends;\n  }\n}\nclass DataParser {\n  constructor(parser, {\n    async\n  } = {}) {\n    this.parser = parser;\n    this.async = async;\n  }\n  validate() {\n    const parser = this.parser;\n    if (typeof parser !== 'function') {\n      throw new TypeError(`parser was ${typeof parser}; expected function`);\n    }\n  }\n}\nclass FormatParser {\n  constructor(format, parsers = {}) {\n    this.format = format;\n    if (parsers.parseType) {\n      this.typeParser = new TypeParser(parsers.parseType);\n    }\n    if (parsers.parse) {\n      this.dataParser = new DataParser(parsers.parse, {\n        async: false\n      });\n    }\n    if (parsers.parseAsync) {\n      this.asyncDataParser = new DataParser(parsers.parseAsync, {\n        async: true\n      });\n    }\n  }\n  validateFormat() {\n    const format = this.format;\n    if (!typeMatcher.test(format)) {\n      throw new TypeError(`format name was \"${format}\"; didn't match expected pattern`);\n    }\n  }\n  validate() {\n    this.validateFormat();\n    if (this.typeParser) {\n      this.typeParser.validate();\n    }\n    if (this.dataParser) {\n      this.dataParser.validate();\n    }\n    if (this.asyncDataParser) {\n      this.asyncDataParser.validate();\n    }\n  }\n}\nexport { TypeParser, DataParser, FormatParser };","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return typeof key === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (typeof input !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (typeof res !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nimport { parse as parseName } from '@citation-js/name';\nconst NAME = 1;\nconst NAME_LIST = 2;\nconst DATE = 3;\nconst TYPE = 4;\nconst entryTypes = {\n  article: true,\n  'article-journal': true,\n  'article-magazine': true,\n  'article-newspaper': true,\n  bill: true,\n  book: true,\n  broadcast: true,\n  chapter: true,\n  classic: true,\n  collection: true,\n  dataset: true,\n  document: true,\n  entry: true,\n  'entry-dictionary': true,\n  'entry-encyclopedia': true,\n  event: true,\n  figure: true,\n  graphic: true,\n  hearing: true,\n  interview: true,\n  legal_case: true,\n  legislation: true,\n  manuscript: true,\n  map: true,\n  motion_picture: true,\n  musical_score: true,\n  pamphlet: true,\n  'paper-conference': true,\n  patent: true,\n  performance: true,\n  periodical: true,\n  personal_communication: true,\n  post: true,\n  'post-weblog': true,\n  regulation: true,\n  report: true,\n  review: true,\n  'review-book': true,\n  software: true,\n  song: true,\n  speech: true,\n  standard: true,\n  thesis: true,\n  treaty: true,\n  webpage: true,\n  'journal-article': 'article-journal',\n  'book-chapter': 'chapter',\n  'posted-content': 'manuscript',\n  'proceedings-article': 'paper-conference'\n};\nconst fieldTypes = {\n  author: NAME_LIST,\n  chair: NAME_LIST,\n  'collection-editor': NAME_LIST,\n  compiler: NAME_LIST,\n  composer: NAME_LIST,\n  'container-author': NAME_LIST,\n  contributor: NAME_LIST,\n  curator: NAME_LIST,\n  director: NAME_LIST,\n  editor: NAME_LIST,\n  'editorial-director': NAME_LIST,\n  'executive-producer': NAME_LIST,\n  guest: NAME_LIST,\n  host: NAME_LIST,\n  interviewer: NAME_LIST,\n  illustrator: NAME_LIST,\n  narrator: NAME_LIST,\n  organizer: NAME_LIST,\n  'original-author': NAME_LIST,\n  performer: NAME_LIST,\n  producer: NAME_LIST,\n  'reviewed-author': NAME_LIST,\n  recipient: NAME_LIST,\n  'script-writer': NAME_LIST,\n  'series-creator': NAME_LIST,\n  translator: NAME_LIST,\n  accessed: DATE,\n  'available-date': DATE,\n  container: DATE,\n  'event-date': DATE,\n  issued: DATE,\n  'original-date': DATE,\n  submitted: DATE,\n  type: TYPE,\n  categories: 'object',\n  custom: 'object',\n  id: ['string', 'number'],\n  language: 'string',\n  journalAbbreviation: 'string',\n  shortTitle: 'string',\n  abstract: 'string',\n  annote: 'string',\n  archive: 'string',\n  archive_collection: 'string',\n  archive_location: 'string',\n  'archive-place': 'string',\n  authority: 'string',\n  'call-number': 'string',\n  'chapter-number': 'string',\n  'citation-number': 'string',\n  'citation-key': 'string',\n  'citation-label': 'string',\n  'collection-number': 'string',\n  'collection-title': 'string',\n  'container-title': 'string',\n  'container-title-short': 'string',\n  dimensions: 'string',\n  division: 'string',\n  DOI: 'string',\n  edition: ['string', 'number'],\n  event: 'string',\n  'event-title': 'string',\n  'event-place': 'string',\n  'first-reference-note-number': 'string',\n  genre: 'string',\n  ISBN: 'string',\n  ISSN: 'string',\n  issue: ['string', 'number'],\n  jurisdiction: 'string',\n  keyword: 'string',\n  locator: 'string',\n  medium: 'string',\n  note: 'string',\n  number: ['string', 'number'],\n  'number-of-pages': 'string',\n  'number-of-volumes': ['string', 'number'],\n  'original-publisher': 'string',\n  'original-publisher-place': 'string',\n  'original-title': 'string',\n  page: 'string',\n  'page-first': 'string',\n  'part-number': ['string', 'number'],\n  'part-title': 'string',\n  PMCID: 'string',\n  PMID: 'string',\n  printing: 'string',\n  publisher: 'string',\n  'publisher-place': 'string',\n  references: 'string',\n  'reviewed-title': 'string',\n  'reviewed-genre': 'string',\n  scale: 'string',\n  section: 'string',\n  source: 'string',\n  status: 'string',\n  supplement: ['string', 'number'],\n  title: 'string',\n  'title-short': 'string',\n  URL: 'string',\n  version: 'string',\n  volume: ['string', 'number'],\n  'volume-title': 'string',\n  'volume-title-short': 'string',\n  'year-suffix': 'string'\n};\nfunction correctName(name, bestGuessConversions) {\n  if (typeof name === 'object' && name !== null && (name.literal || name.given || name.family)) {\n    return name;\n  } else if (!bestGuessConversions) {\n    return undefined;\n  } else if (typeof name === 'string') {\n    return parseName(name);\n  }\n}\nfunction correctNameList(nameList, bestGuessConversions) {\n  if (nameList instanceof Array) {\n    const names = nameList.map(name => correctName(name, bestGuessConversions)).filter(Boolean);\n    return names.length ? names : undefined;\n  }\n}\nfunction correctDateParts(dateParts, bestGuessConversions) {\n  if (dateParts.every(part => typeof part === 'number')) {\n    return dateParts;\n  } else if (!bestGuessConversions || dateParts.some(part => isNaN(parseInt(part)))) {\n    return undefined;\n  } else {\n    return dateParts.map(part => parseInt(part));\n  }\n}\nfunction correctDate(date, bestGuessConversions) {\n  const dp = 'date-parts';\n  if (typeof date !== 'object' || date === null) {\n    return undefined;\n  } else if (date[dp] instanceof Array && date[dp].every(part => part instanceof Array)) {\n    const range = date[dp].map(dateParts => correctDateParts(dateParts, bestGuessConversions)).filter(Boolean);\n    return range.length ? _objectSpread(_objectSpread({}, date), {}, {\n      'date-parts': range\n    }) : undefined;\n  } else if (date instanceof Array && date.every(part => part[dp] instanceof Array)) {\n    const range = date.map(dateParts => correctDateParts(dateParts[dp], bestGuessConversions)).filter(Boolean);\n    return range.length ? {\n      'date-parts': range\n    } : undefined;\n  } else if (date[dp] instanceof Array) {\n    const dateParts = correctDateParts(date[dp], bestGuessConversions);\n    return dateParts && {\n      'date-parts': [dateParts]\n    };\n  } else if ('literal' in date || 'raw' in date) {\n    return date;\n  }\n}\nfunction correctType(type, bestGuessConversions) {\n  type = correctField('language', type, bestGuessConversions);\n  if (entryTypes[type] === true) {\n    return type;\n  } else if (bestGuessConversions && type in entryTypes) {\n    return entryTypes[type];\n  } else {\n    return undefined;\n  }\n}\nfunction correctField(fieldName, value, bestGuessConversions) {\n  const fieldType = [].concat(fieldTypes[fieldName]);\n  switch (fieldTypes[fieldName]) {\n    case NAME:\n      return correctName(value, bestGuessConversions);\n    case NAME_LIST:\n      return correctNameList(value, bestGuessConversions);\n    case DATE:\n      return correctDate(value, bestGuessConversions);\n    case TYPE:\n      return correctType(value, bestGuessConversions);\n  }\n  if (bestGuessConversions) {\n    if (typeof value === 'string' && fieldType.includes('number') && !fieldType.includes('string') && !isNaN(+value)) {\n      return parseFloat(value);\n    } else if (typeof value === 'number' && fieldType.includes('string') && !fieldType.includes('number')) {\n      return value.toString();\n    } else if (Array.isArray(value) && value.length) {\n      return correctField(fieldName, value[0], bestGuessConversions);\n    }\n  }\n  if (fieldType.includes(typeof value)) {\n    return value;\n  }\n}\nfunction parseCsl(data, bestGuessConversions = true) {\n  return data.map(function (entry) {\n    const clean = {};\n    for (const field in entry) {\n      const correction = correctField(field, entry[field], bestGuessConversions);\n      if (correction !== undefined) {\n        clean[field] = correction;\n      }\n    }\n    return clean;\n  });\n}\nexport { parseCsl as clean };","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return typeof key === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (typeof input !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (typeof res !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nexport function upgradeCsl(item) {\n  if (Array.isArray(item)) {\n    return item.map(upgradeCsl);\n  }\n  item = _objectSpread({}, item);\n  if ('event' in item) {\n    item['event-title'] = item.event;\n    delete item.event;\n  }\n  if (item.type === 'book' && 'version' in item) {\n    item.type = 'software';\n  }\n  return item;\n}\nexport function downgradeCsl(item) {\n  if (Array.isArray(item)) {\n    return item.map(downgradeCsl);\n  }\n  item = _objectSpread({}, item);\n  if ('event-title' in item) {\n    item.event = item['event-title'];\n    delete item['event-title'];\n  }\n  if (item.type === 'software') {\n    item.type = 'book';\n  }\n  return item;\n}","export function deepCopy(value, seen = new Set()) {\n  if (typeof value !== 'object' || value === null || value.constructor !== Object && value.constructor !== Array) {\n    return value;\n  }\n  if (seen.has(value)) {\n    throw new TypeError('Recursively copying circular structure');\n  }\n  seen.add(value);\n  let copy;\n  if (value.constructor === Array) {\n    copy = value.map(value => deepCopy(value, seen));\n  } else {\n    const object = {};\n    for (const key in value) {\n      object[key] = deepCopy(value[key], seen);\n    }\n    copy = object;\n  }\n  seen.delete(value);\n  return copy;\n}\nexport default deepCopy;","\"use strict\";\n\nvar conversions = {};\nmodule.exports = conversions;\n\nfunction sign(x) {\n    return x < 0 ? -1 : 1;\n}\n\nfunction evenRound(x) {\n    // Round x to the nearest integer, choosing the even integer if it lies halfway between two.\n    if ((x % 1) === 0.5 && (x & 1) === 0) { // [even number].5; round down (i.e. floor)\n        return Math.floor(x);\n    } else {\n        return Math.round(x);\n    }\n}\n\nfunction createNumberConversion(bitLength, typeOpts) {\n    if (!typeOpts.unsigned) {\n        --bitLength;\n    }\n    const lowerBound = typeOpts.unsigned ? 0 : -Math.pow(2, bitLength);\n    const upperBound = Math.pow(2, bitLength) - 1;\n\n    const moduloVal = typeOpts.moduloBitLength ? Math.pow(2, typeOpts.moduloBitLength) : Math.pow(2, bitLength);\n    const moduloBound = typeOpts.moduloBitLength ? Math.pow(2, typeOpts.moduloBitLength - 1) : Math.pow(2, bitLength - 1);\n\n    return function(V, opts) {\n        if (!opts) opts = {};\n\n        let x = +V;\n\n        if (opts.enforceRange) {\n            if (!Number.isFinite(x)) {\n                throw new TypeError(\"Argument is not a finite number\");\n            }\n\n            x = sign(x) * Math.floor(Math.abs(x));\n            if (x < lowerBound || x > upperBound) {\n                throw new TypeError(\"Argument is not in byte range\");\n            }\n\n            return x;\n        }\n\n        if (!isNaN(x) && opts.clamp) {\n            x = evenRound(x);\n\n            if (x < lowerBound) x = lowerBound;\n            if (x > upperBound) x = upperBound;\n            return x;\n        }\n\n        if (!Number.isFinite(x) || x === 0) {\n            return 0;\n        }\n\n        x = sign(x) * Math.floor(Math.abs(x));\n        x = x % moduloVal;\n\n        if (!typeOpts.unsigned && x >= moduloBound) {\n            return x - moduloVal;\n        } else if (typeOpts.unsigned) {\n            if (x < 0) {\n              x += moduloVal;\n            } else if (x === -0) { // don't return negative zero\n              return 0;\n            }\n        }\n\n        return x;\n    }\n}\n\nconversions[\"void\"] = function () {\n    return undefined;\n};\n\nconversions[\"boolean\"] = function (val) {\n    return !!val;\n};\n\nconversions[\"byte\"] = createNumberConversion(8, { unsigned: false });\nconversions[\"octet\"] = createNumberConversion(8, { unsigned: true });\n\nconversions[\"short\"] = createNumberConversion(16, { unsigned: false });\nconversions[\"unsigned short\"] = createNumberConversion(16, { unsigned: true });\n\nconversions[\"long\"] = createNumberConversion(32, { unsigned: false });\nconversions[\"unsigned long\"] = createNumberConversion(32, { unsigned: true });\n\nconversions[\"long long\"] = createNumberConversion(32, { unsigned: false, moduloBitLength: 64 });\nconversions[\"unsigned long long\"] = createNumberConversion(32, { unsigned: true, moduloBitLength: 64 });\n\nconversions[\"double\"] = function (V) {\n    const x = +V;\n\n    if (!Number.isFinite(x)) {\n        throw new TypeError(\"Argument is not a finite floating-point value\");\n    }\n\n    return x;\n};\n\nconversions[\"unrestricted double\"] = function (V) {\n    const x = +V;\n\n    if (isNaN(x)) {\n        throw new TypeError(\"Argument is NaN\");\n    }\n\n    return x;\n};\n\n// not quite valid, but good enough for JS\nconversions[\"float\"] = conversions[\"double\"];\nconversions[\"unrestricted float\"] = conversions[\"unrestricted double\"];\n\nconversions[\"DOMString\"] = function (V, opts) {\n    if (!opts) opts = {};\n\n    if (opts.treatNullAsEmptyString && V === null) {\n        return \"\";\n    }\n\n    return String(V);\n};\n\nconversions[\"ByteString\"] = function (V, opts) {\n    const x = String(V);\n    let c = undefined;\n    for (let i = 0; (c = x.codePointAt(i)) !== undefined; ++i) {\n        if (c > 255) {\n            throw new TypeError(\"Argument is not a valid bytestring\");\n        }\n    }\n\n    return x;\n};\n\nconversions[\"USVString\"] = function (V) {\n    const S = String(V);\n    const n = S.length;\n    const U = [];\n    for (let i = 0; i < n; ++i) {\n        const c = S.charCodeAt(i);\n        if (c < 0xD800 || c > 0xDFFF) {\n            U.push(String.fromCodePoint(c));\n        } else if (0xDC00 <= c && c <= 0xDFFF) {\n            U.push(String.fromCodePoint(0xFFFD));\n        } else {\n            if (i === n - 1) {\n                U.push(String.fromCodePoint(0xFFFD));\n            } else {\n                const d = S.charCodeAt(i + 1);\n                if (0xDC00 <= d && d <= 0xDFFF) {\n                    const a = c & 0x3FF;\n                    const b = d & 0x3FF;\n                    U.push(String.fromCodePoint((2 << 15) + (2 << 9) * a + b));\n                    ++i;\n                } else {\n                    U.push(String.fromCodePoint(0xFFFD));\n                }\n            }\n        }\n    }\n\n    return U.join('');\n};\n\nconversions[\"Date\"] = function (V, opts) {\n    if (!(V instanceof Date)) {\n        throw new TypeError(\"Argument is not a Date object\");\n    }\n    if (isNaN(V)) {\n        return undefined;\n    }\n\n    return V;\n};\n\nconversions[\"RegExp\"] = function (V, opts) {\n    if (!(V instanceof RegExp)) {\n        V = new RegExp(V);\n    }\n\n    return V;\n};\n","\"use strict\";\n\nmodule.exports.mixin = function mixin(target, source) {\n  const keys = Object.getOwnPropertyNames(source);\n  for (let i = 0; i < keys.length; ++i) {\n    Object.defineProperty(target, keys[i], Object.getOwnPropertyDescriptor(source, keys[i]));\n  }\n};\n\nmodule.exports.wrapperSymbol = Symbol(\"wrapper\");\nmodule.exports.implSymbol = Symbol(\"impl\");\n\nmodule.exports.wrapperForImpl = function (impl) {\n  return impl[module.exports.wrapperSymbol];\n};\n\nmodule.exports.implForWrapper = function (wrapper) {\n  return wrapper[module.exports.implSymbol];\n};\n\n","\"use strict\";\n\nvar punycode = require(\"punycode\");\nvar mappingTable = require(\"./lib/mappingTable.json\");\n\nvar PROCESSING_OPTIONS = {\n  TRANSITIONAL: 0,\n  NONTRANSITIONAL: 1\n};\n\nfunction normalize(str) { // fix bug in v8\n  return str.split('\\u0000').map(function (s) { return s.normalize('NFC'); }).join('\\u0000');\n}\n\nfunction findStatus(val) {\n  var start = 0;\n  var end = mappingTable.length - 1;\n\n  while (start <= end) {\n    var mid = Math.floor((start + end) / 2);\n\n    var target = mappingTable[mid];\n    if (target[0][0] <= val && target[0][1] >= val) {\n      return target;\n    } else if (target[0][0] > val) {\n      end = mid - 1;\n    } else {\n      start = mid + 1;\n    }\n  }\n\n  return null;\n}\n\nvar regexAstralSymbols = /[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/g;\n\nfunction countSymbols(string) {\n  return string\n    // replace every surrogate pair with a BMP symbol\n    .replace(regexAstralSymbols, '_')\n    // then get the length\n    .length;\n}\n\nfunction mapChars(domain_name, useSTD3, processing_option) {\n  var hasError = false;\n  var processed = \"\";\n\n  var len = countSymbols(domain_name);\n  for (var i = 0; i < len; ++i) {\n    var codePoint = domain_name.codePointAt(i);\n    var status = findStatus(codePoint);\n\n    switch (status[1]) {\n      case \"disallowed\":\n        hasError = true;\n        processed += String.fromCodePoint(codePoint);\n        break;\n      case \"ignored\":\n        break;\n      case \"mapped\":\n        processed += String.fromCodePoint.apply(String, status[2]);\n        break;\n      case \"deviation\":\n        if (processing_option === PROCESSING_OPTIONS.TRANSITIONAL) {\n          processed += String.fromCodePoint.apply(String, status[2]);\n        } else {\n          processed += String.fromCodePoint(codePoint);\n        }\n        break;\n      case \"valid\":\n        processed += String.fromCodePoint(codePoint);\n        break;\n      case \"disallowed_STD3_mapped\":\n        if (useSTD3) {\n          hasError = true;\n          processed += String.fromCodePoint(codePoint);\n        } else {\n          processed += String.fromCodePoint.apply(String, status[2]);\n        }\n        break;\n      case \"disallowed_STD3_valid\":\n        if (useSTD3) {\n          hasError = true;\n        }\n\n        processed += String.fromCodePoint(codePoint);\n        break;\n    }\n  }\n\n  return {\n    string: processed,\n    error: hasError\n  };\n}\n\nvar combiningMarksRegex = /[\\u0300-\\u036F\\u0483-\\u0489\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u0610-\\u061A\\u064B-\\u065F\\u0670\\u06D6-\\u06DC\\u06DF-\\u06E4\\u06E7\\u06E8\\u06EA-\\u06ED\\u0711\\u0730-\\u074A\\u07A6-\\u07B0\\u07EB-\\u07F3\\u0816-\\u0819\\u081B-\\u0823\\u0825-\\u0827\\u0829-\\u082D\\u0859-\\u085B\\u08E4-\\u0903\\u093A-\\u093C\\u093E-\\u094F\\u0951-\\u0957\\u0962\\u0963\\u0981-\\u0983\\u09BC\\u09BE-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CD\\u09D7\\u09E2\\u09E3\\u0A01-\\u0A03\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A70\\u0A71\\u0A75\\u0A81-\\u0A83\\u0ABC\\u0ABE-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AE2\\u0AE3\\u0B01-\\u0B03\\u0B3C\\u0B3E-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B62\\u0B63\\u0B82\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD7\\u0C00-\\u0C03\\u0C3E-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C62\\u0C63\\u0C81-\\u0C83\\u0CBC\\u0CBE-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CE2\\u0CE3\\u0D01-\\u0D03\\u0D3E-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4D\\u0D57\\u0D62\\u0D63\\u0D82\\u0D83\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DF2\\u0DF3\\u0E31\\u0E34-\\u0E3A\\u0E47-\\u0E4E\\u0EB1\\u0EB4-\\u0EB9\\u0EBB\\u0EBC\\u0EC8-\\u0ECD\\u0F18\\u0F19\\u0F35\\u0F37\\u0F39\\u0F3E\\u0F3F\\u0F71-\\u0F84\\u0F86\\u0F87\\u0F8D-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u102B-\\u103E\\u1056-\\u1059\\u105E-\\u1060\\u1062-\\u1064\\u1067-\\u106D\\u1071-\\u1074\\u1082-\\u108D\\u108F\\u109A-\\u109D\\u135D-\\u135F\\u1712-\\u1714\\u1732-\\u1734\\u1752\\u1753\\u1772\\u1773\\u17B4-\\u17D3\\u17DD\\u180B-\\u180D\\u18A9\\u1920-\\u192B\\u1930-\\u193B\\u19B0-\\u19C0\\u19C8\\u19C9\\u1A17-\\u1A1B\\u1A55-\\u1A5E\\u1A60-\\u1A7C\\u1A7F\\u1AB0-\\u1ABE\\u1B00-\\u1B04\\u1B34-\\u1B44\\u1B6B-\\u1B73\\u1B80-\\u1B82\\u1BA1-\\u1BAD\\u1BE6-\\u1BF3\\u1C24-\\u1C37\\u1CD0-\\u1CD2\\u1CD4-\\u1CE8\\u1CED\\u1CF2-\\u1CF4\\u1CF8\\u1CF9\\u1DC0-\\u1DF5\\u1DFC-\\u1DFF\\u20D0-\\u20F0\\u2CEF-\\u2CF1\\u2D7F\\u2DE0-\\u2DFF\\u302A-\\u302F\\u3099\\u309A\\uA66F-\\uA672\\uA674-\\uA67D\\uA69F\\uA6F0\\uA6F1\\uA802\\uA806\\uA80B\\uA823-\\uA827\\uA880\\uA881\\uA8B4-\\uA8C4\\uA8E0-\\uA8F1\\uA926-\\uA92D\\uA947-\\uA953\\uA980-\\uA983\\uA9B3-\\uA9C0\\uA9E5\\uAA29-\\uAA36\\uAA43\\uAA4C\\uAA4D\\uAA7B-\\uAA7D\\uAAB0\\uAAB2-\\uAAB4\\uAAB7\\uAAB8\\uAABE\\uAABF\\uAAC1\\uAAEB-\\uAAEF\\uAAF5\\uAAF6\\uABE3-\\uABEA\\uABEC\\uABED\\uFB1E\\uFE00-\\uFE0F\\uFE20-\\uFE2D]|\\uD800[\\uDDFD\\uDEE0\\uDF76-\\uDF7A]|\\uD802[\\uDE01-\\uDE03\\uDE05\\uDE06\\uDE0C-\\uDE0F\\uDE38-\\uDE3A\\uDE3F\\uDEE5\\uDEE6]|\\uD804[\\uDC00-\\uDC02\\uDC38-\\uDC46\\uDC7F-\\uDC82\\uDCB0-\\uDCBA\\uDD00-\\uDD02\\uDD27-\\uDD34\\uDD73\\uDD80-\\uDD82\\uDDB3-\\uDDC0\\uDE2C-\\uDE37\\uDEDF-\\uDEEA\\uDF01-\\uDF03\\uDF3C\\uDF3E-\\uDF44\\uDF47\\uDF48\\uDF4B-\\uDF4D\\uDF57\\uDF62\\uDF63\\uDF66-\\uDF6C\\uDF70-\\uDF74]|\\uD805[\\uDCB0-\\uDCC3\\uDDAF-\\uDDB5\\uDDB8-\\uDDC0\\uDE30-\\uDE40\\uDEAB-\\uDEB7]|\\uD81A[\\uDEF0-\\uDEF4\\uDF30-\\uDF36]|\\uD81B[\\uDF51-\\uDF7E\\uDF8F-\\uDF92]|\\uD82F[\\uDC9D\\uDC9E]|\\uD834[\\uDD65-\\uDD69\\uDD6D-\\uDD72\\uDD7B-\\uDD82\\uDD85-\\uDD8B\\uDDAA-\\uDDAD\\uDE42-\\uDE44]|\\uD83A[\\uDCD0-\\uDCD6]|\\uDB40[\\uDD00-\\uDDEF]/;\n\nfunction validateLabel(label, processing_option) {\n  if (label.substr(0, 4) === \"xn--\") {\n    label = punycode.toUnicode(label);\n    processing_option = PROCESSING_OPTIONS.NONTRANSITIONAL;\n  }\n\n  var error = false;\n\n  if (normalize(label) !== label ||\n      (label[3] === \"-\" && label[4] === \"-\") ||\n      label[0] === \"-\" || label[label.length - 1] === \"-\" ||\n      label.indexOf(\".\") !== -1 ||\n      label.search(combiningMarksRegex) === 0) {\n    error = true;\n  }\n\n  var len = countSymbols(label);\n  for (var i = 0; i < len; ++i) {\n    var status = findStatus(label.codePointAt(i));\n    if ((processing === PROCESSING_OPTIONS.TRANSITIONAL && status[1] !== \"valid\") ||\n        (processing === PROCESSING_OPTIONS.NONTRANSITIONAL &&\n         status[1] !== \"valid\" && status[1] !== \"deviation\")) {\n      error = true;\n      break;\n    }\n  }\n\n  return {\n    label: label,\n    error: error\n  };\n}\n\nfunction processing(domain_name, useSTD3, processing_option) {\n  var result = mapChars(domain_name, useSTD3, processing_option);\n  result.string = normalize(result.string);\n\n  var labels = result.string.split(\".\");\n  for (var i = 0; i < labels.length; ++i) {\n    try {\n      var validation = validateLabel(labels[i]);\n      labels[i] = validation.label;\n      result.error = result.error || validation.error;\n    } catch(e) {\n      result.error = true;\n    }\n  }\n\n  return {\n    string: labels.join(\".\"),\n    error: result.error\n  };\n}\n\nmodule.exports.toASCII = function(domain_name, useSTD3, processing_option, verifyDnsLength) {\n  var result = processing(domain_name, useSTD3, processing_option);\n  var labels = result.string.split(\".\");\n  labels = labels.map(function(l) {\n    try {\n      return punycode.toASCII(l);\n    } catch(e) {\n      result.error = true;\n      return l;\n    }\n  });\n\n  if (verifyDnsLength) {\n    var total = labels.slice(0, labels.length - 1).join(\".\").length;\n    if (total.length > 253 || total.length === 0) {\n      result.error = true;\n    }\n\n    for (var i=0; i < labels.length; ++i) {\n      if (labels.length > 63 || labels.length === 0) {\n        result.error = true;\n        break;\n      }\n    }\n  }\n\n  if (result.error) return null;\n  return labels.join(\".\");\n};\n\nmodule.exports.toUnicode = function(domain_name, useSTD3) {\n  var result = processing(domain_name, useSTD3, PROCESSING_OPTIONS.NONTRANSITIONAL);\n\n  return {\n    domain: result.string,\n    error: result.error\n  };\n};\n\nmodule.exports.PROCESSING_OPTIONS = PROCESSING_OPTIONS;\n","\"use strict\";\r\nconst punycode = require(\"punycode\");\r\nconst tr46 = require(\"tr46\");\r\n\r\nconst specialSchemes = {\r\n  ftp: 21,\r\n  file: null,\r\n  gopher: 70,\r\n  http: 80,\r\n  https: 443,\r\n  ws: 80,\r\n  wss: 443\r\n};\r\n\r\nconst failure = Symbol(\"failure\");\r\n\r\nfunction countSymbols(str) {\r\n  return punycode.ucs2.decode(str).length;\r\n}\r\n\r\nfunction at(input, idx) {\r\n  const c = input[idx];\r\n  return isNaN(c) ? undefined : String.fromCodePoint(c);\r\n}\r\n\r\nfunction isASCIIDigit(c) {\r\n  return c >= 0x30 && c <= 0x39;\r\n}\r\n\r\nfunction isASCIIAlpha(c) {\r\n  return (c >= 0x41 && c <= 0x5A) || (c >= 0x61 && c <= 0x7A);\r\n}\r\n\r\nfunction isASCIIAlphanumeric(c) {\r\n  return isASCIIAlpha(c) || isASCIIDigit(c);\r\n}\r\n\r\nfunction isASCIIHex(c) {\r\n  return isASCIIDigit(c) || (c >= 0x41 && c <= 0x46) || (c >= 0x61 && c <= 0x66);\r\n}\r\n\r\nfunction isSingleDot(buffer) {\r\n  return buffer === \".\" || buffer.toLowerCase() === \"%2e\";\r\n}\r\n\r\nfunction isDoubleDot(buffer) {\r\n  buffer = buffer.toLowerCase();\r\n  return buffer === \"..\" || buffer === \"%2e.\" || buffer === \".%2e\" || buffer === \"%2e%2e\";\r\n}\r\n\r\nfunction isWindowsDriveLetterCodePoints(cp1, cp2) {\r\n  return isASCIIAlpha(cp1) && (cp2 === 58 || cp2 === 124);\r\n}\r\n\r\nfunction isWindowsDriveLetterString(string) {\r\n  return string.length === 2 && isASCIIAlpha(string.codePointAt(0)) && (string[1] === \":\" || string[1] === \"|\");\r\n}\r\n\r\nfunction isNormalizedWindowsDriveLetterString(string) {\r\n  return string.length === 2 && isASCIIAlpha(string.codePointAt(0)) && string[1] === \":\";\r\n}\r\n\r\nfunction containsForbiddenHostCodePoint(string) {\r\n  return string.search(/\\u0000|\\u0009|\\u000A|\\u000D|\\u0020|#|%|\\/|:|\\?|@|\\[|\\\\|\\]/) !== -1;\r\n}\r\n\r\nfunction containsForbiddenHostCodePointExcludingPercent(string) {\r\n  return string.search(/\\u0000|\\u0009|\\u000A|\\u000D|\\u0020|#|\\/|:|\\?|@|\\[|\\\\|\\]/) !== -1;\r\n}\r\n\r\nfunction isSpecialScheme(scheme) {\r\n  return specialSchemes[scheme] !== undefined;\r\n}\r\n\r\nfunction isSpecial(url) {\r\n  return isSpecialScheme(url.scheme);\r\n}\r\n\r\nfunction defaultPort(scheme) {\r\n  return specialSchemes[scheme];\r\n}\r\n\r\nfunction percentEncode(c) {\r\n  let hex = c.toString(16).toUpperCase();\r\n  if (hex.length === 1) {\r\n    hex = \"0\" + hex;\r\n  }\r\n\r\n  return \"%\" + hex;\r\n}\r\n\r\nfunction utf8PercentEncode(c) {\r\n  const buf = new Buffer(c);\r\n\r\n  let str = \"\";\r\n\r\n  for (let i = 0; i < buf.length; ++i) {\r\n    str += percentEncode(buf[i]);\r\n  }\r\n\r\n  return str;\r\n}\r\n\r\nfunction utf8PercentDecode(str) {\r\n  const input = new Buffer(str);\r\n  const output = [];\r\n  for (let i = 0; i < input.length; ++i) {\r\n    if (input[i] !== 37) {\r\n      output.push(input[i]);\r\n    } else if (input[i] === 37 && isASCIIHex(input[i + 1]) && isASCIIHex(input[i + 2])) {\r\n      output.push(parseInt(input.slice(i + 1, i + 3).toString(), 16));\r\n      i += 2;\r\n    } else {\r\n      output.push(input[i]);\r\n    }\r\n  }\r\n  return new Buffer(output).toString();\r\n}\r\n\r\nfunction isC0ControlPercentEncode(c) {\r\n  return c <= 0x1F || c > 0x7E;\r\n}\r\n\r\nconst extraPathPercentEncodeSet = new Set([32, 34, 35, 60, 62, 63, 96, 123, 125]);\r\nfunction isPathPercentEncode(c) {\r\n  return isC0ControlPercentEncode(c) || extraPathPercentEncodeSet.has(c);\r\n}\r\n\r\nconst extraUserinfoPercentEncodeSet =\r\n  new Set([47, 58, 59, 61, 64, 91, 92, 93, 94, 124]);\r\nfunction isUserinfoPercentEncode(c) {\r\n  return isPathPercentEncode(c) || extraUserinfoPercentEncodeSet.has(c);\r\n}\r\n\r\nfunction percentEncodeChar(c, encodeSetPredicate) {\r\n  const cStr = String.fromCodePoint(c);\r\n\r\n  if (encodeSetPredicate(c)) {\r\n    return utf8PercentEncode(cStr);\r\n  }\r\n\r\n  return cStr;\r\n}\r\n\r\nfunction parseIPv4Number(input) {\r\n  let R = 10;\r\n\r\n  if (input.length >= 2 && input.charAt(0) === \"0\" && input.charAt(1).toLowerCase() === \"x\") {\r\n    input = input.substring(2);\r\n    R = 16;\r\n  } else if (input.length >= 2 && input.charAt(0) === \"0\") {\r\n    input = input.substring(1);\r\n    R = 8;\r\n  }\r\n\r\n  if (input === \"\") {\r\n    return 0;\r\n  }\r\n\r\n  const regex = R === 10 ? /[^0-9]/ : (R === 16 ? /[^0-9A-Fa-f]/ : /[^0-7]/);\r\n  if (regex.test(input)) {\r\n    return failure;\r\n  }\r\n\r\n  return parseInt(input, R);\r\n}\r\n\r\nfunction parseIPv4(input) {\r\n  const parts = input.split(\".\");\r\n  if (parts[parts.length - 1] === \"\") {\r\n    if (parts.length > 1) {\r\n      parts.pop();\r\n    }\r\n  }\r\n\r\n  if (parts.length > 4) {\r\n    return input;\r\n  }\r\n\r\n  const numbers = [];\r\n  for (const part of parts) {\r\n    if (part === \"\") {\r\n      return input;\r\n    }\r\n    const n = parseIPv4Number(part);\r\n    if (n === failure) {\r\n      return input;\r\n    }\r\n\r\n    numbers.push(n);\r\n  }\r\n\r\n  for (let i = 0; i < numbers.length - 1; ++i) {\r\n    if (numbers[i] > 255) {\r\n      return failure;\r\n    }\r\n  }\r\n  if (numbers[numbers.length - 1] >= Math.pow(256, 5 - numbers.length)) {\r\n    return failure;\r\n  }\r\n\r\n  let ipv4 = numbers.pop();\r\n  let counter = 0;\r\n\r\n  for (const n of numbers) {\r\n    ipv4 += n * Math.pow(256, 3 - counter);\r\n    ++counter;\r\n  }\r\n\r\n  return ipv4;\r\n}\r\n\r\nfunction serializeIPv4(address) {\r\n  let output = \"\";\r\n  let n = address;\r\n\r\n  for (let i = 1; i <= 4; ++i) {\r\n    output = String(n % 256) + output;\r\n    if (i !== 4) {\r\n      output = \".\" + output;\r\n    }\r\n    n = Math.floor(n / 256);\r\n  }\r\n\r\n  return output;\r\n}\r\n\r\nfunction parseIPv6(input) {\r\n  const address = [0, 0, 0, 0, 0, 0, 0, 0];\r\n  let pieceIndex = 0;\r\n  let compress = null;\r\n  let pointer = 0;\r\n\r\n  input = punycode.ucs2.decode(input);\r\n\r\n  if (input[pointer] === 58) {\r\n    if (input[pointer + 1] !== 58) {\r\n      return failure;\r\n    }\r\n\r\n    pointer += 2;\r\n    ++pieceIndex;\r\n    compress = pieceIndex;\r\n  }\r\n\r\n  while (pointer < input.length) {\r\n    if (pieceIndex === 8) {\r\n      return failure;\r\n    }\r\n\r\n    if (input[pointer] === 58) {\r\n      if (compress !== null) {\r\n        return failure;\r\n      }\r\n      ++pointer;\r\n      ++pieceIndex;\r\n      compress = pieceIndex;\r\n      continue;\r\n    }\r\n\r\n    let value = 0;\r\n    let length = 0;\r\n\r\n    while (length < 4 && isASCIIHex(input[pointer])) {\r\n      value = value * 0x10 + parseInt(at(input, pointer), 16);\r\n      ++pointer;\r\n      ++length;\r\n    }\r\n\r\n    if (input[pointer] === 46) {\r\n      if (length === 0) {\r\n        return failure;\r\n      }\r\n\r\n      pointer -= length;\r\n\r\n      if (pieceIndex > 6) {\r\n        return failure;\r\n      }\r\n\r\n      let numbersSeen = 0;\r\n\r\n      while (input[pointer] !== undefined) {\r\n        let ipv4Piece = null;\r\n\r\n        if (numbersSeen > 0) {\r\n          if (input[pointer] === 46 && numbersSeen < 4) {\r\n            ++pointer;\r\n          } else {\r\n            return failure;\r\n          }\r\n        }\r\n\r\n        if (!isASCIIDigit(input[pointer])) {\r\n          return failure;\r\n        }\r\n\r\n        while (isASCIIDigit(input[pointer])) {\r\n          const number = parseInt(at(input, pointer));\r\n          if (ipv4Piece === null) {\r\n            ipv4Piece = number;\r\n          } else if (ipv4Piece === 0) {\r\n            return failure;\r\n          } else {\r\n            ipv4Piece = ipv4Piece * 10 + number;\r\n          }\r\n          if (ipv4Piece > 255) {\r\n            return failure;\r\n          }\r\n          ++pointer;\r\n        }\r\n\r\n        address[pieceIndex] = address[pieceIndex] * 0x100 + ipv4Piece;\r\n\r\n        ++numbersSeen;\r\n\r\n        if (numbersSeen === 2 || numbersSeen === 4) {\r\n          ++pieceIndex;\r\n        }\r\n      }\r\n\r\n      if (numbersSeen !== 4) {\r\n        return failure;\r\n      }\r\n\r\n      break;\r\n    } else if (input[pointer] === 58) {\r\n      ++pointer;\r\n      if (input[pointer] === undefined) {\r\n        return failure;\r\n      }\r\n    } else if (input[pointer] !== undefined) {\r\n      return failure;\r\n    }\r\n\r\n    address[pieceIndex] = value;\r\n    ++pieceIndex;\r\n  }\r\n\r\n  if (compress !== null) {\r\n    let swaps = pieceIndex - compress;\r\n    pieceIndex = 7;\r\n    while (pieceIndex !== 0 && swaps > 0) {\r\n      const temp = address[compress + swaps - 1];\r\n      address[compress + swaps - 1] = address[pieceIndex];\r\n      address[pieceIndex] = temp;\r\n      --pieceIndex;\r\n      --swaps;\r\n    }\r\n  } else if (compress === null && pieceIndex !== 8) {\r\n    return failure;\r\n  }\r\n\r\n  return address;\r\n}\r\n\r\nfunction serializeIPv6(address) {\r\n  let output = \"\";\r\n  const seqResult = findLongestZeroSequence(address);\r\n  const compress = seqResult.idx;\r\n  let ignore0 = false;\r\n\r\n  for (let pieceIndex = 0; pieceIndex <= 7; ++pieceIndex) {\r\n    if (ignore0 && address[pieceIndex] === 0) {\r\n      continue;\r\n    } else if (ignore0) {\r\n      ignore0 = false;\r\n    }\r\n\r\n    if (compress === pieceIndex) {\r\n      const separator = pieceIndex === 0 ? \"::\" : \":\";\r\n      output += separator;\r\n      ignore0 = true;\r\n      continue;\r\n    }\r\n\r\n    output += address[pieceIndex].toString(16);\r\n\r\n    if (pieceIndex !== 7) {\r\n      output += \":\";\r\n    }\r\n  }\r\n\r\n  return output;\r\n}\r\n\r\nfunction parseHost(input, isSpecialArg) {\r\n  if (input[0] === \"[\") {\r\n    if (input[input.length - 1] !== \"]\") {\r\n      return failure;\r\n    }\r\n\r\n    return parseIPv6(input.substring(1, input.length - 1));\r\n  }\r\n\r\n  if (!isSpecialArg) {\r\n    return parseOpaqueHost(input);\r\n  }\r\n\r\n  const domain = utf8PercentDecode(input);\r\n  const asciiDomain = tr46.toASCII(domain, false, tr46.PROCESSING_OPTIONS.NONTRANSITIONAL, false);\r\n  if (asciiDomain === null) {\r\n    return failure;\r\n  }\r\n\r\n  if (containsForbiddenHostCodePoint(asciiDomain)) {\r\n    return failure;\r\n  }\r\n\r\n  const ipv4Host = parseIPv4(asciiDomain);\r\n  if (typeof ipv4Host === \"number\" || ipv4Host === failure) {\r\n    return ipv4Host;\r\n  }\r\n\r\n  return asciiDomain;\r\n}\r\n\r\nfunction parseOpaqueHost(input) {\r\n  if (containsForbiddenHostCodePointExcludingPercent(input)) {\r\n    return failure;\r\n  }\r\n\r\n  let output = \"\";\r\n  const decoded = punycode.ucs2.decode(input);\r\n  for (let i = 0; i < decoded.length; ++i) {\r\n    output += percentEncodeChar(decoded[i], isC0ControlPercentEncode);\r\n  }\r\n  return output;\r\n}\r\n\r\nfunction findLongestZeroSequence(arr) {\r\n  let maxIdx = null;\r\n  let maxLen = 1; // only find elements > 1\r\n  let currStart = null;\r\n  let currLen = 0;\r\n\r\n  for (let i = 0; i < arr.length; ++i) {\r\n    if (arr[i] !== 0) {\r\n      if (currLen > maxLen) {\r\n        maxIdx = currStart;\r\n        maxLen = currLen;\r\n      }\r\n\r\n      currStart = null;\r\n      currLen = 0;\r\n    } else {\r\n      if (currStart === null) {\r\n        currStart = i;\r\n      }\r\n      ++currLen;\r\n    }\r\n  }\r\n\r\n  // if trailing zeros\r\n  if (currLen > maxLen) {\r\n    maxIdx = currStart;\r\n    maxLen = currLen;\r\n  }\r\n\r\n  return {\r\n    idx: maxIdx,\r\n    len: maxLen\r\n  };\r\n}\r\n\r\nfunction serializeHost(host) {\r\n  if (typeof host === \"number\") {\r\n    return serializeIPv4(host);\r\n  }\r\n\r\n  // IPv6 serializer\r\n  if (host instanceof Array) {\r\n    return \"[\" + serializeIPv6(host) + \"]\";\r\n  }\r\n\r\n  return host;\r\n}\r\n\r\nfunction trimControlChars(url) {\r\n  return url.replace(/^[\\u0000-\\u001F\\u0020]+|[\\u0000-\\u001F\\u0020]+$/g, \"\");\r\n}\r\n\r\nfunction trimTabAndNewline(url) {\r\n  return url.replace(/\\u0009|\\u000A|\\u000D/g, \"\");\r\n}\r\n\r\nfunction shortenPath(url) {\r\n  const path = url.path;\r\n  if (path.length === 0) {\r\n    return;\r\n  }\r\n  if (url.scheme === \"file\" && path.length === 1 && isNormalizedWindowsDriveLetter(path[0])) {\r\n    return;\r\n  }\r\n\r\n  path.pop();\r\n}\r\n\r\nfunction includesCredentials(url) {\r\n  return url.username !== \"\" || url.password !== \"\";\r\n}\r\n\r\nfunction cannotHaveAUsernamePasswordPort(url) {\r\n  return url.host === null || url.host === \"\" || url.cannotBeABaseURL || url.scheme === \"file\";\r\n}\r\n\r\nfunction isNormalizedWindowsDriveLetter(string) {\r\n  return /^[A-Za-z]:$/.test(string);\r\n}\r\n\r\nfunction URLStateMachine(input, base, encodingOverride, url, stateOverride) {\r\n  this.pointer = 0;\r\n  this.input = input;\r\n  this.base = base || null;\r\n  this.encodingOverride = encodingOverride || \"utf-8\";\r\n  this.stateOverride = stateOverride;\r\n  this.url = url;\r\n  this.failure = false;\r\n  this.parseError = false;\r\n\r\n  if (!this.url) {\r\n    this.url = {\r\n      scheme: \"\",\r\n      username: \"\",\r\n      password: \"\",\r\n      host: null,\r\n      port: null,\r\n      path: [],\r\n      query: null,\r\n      fragment: null,\r\n\r\n      cannotBeABaseURL: false\r\n    };\r\n\r\n    const res = trimControlChars(this.input);\r\n    if (res !== this.input) {\r\n      this.parseError = true;\r\n    }\r\n    this.input = res;\r\n  }\r\n\r\n  const res = trimTabAndNewline(this.input);\r\n  if (res !== this.input) {\r\n    this.parseError = true;\r\n  }\r\n  this.input = res;\r\n\r\n  this.state = stateOverride || \"scheme start\";\r\n\r\n  this.buffer = \"\";\r\n  this.atFlag = false;\r\n  this.arrFlag = false;\r\n  this.passwordTokenSeenFlag = false;\r\n\r\n  this.input = punycode.ucs2.decode(this.input);\r\n\r\n  for (; this.pointer <= this.input.length; ++this.pointer) {\r\n    const c = this.input[this.pointer];\r\n    const cStr = isNaN(c) ? undefined : String.fromCodePoint(c);\r\n\r\n    // exec state machine\r\n    const ret = this[\"parse \" + this.state](c, cStr);\r\n    if (!ret) {\r\n      break; // terminate algorithm\r\n    } else if (ret === failure) {\r\n      this.failure = true;\r\n      break;\r\n    }\r\n  }\r\n}\r\n\r\nURLStateMachine.prototype[\"parse scheme start\"] = function parseSchemeStart(c, cStr) {\r\n  if (isASCIIAlpha(c)) {\r\n    this.buffer += cStr.toLowerCase();\r\n    this.state = \"scheme\";\r\n  } else if (!this.stateOverride) {\r\n    this.state = \"no scheme\";\r\n    --this.pointer;\r\n  } else {\r\n    this.parseError = true;\r\n    return failure;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse scheme\"] = function parseScheme(c, cStr) {\r\n  if (isASCIIAlphanumeric(c) || c === 43 || c === 45 || c === 46) {\r\n    this.buffer += cStr.toLowerCase();\r\n  } else if (c === 58) {\r\n    if (this.stateOverride) {\r\n      if (isSpecial(this.url) && !isSpecialScheme(this.buffer)) {\r\n        return false;\r\n      }\r\n\r\n      if (!isSpecial(this.url) && isSpecialScheme(this.buffer)) {\r\n        return false;\r\n      }\r\n\r\n      if ((includesCredentials(this.url) || this.url.port !== null) && this.buffer === \"file\") {\r\n        return false;\r\n      }\r\n\r\n      if (this.url.scheme === \"file\" && (this.url.host === \"\" || this.url.host === null)) {\r\n        return false;\r\n      }\r\n    }\r\n    this.url.scheme = this.buffer;\r\n    this.buffer = \"\";\r\n    if (this.stateOverride) {\r\n      return false;\r\n    }\r\n    if (this.url.scheme === \"file\") {\r\n      if (this.input[this.pointer + 1] !== 47 || this.input[this.pointer + 2] !== 47) {\r\n        this.parseError = true;\r\n      }\r\n      this.state = \"file\";\r\n    } else if (isSpecial(this.url) && this.base !== null && this.base.scheme === this.url.scheme) {\r\n      this.state = \"special relative or authority\";\r\n    } else if (isSpecial(this.url)) {\r\n      this.state = \"special authority slashes\";\r\n    } else if (this.input[this.pointer + 1] === 47) {\r\n      this.state = \"path or authority\";\r\n      ++this.pointer;\r\n    } else {\r\n      this.url.cannotBeABaseURL = true;\r\n      this.url.path.push(\"\");\r\n      this.state = \"cannot-be-a-base-URL path\";\r\n    }\r\n  } else if (!this.stateOverride) {\r\n    this.buffer = \"\";\r\n    this.state = \"no scheme\";\r\n    this.pointer = -1;\r\n  } else {\r\n    this.parseError = true;\r\n    return failure;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse no scheme\"] = function parseNoScheme(c) {\r\n  if (this.base === null || (this.base.cannotBeABaseURL && c !== 35)) {\r\n    return failure;\r\n  } else if (this.base.cannotBeABaseURL && c === 35) {\r\n    this.url.scheme = this.base.scheme;\r\n    this.url.path = this.base.path.slice();\r\n    this.url.query = this.base.query;\r\n    this.url.fragment = \"\";\r\n    this.url.cannotBeABaseURL = true;\r\n    this.state = \"fragment\";\r\n  } else if (this.base.scheme === \"file\") {\r\n    this.state = \"file\";\r\n    --this.pointer;\r\n  } else {\r\n    this.state = \"relative\";\r\n    --this.pointer;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse special relative or authority\"] = function parseSpecialRelativeOrAuthority(c) {\r\n  if (c === 47 && this.input[this.pointer + 1] === 47) {\r\n    this.state = \"special authority ignore slashes\";\r\n    ++this.pointer;\r\n  } else {\r\n    this.parseError = true;\r\n    this.state = \"relative\";\r\n    --this.pointer;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse path or authority\"] = function parsePathOrAuthority(c) {\r\n  if (c === 47) {\r\n    this.state = \"authority\";\r\n  } else {\r\n    this.state = \"path\";\r\n    --this.pointer;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse relative\"] = function parseRelative(c) {\r\n  this.url.scheme = this.base.scheme;\r\n  if (isNaN(c)) {\r\n    this.url.username = this.base.username;\r\n    this.url.password = this.base.password;\r\n    this.url.host = this.base.host;\r\n    this.url.port = this.base.port;\r\n    this.url.path = this.base.path.slice();\r\n    this.url.query = this.base.query;\r\n  } else if (c === 47) {\r\n    this.state = \"relative slash\";\r\n  } else if (c === 63) {\r\n    this.url.username = this.base.username;\r\n    this.url.password = this.base.password;\r\n    this.url.host = this.base.host;\r\n    this.url.port = this.base.port;\r\n    this.url.path = this.base.path.slice();\r\n    this.url.query = \"\";\r\n    this.state = \"query\";\r\n  } else if (c === 35) {\r\n    this.url.username = this.base.username;\r\n    this.url.password = this.base.password;\r\n    this.url.host = this.base.host;\r\n    this.url.port = this.base.port;\r\n    this.url.path = this.base.path.slice();\r\n    this.url.query = this.base.query;\r\n    this.url.fragment = \"\";\r\n    this.state = \"fragment\";\r\n  } else if (isSpecial(this.url) && c === 92) {\r\n    this.parseError = true;\r\n    this.state = \"relative slash\";\r\n  } else {\r\n    this.url.username = this.base.username;\r\n    this.url.password = this.base.password;\r\n    this.url.host = this.base.host;\r\n    this.url.port = this.base.port;\r\n    this.url.path = this.base.path.slice(0, this.base.path.length - 1);\r\n\r\n    this.state = \"path\";\r\n    --this.pointer;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse relative slash\"] = function parseRelativeSlash(c) {\r\n  if (isSpecial(this.url) && (c === 47 || c === 92)) {\r\n    if (c === 92) {\r\n      this.parseError = true;\r\n    }\r\n    this.state = \"special authority ignore slashes\";\r\n  } else if (c === 47) {\r\n    this.state = \"authority\";\r\n  } else {\r\n    this.url.username = this.base.username;\r\n    this.url.password = this.base.password;\r\n    this.url.host = this.base.host;\r\n    this.url.port = this.base.port;\r\n    this.state = \"path\";\r\n    --this.pointer;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse special authority slashes\"] = function parseSpecialAuthoritySlashes(c) {\r\n  if (c === 47 && this.input[this.pointer + 1] === 47) {\r\n    this.state = \"special authority ignore slashes\";\r\n    ++this.pointer;\r\n  } else {\r\n    this.parseError = true;\r\n    this.state = \"special authority ignore slashes\";\r\n    --this.pointer;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse special authority ignore slashes\"] = function parseSpecialAuthorityIgnoreSlashes(c) {\r\n  if (c !== 47 && c !== 92) {\r\n    this.state = \"authority\";\r\n    --this.pointer;\r\n  } else {\r\n    this.parseError = true;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse authority\"] = function parseAuthority(c, cStr) {\r\n  if (c === 64) {\r\n    this.parseError = true;\r\n    if (this.atFlag) {\r\n      this.buffer = \"%40\" + this.buffer;\r\n    }\r\n    this.atFlag = true;\r\n\r\n    // careful, this is based on buffer and has its own pointer (this.pointer != pointer) and inner chars\r\n    const len = countSymbols(this.buffer);\r\n    for (let pointer = 0; pointer < len; ++pointer) {\r\n      const codePoint = this.buffer.codePointAt(pointer);\r\n\r\n      if (codePoint === 58 && !this.passwordTokenSeenFlag) {\r\n        this.passwordTokenSeenFlag = true;\r\n        continue;\r\n      }\r\n      const encodedCodePoints = percentEncodeChar(codePoint, isUserinfoPercentEncode);\r\n      if (this.passwordTokenSeenFlag) {\r\n        this.url.password += encodedCodePoints;\r\n      } else {\r\n        this.url.username += encodedCodePoints;\r\n      }\r\n    }\r\n    this.buffer = \"\";\r\n  } else if (isNaN(c) || c === 47 || c === 63 || c === 35 ||\r\n             (isSpecial(this.url) && c === 92)) {\r\n    if (this.atFlag && this.buffer === \"\") {\r\n      this.parseError = true;\r\n      return failure;\r\n    }\r\n    this.pointer -= countSymbols(this.buffer) + 1;\r\n    this.buffer = \"\";\r\n    this.state = \"host\";\r\n  } else {\r\n    this.buffer += cStr;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse hostname\"] =\r\nURLStateMachine.prototype[\"parse host\"] = function parseHostName(c, cStr) {\r\n  if (this.stateOverride && this.url.scheme === \"file\") {\r\n    --this.pointer;\r\n    this.state = \"file host\";\r\n  } else if (c === 58 && !this.arrFlag) {\r\n    if (this.buffer === \"\") {\r\n      this.parseError = true;\r\n      return failure;\r\n    }\r\n\r\n    const host = parseHost(this.buffer, isSpecial(this.url));\r\n    if (host === failure) {\r\n      return failure;\r\n    }\r\n\r\n    this.url.host = host;\r\n    this.buffer = \"\";\r\n    this.state = \"port\";\r\n    if (this.stateOverride === \"hostname\") {\r\n      return false;\r\n    }\r\n  } else if (isNaN(c) || c === 47 || c === 63 || c === 35 ||\r\n             (isSpecial(this.url) && c === 92)) {\r\n    --this.pointer;\r\n    if (isSpecial(this.url) && this.buffer === \"\") {\r\n      this.parseError = true;\r\n      return failure;\r\n    } else if (this.stateOverride && this.buffer === \"\" &&\r\n               (includesCredentials(this.url) || this.url.port !== null)) {\r\n      this.parseError = true;\r\n      return false;\r\n    }\r\n\r\n    const host = parseHost(this.buffer, isSpecial(this.url));\r\n    if (host === failure) {\r\n      return failure;\r\n    }\r\n\r\n    this.url.host = host;\r\n    this.buffer = \"\";\r\n    this.state = \"path start\";\r\n    if (this.stateOverride) {\r\n      return false;\r\n    }\r\n  } else {\r\n    if (c === 91) {\r\n      this.arrFlag = true;\r\n    } else if (c === 93) {\r\n      this.arrFlag = false;\r\n    }\r\n    this.buffer += cStr;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse port\"] = function parsePort(c, cStr) {\r\n  if (isASCIIDigit(c)) {\r\n    this.buffer += cStr;\r\n  } else if (isNaN(c) || c === 47 || c === 63 || c === 35 ||\r\n             (isSpecial(this.url) && c === 92) ||\r\n             this.stateOverride) {\r\n    if (this.buffer !== \"\") {\r\n      const port = parseInt(this.buffer);\r\n      if (port > Math.pow(2, 16) - 1) {\r\n        this.parseError = true;\r\n        return failure;\r\n      }\r\n      this.url.port = port === defaultPort(this.url.scheme) ? null : port;\r\n      this.buffer = \"\";\r\n    }\r\n    if (this.stateOverride) {\r\n      return false;\r\n    }\r\n    this.state = \"path start\";\r\n    --this.pointer;\r\n  } else {\r\n    this.parseError = true;\r\n    return failure;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nconst fileOtherwiseCodePoints = new Set([47, 92, 63, 35]);\r\n\r\nURLStateMachine.prototype[\"parse file\"] = function parseFile(c) {\r\n  this.url.scheme = \"file\";\r\n\r\n  if (c === 47 || c === 92) {\r\n    if (c === 92) {\r\n      this.parseError = true;\r\n    }\r\n    this.state = \"file slash\";\r\n  } else if (this.base !== null && this.base.scheme === \"file\") {\r\n    if (isNaN(c)) {\r\n      this.url.host = this.base.host;\r\n      this.url.path = this.base.path.slice();\r\n      this.url.query = this.base.query;\r\n    } else if (c === 63) {\r\n      this.url.host = this.base.host;\r\n      this.url.path = this.base.path.slice();\r\n      this.url.query = \"\";\r\n      this.state = \"query\";\r\n    } else if (c === 35) {\r\n      this.url.host = this.base.host;\r\n      this.url.path = this.base.path.slice();\r\n      this.url.query = this.base.query;\r\n      this.url.fragment = \"\";\r\n      this.state = \"fragment\";\r\n    } else {\r\n      if (this.input.length - this.pointer - 1 === 0 || // remaining consists of 0 code points\r\n          !isWindowsDriveLetterCodePoints(c, this.input[this.pointer + 1]) ||\r\n          (this.input.length - this.pointer - 1 >= 2 && // remaining has at least 2 code points\r\n           !fileOtherwiseCodePoints.has(this.input[this.pointer + 2]))) {\r\n        this.url.host = this.base.host;\r\n        this.url.path = this.base.path.slice();\r\n        shortenPath(this.url);\r\n      } else {\r\n        this.parseError = true;\r\n      }\r\n\r\n      this.state = \"path\";\r\n      --this.pointer;\r\n    }\r\n  } else {\r\n    this.state = \"path\";\r\n    --this.pointer;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse file slash\"] = function parseFileSlash(c) {\r\n  if (c === 47 || c === 92) {\r\n    if (c === 92) {\r\n      this.parseError = true;\r\n    }\r\n    this.state = \"file host\";\r\n  } else {\r\n    if (this.base !== null && this.base.scheme === \"file\") {\r\n      if (isNormalizedWindowsDriveLetterString(this.base.path[0])) {\r\n        this.url.path.push(this.base.path[0]);\r\n      } else {\r\n        this.url.host = this.base.host;\r\n      }\r\n    }\r\n    this.state = \"path\";\r\n    --this.pointer;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse file host\"] = function parseFileHost(c, cStr) {\r\n  if (isNaN(c) || c === 47 || c === 92 || c === 63 || c === 35) {\r\n    --this.pointer;\r\n    if (!this.stateOverride && isWindowsDriveLetterString(this.buffer)) {\r\n      this.parseError = true;\r\n      this.state = \"path\";\r\n    } else if (this.buffer === \"\") {\r\n      this.url.host = \"\";\r\n      if (this.stateOverride) {\r\n        return false;\r\n      }\r\n      this.state = \"path start\";\r\n    } else {\r\n      let host = parseHost(this.buffer, isSpecial(this.url));\r\n      if (host === failure) {\r\n        return failure;\r\n      }\r\n      if (host === \"localhost\") {\r\n        host = \"\";\r\n      }\r\n      this.url.host = host;\r\n\r\n      if (this.stateOverride) {\r\n        return false;\r\n      }\r\n\r\n      this.buffer = \"\";\r\n      this.state = \"path start\";\r\n    }\r\n  } else {\r\n    this.buffer += cStr;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse path start\"] = function parsePathStart(c) {\r\n  if (isSpecial(this.url)) {\r\n    if (c === 92) {\r\n      this.parseError = true;\r\n    }\r\n    this.state = \"path\";\r\n\r\n    if (c !== 47 && c !== 92) {\r\n      --this.pointer;\r\n    }\r\n  } else if (!this.stateOverride && c === 63) {\r\n    this.url.query = \"\";\r\n    this.state = \"query\";\r\n  } else if (!this.stateOverride && c === 35) {\r\n    this.url.fragment = \"\";\r\n    this.state = \"fragment\";\r\n  } else if (c !== undefined) {\r\n    this.state = \"path\";\r\n    if (c !== 47) {\r\n      --this.pointer;\r\n    }\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse path\"] = function parsePath(c) {\r\n  if (isNaN(c) || c === 47 || (isSpecial(this.url) && c === 92) ||\r\n      (!this.stateOverride && (c === 63 || c === 35))) {\r\n    if (isSpecial(this.url) && c === 92) {\r\n      this.parseError = true;\r\n    }\r\n\r\n    if (isDoubleDot(this.buffer)) {\r\n      shortenPath(this.url);\r\n      if (c !== 47 && !(isSpecial(this.url) && c === 92)) {\r\n        this.url.path.push(\"\");\r\n      }\r\n    } else if (isSingleDot(this.buffer) && c !== 47 &&\r\n               !(isSpecial(this.url) && c === 92)) {\r\n      this.url.path.push(\"\");\r\n    } else if (!isSingleDot(this.buffer)) {\r\n      if (this.url.scheme === \"file\" && this.url.path.length === 0 && isWindowsDriveLetterString(this.buffer)) {\r\n        if (this.url.host !== \"\" && this.url.host !== null) {\r\n          this.parseError = true;\r\n          this.url.host = \"\";\r\n        }\r\n        this.buffer = this.buffer[0] + \":\";\r\n      }\r\n      this.url.path.push(this.buffer);\r\n    }\r\n    this.buffer = \"\";\r\n    if (this.url.scheme === \"file\" && (c === undefined || c === 63 || c === 35)) {\r\n      while (this.url.path.length > 1 && this.url.path[0] === \"\") {\r\n        this.parseError = true;\r\n        this.url.path.shift();\r\n      }\r\n    }\r\n    if (c === 63) {\r\n      this.url.query = \"\";\r\n      this.state = \"query\";\r\n    }\r\n    if (c === 35) {\r\n      this.url.fragment = \"\";\r\n      this.state = \"fragment\";\r\n    }\r\n  } else {\r\n    // TODO: If c is not a URL code point and not \"%\", parse error.\r\n\r\n    if (c === 37 &&\r\n      (!isASCIIHex(this.input[this.pointer + 1]) ||\r\n        !isASCIIHex(this.input[this.pointer + 2]))) {\r\n      this.parseError = true;\r\n    }\r\n\r\n    this.buffer += percentEncodeChar(c, isPathPercentEncode);\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse cannot-be-a-base-URL path\"] = function parseCannotBeABaseURLPath(c) {\r\n  if (c === 63) {\r\n    this.url.query = \"\";\r\n    this.state = \"query\";\r\n  } else if (c === 35) {\r\n    this.url.fragment = \"\";\r\n    this.state = \"fragment\";\r\n  } else {\r\n    // TODO: Add: not a URL code point\r\n    if (!isNaN(c) && c !== 37) {\r\n      this.parseError = true;\r\n    }\r\n\r\n    if (c === 37 &&\r\n        (!isASCIIHex(this.input[this.pointer + 1]) ||\r\n         !isASCIIHex(this.input[this.pointer + 2]))) {\r\n      this.parseError = true;\r\n    }\r\n\r\n    if (!isNaN(c)) {\r\n      this.url.path[0] = this.url.path[0] + percentEncodeChar(c, isC0ControlPercentEncode);\r\n    }\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse query\"] = function parseQuery(c, cStr) {\r\n  if (isNaN(c) || (!this.stateOverride && c === 35)) {\r\n    if (!isSpecial(this.url) || this.url.scheme === \"ws\" || this.url.scheme === \"wss\") {\r\n      this.encodingOverride = \"utf-8\";\r\n    }\r\n\r\n    const buffer = new Buffer(this.buffer); // TODO: Use encoding override instead\r\n    for (let i = 0; i < buffer.length; ++i) {\r\n      if (buffer[i] < 0x21 || buffer[i] > 0x7E || buffer[i] === 0x22 || buffer[i] === 0x23 ||\r\n          buffer[i] === 0x3C || buffer[i] === 0x3E) {\r\n        this.url.query += percentEncode(buffer[i]);\r\n      } else {\r\n        this.url.query += String.fromCodePoint(buffer[i]);\r\n      }\r\n    }\r\n\r\n    this.buffer = \"\";\r\n    if (c === 35) {\r\n      this.url.fragment = \"\";\r\n      this.state = \"fragment\";\r\n    }\r\n  } else {\r\n    // TODO: If c is not a URL code point and not \"%\", parse error.\r\n    if (c === 37 &&\r\n      (!isASCIIHex(this.input[this.pointer + 1]) ||\r\n        !isASCIIHex(this.input[this.pointer + 2]))) {\r\n      this.parseError = true;\r\n    }\r\n\r\n    this.buffer += cStr;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse fragment\"] = function parseFragment(c) {\r\n  if (isNaN(c)) { // do nothing\r\n  } else if (c === 0x0) {\r\n    this.parseError = true;\r\n  } else {\r\n    // TODO: If c is not a URL code point and not \"%\", parse error.\r\n    if (c === 37 &&\r\n      (!isASCIIHex(this.input[this.pointer + 1]) ||\r\n        !isASCIIHex(this.input[this.pointer + 2]))) {\r\n      this.parseError = true;\r\n    }\r\n\r\n    this.url.fragment += percentEncodeChar(c, isC0ControlPercentEncode);\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nfunction serializeURL(url, excludeFragment) {\r\n  let output = url.scheme + \":\";\r\n  if (url.host !== null) {\r\n    output += \"//\";\r\n\r\n    if (url.username !== \"\" || url.password !== \"\") {\r\n      output += url.username;\r\n      if (url.password !== \"\") {\r\n        output += \":\" + url.password;\r\n      }\r\n      output += \"@\";\r\n    }\r\n\r\n    output += serializeHost(url.host);\r\n\r\n    if (url.port !== null) {\r\n      output += \":\" + url.port;\r\n    }\r\n  } else if (url.host === null && url.scheme === \"file\") {\r\n    output += \"//\";\r\n  }\r\n\r\n  if (url.cannotBeABaseURL) {\r\n    output += url.path[0];\r\n  } else {\r\n    for (const string of url.path) {\r\n      output += \"/\" + string;\r\n    }\r\n  }\r\n\r\n  if (url.query !== null) {\r\n    output += \"?\" + url.query;\r\n  }\r\n\r\n  if (!excludeFragment && url.fragment !== null) {\r\n    output += \"#\" + url.fragment;\r\n  }\r\n\r\n  return output;\r\n}\r\n\r\nfunction serializeOrigin(tuple) {\r\n  let result = tuple.scheme + \"://\";\r\n  result += serializeHost(tuple.host);\r\n\r\n  if (tuple.port !== null) {\r\n    result += \":\" + tuple.port;\r\n  }\r\n\r\n  return result;\r\n}\r\n\r\nmodule.exports.serializeURL = serializeURL;\r\n\r\nmodule.exports.serializeURLOrigin = function (url) {\r\n  // https://url.spec.whatwg.org/#concept-url-origin\r\n  switch (url.scheme) {\r\n    case \"blob\":\r\n      try {\r\n        return module.exports.serializeURLOrigin(module.exports.parseURL(url.path[0]));\r\n      } catch (e) {\r\n        // serializing an opaque origin returns \"null\"\r\n        return \"null\";\r\n      }\r\n    case \"ftp\":\r\n    case \"gopher\":\r\n    case \"http\":\r\n    case \"https\":\r\n    case \"ws\":\r\n    case \"wss\":\r\n      return serializeOrigin({\r\n        scheme: url.scheme,\r\n        host: url.host,\r\n        port: url.port\r\n      });\r\n    case \"file\":\r\n      // spec says \"exercise to the reader\", chrome says \"file://\"\r\n      return \"file://\";\r\n    default:\r\n      // serializing an opaque origin returns \"null\"\r\n      return \"null\";\r\n  }\r\n};\r\n\r\nmodule.exports.basicURLParse = function (input, options) {\r\n  if (options === undefined) {\r\n    options = {};\r\n  }\r\n\r\n  const usm = new URLStateMachine(input, options.baseURL, options.encodingOverride, options.url, options.stateOverride);\r\n  if (usm.failure) {\r\n    return \"failure\";\r\n  }\r\n\r\n  return usm.url;\r\n};\r\n\r\nmodule.exports.setTheUsername = function (url, username) {\r\n  url.username = \"\";\r\n  const decoded = punycode.ucs2.decode(username);\r\n  for (let i = 0; i < decoded.length; ++i) {\r\n    url.username += percentEncodeChar(decoded[i], isUserinfoPercentEncode);\r\n  }\r\n};\r\n\r\nmodule.exports.setThePassword = function (url, password) {\r\n  url.password = \"\";\r\n  const decoded = punycode.ucs2.decode(password);\r\n  for (let i = 0; i < decoded.length; ++i) {\r\n    url.password += percentEncodeChar(decoded[i], isUserinfoPercentEncode);\r\n  }\r\n};\r\n\r\nmodule.exports.serializeHost = serializeHost;\r\n\r\nmodule.exports.cannotHaveAUsernamePasswordPort = cannotHaveAUsernamePasswordPort;\r\n\r\nmodule.exports.serializeInteger = function (integer) {\r\n  return String(integer);\r\n};\r\n\r\nmodule.exports.parseURL = function (input, options) {\r\n  if (options === undefined) {\r\n    options = {};\r\n  }\r\n\r\n  // We don't handle blobs, so this just delegates:\r\n  return module.exports.basicURLParse(input, { baseURL: options.baseURL, encodingOverride: options.encodingOverride });\r\n};\r\n","\"use strict\";\nconst usm = require(\"./url-state-machine\");\n\nexports.implementation = class URLImpl {\n  constructor(constructorArgs) {\n    const url = constructorArgs[0];\n    const base = constructorArgs[1];\n\n    let parsedBase = null;\n    if (base !== undefined) {\n      parsedBase = usm.basicURLParse(base);\n      if (parsedBase === \"failure\") {\n        throw new TypeError(\"Invalid base URL\");\n      }\n    }\n\n    const parsedURL = usm.basicURLParse(url, { baseURL: parsedBase });\n    if (parsedURL === \"failure\") {\n      throw new TypeError(\"Invalid URL\");\n    }\n\n    this._url = parsedURL;\n\n    // TODO: query stuff\n  }\n\n  get href() {\n    return usm.serializeURL(this._url);\n  }\n\n  set href(v) {\n    const parsedURL = usm.basicURLParse(v);\n    if (parsedURL === \"failure\") {\n      throw new TypeError(\"Invalid URL\");\n    }\n\n    this._url = parsedURL;\n  }\n\n  get origin() {\n    return usm.serializeURLOrigin(this._url);\n  }\n\n  get protocol() {\n    return this._url.scheme + \":\";\n  }\n\n  set protocol(v) {\n    usm.basicURLParse(v + \":\", { url: this._url, stateOverride: \"scheme start\" });\n  }\n\n  get username() {\n    return this._url.username;\n  }\n\n  set username(v) {\n    if (usm.cannotHaveAUsernamePasswordPort(this._url)) {\n      return;\n    }\n\n    usm.setTheUsername(this._url, v);\n  }\n\n  get password() {\n    return this._url.password;\n  }\n\n  set password(v) {\n    if (usm.cannotHaveAUsernamePasswordPort(this._url)) {\n      return;\n    }\n\n    usm.setThePassword(this._url, v);\n  }\n\n  get host() {\n    const url = this._url;\n\n    if (url.host === null) {\n      return \"\";\n    }\n\n    if (url.port === null) {\n      return usm.serializeHost(url.host);\n    }\n\n    return usm.serializeHost(url.host) + \":\" + usm.serializeInteger(url.port);\n  }\n\n  set host(v) {\n    if (this._url.cannotBeABaseURL) {\n      return;\n    }\n\n    usm.basicURLParse(v, { url: this._url, stateOverride: \"host\" });\n  }\n\n  get hostname() {\n    if (this._url.host === null) {\n      return \"\";\n    }\n\n    return usm.serializeHost(this._url.host);\n  }\n\n  set hostname(v) {\n    if (this._url.cannotBeABaseURL) {\n      return;\n    }\n\n    usm.basicURLParse(v, { url: this._url, stateOverride: \"hostname\" });\n  }\n\n  get port() {\n    if (this._url.port === null) {\n      return \"\";\n    }\n\n    return usm.serializeInteger(this._url.port);\n  }\n\n  set port(v) {\n    if (usm.cannotHaveAUsernamePasswordPort(this._url)) {\n      return;\n    }\n\n    if (v === \"\") {\n      this._url.port = null;\n    } else {\n      usm.basicURLParse(v, { url: this._url, stateOverride: \"port\" });\n    }\n  }\n\n  get pathname() {\n    if (this._url.cannotBeABaseURL) {\n      return this._url.path[0];\n    }\n\n    if (this._url.path.length === 0) {\n      return \"\";\n    }\n\n    return \"/\" + this._url.path.join(\"/\");\n  }\n\n  set pathname(v) {\n    if (this._url.cannotBeABaseURL) {\n      return;\n    }\n\n    this._url.path = [];\n    usm.basicURLParse(v, { url: this._url, stateOverride: \"path start\" });\n  }\n\n  get search() {\n    if (this._url.query === null || this._url.query === \"\") {\n      return \"\";\n    }\n\n    return \"?\" + this._url.query;\n  }\n\n  set search(v) {\n    // TODO: query stuff\n\n    const url = this._url;\n\n    if (v === \"\") {\n      url.query = null;\n      return;\n    }\n\n    const input = v[0] === \"?\" ? v.substring(1) : v;\n    url.query = \"\";\n    usm.basicURLParse(input, { url, stateOverride: \"query\" });\n  }\n\n  get hash() {\n    if (this._url.fragment === null || this._url.fragment === \"\") {\n      return \"\";\n    }\n\n    return \"#\" + this._url.fragment;\n  }\n\n  set hash(v) {\n    if (v === \"\") {\n      this._url.fragment = null;\n      return;\n    }\n\n    const input = v[0] === \"#\" ? v.substring(1) : v;\n    this._url.fragment = \"\";\n    usm.basicURLParse(input, { url: this._url, stateOverride: \"fragment\" });\n  }\n\n  toJSON() {\n    return this.href;\n  }\n};\n","\"use strict\";\n\nconst conversions = require(\"webidl-conversions\");\nconst utils = require(\"./utils.js\");\nconst Impl = require(\".//URL-impl.js\");\n\nconst impl = utils.implSymbol;\n\nfunction URL(url) {\n  if (!this || this[impl] || !(this instanceof URL)) {\n    throw new TypeError(\"Failed to construct 'URL': Please use the 'new' operator, this DOM object constructor cannot be called as a function.\");\n  }\n  if (arguments.length < 1) {\n    throw new TypeError(\"Failed to construct 'URL': 1 argument required, but only \" + arguments.length + \" present.\");\n  }\n  const args = [];\n  for (let i = 0; i < arguments.length && i < 2; ++i) {\n    args[i] = arguments[i];\n  }\n  args[0] = conversions[\"USVString\"](args[0]);\n  if (args[1] !== undefined) {\n  args[1] = conversions[\"USVString\"](args[1]);\n  }\n\n  module.exports.setup(this, args);\n}\n\nURL.prototype.toJSON = function toJSON() {\n  if (!this || !module.exports.is(this)) {\n    throw new TypeError(\"Illegal invocation\");\n  }\n  const args = [];\n  for (let i = 0; i < arguments.length && i < 0; ++i) {\n    args[i] = arguments[i];\n  }\n  return this[impl].toJSON.apply(this[impl], args);\n};\nObject.defineProperty(URL.prototype, \"href\", {\n  get() {\n    return this[impl].href;\n  },\n  set(V) {\n    V = conversions[\"USVString\"](V);\n    this[impl].href = V;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nURL.prototype.toString = function () {\n  if (!this || !module.exports.is(this)) {\n    throw new TypeError(\"Illegal invocation\");\n  }\n  return this.href;\n};\n\nObject.defineProperty(URL.prototype, \"origin\", {\n  get() {\n    return this[impl].origin;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nObject.defineProperty(URL.prototype, \"protocol\", {\n  get() {\n    return this[impl].protocol;\n  },\n  set(V) {\n    V = conversions[\"USVString\"](V);\n    this[impl].protocol = V;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nObject.defineProperty(URL.prototype, \"username\", {\n  get() {\n    return this[impl].username;\n  },\n  set(V) {\n    V = conversions[\"USVString\"](V);\n    this[impl].username = V;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nObject.defineProperty(URL.prototype, \"password\", {\n  get() {\n    return this[impl].password;\n  },\n  set(V) {\n    V = conversions[\"USVString\"](V);\n    this[impl].password = V;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nObject.defineProperty(URL.prototype, \"host\", {\n  get() {\n    return this[impl].host;\n  },\n  set(V) {\n    V = conversions[\"USVString\"](V);\n    this[impl].host = V;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nObject.defineProperty(URL.prototype, \"hostname\", {\n  get() {\n    return this[impl].hostname;\n  },\n  set(V) {\n    V = conversions[\"USVString\"](V);\n    this[impl].hostname = V;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nObject.defineProperty(URL.prototype, \"port\", {\n  get() {\n    return this[impl].port;\n  },\n  set(V) {\n    V = conversions[\"USVString\"](V);\n    this[impl].port = V;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nObject.defineProperty(URL.prototype, \"pathname\", {\n  get() {\n    return this[impl].pathname;\n  },\n  set(V) {\n    V = conversions[\"USVString\"](V);\n    this[impl].pathname = V;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nObject.defineProperty(URL.prototype, \"search\", {\n  get() {\n    return this[impl].search;\n  },\n  set(V) {\n    V = conversions[\"USVString\"](V);\n    this[impl].search = V;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nObject.defineProperty(URL.prototype, \"hash\", {\n  get() {\n    return this[impl].hash;\n  },\n  set(V) {\n    V = conversions[\"USVString\"](V);\n    this[impl].hash = V;\n  },\n  enumerable: true,\n  configurable: true\n});\n\n\nmodule.exports = {\n  is(obj) {\n    return !!obj && obj[impl] instanceof Impl.implementation;\n  },\n  create(constructorArgs, privateData) {\n    let obj = Object.create(URL.prototype);\n    this.setup(obj, constructorArgs, privateData);\n    return obj;\n  },\n  setup(obj, constructorArgs, privateData) {\n    if (!privateData) privateData = {};\n    privateData.wrapper = obj;\n\n    obj[impl] = new Impl.implementation(constructorArgs, privateData);\n    obj[impl][utils.wrapperSymbol] = obj;\n  },\n  interface: URL,\n  expose: {\n    Window: { URL: URL },\n    Worker: { URL: URL }\n  }\n};\n\n","\"use strict\";\n\nexports.URL = require(\"./URL\").interface;\nexports.serializeURL = require(\"./url-state-machine\").serializeURL;\nexports.serializeURLOrigin = require(\"./url-state-machine\").serializeURLOrigin;\nexports.basicURLParse = require(\"./url-state-machine\").basicURLParse;\nexports.setTheUsername = require(\"./url-state-machine\").setTheUsername;\nexports.setThePassword = require(\"./url-state-machine\").setThePassword;\nexports.serializeHost = require(\"./url-state-machine\").serializeHost;\nexports.serializeInteger = require(\"./url-state-machine\").serializeInteger;\nexports.parseURL = require(\"./url-state-machine\").parseURL;\n","import Stream from 'stream';\nimport http from 'http';\nimport Url from 'url';\nimport whatwgUrl from 'whatwg-url';\nimport https from 'https';\nimport zlib from 'zlib';\n\n// Based on https://github.com/tmpvar/jsdom/blob/aa85b2abf07766ff7bf5c1f6daafb3726f2f2db5/lib/jsdom/living/blob.js\n\n// fix for \"Readable\" isn't a named export issue\nconst Readable = Stream.Readable;\n\nconst BUFFER = Symbol('buffer');\nconst TYPE = Symbol('type');\n\nclass Blob {\n\tconstructor() {\n\t\tthis[TYPE] = '';\n\n\t\tconst blobParts = arguments[0];\n\t\tconst options = arguments[1];\n\n\t\tconst buffers = [];\n\t\tlet size = 0;\n\n\t\tif (blobParts) {\n\t\t\tconst a = blobParts;\n\t\t\tconst length = Number(a.length);\n\t\t\tfor (let i = 0; i < length; i++) {\n\t\t\t\tconst element = a[i];\n\t\t\t\tlet buffer;\n\t\t\t\tif (element instanceof Buffer) {\n\t\t\t\t\tbuffer = element;\n\t\t\t\t} else if (ArrayBuffer.isView(element)) {\n\t\t\t\t\tbuffer = Buffer.from(element.buffer, element.byteOffset, element.byteLength);\n\t\t\t\t} else if (element instanceof ArrayBuffer) {\n\t\t\t\t\tbuffer = Buffer.from(element);\n\t\t\t\t} else if (element instanceof Blob) {\n\t\t\t\t\tbuffer = element[BUFFER];\n\t\t\t\t} else {\n\t\t\t\t\tbuffer = Buffer.from(typeof element === 'string' ? element : String(element));\n\t\t\t\t}\n\t\t\t\tsize += buffer.length;\n\t\t\t\tbuffers.push(buffer);\n\t\t\t}\n\t\t}\n\n\t\tthis[BUFFER] = Buffer.concat(buffers);\n\n\t\tlet type = options && options.type !== undefined && String(options.type).toLowerCase();\n\t\tif (type && !/[^\\u0020-\\u007E]/.test(type)) {\n\t\t\tthis[TYPE] = type;\n\t\t}\n\t}\n\tget size() {\n\t\treturn this[BUFFER].length;\n\t}\n\tget type() {\n\t\treturn this[TYPE];\n\t}\n\ttext() {\n\t\treturn Promise.resolve(this[BUFFER].toString());\n\t}\n\tarrayBuffer() {\n\t\tconst buf = this[BUFFER];\n\t\tconst ab = buf.buffer.slice(buf.byteOffset, buf.byteOffset + buf.byteLength);\n\t\treturn Promise.resolve(ab);\n\t}\n\tstream() {\n\t\tconst readable = new Readable();\n\t\treadable._read = function () {};\n\t\treadable.push(this[BUFFER]);\n\t\treadable.push(null);\n\t\treturn readable;\n\t}\n\ttoString() {\n\t\treturn '[object Blob]';\n\t}\n\tslice() {\n\t\tconst size = this.size;\n\n\t\tconst start = arguments[0];\n\t\tconst end = arguments[1];\n\t\tlet relativeStart, relativeEnd;\n\t\tif (start === undefined) {\n\t\t\trelativeStart = 0;\n\t\t} else if (start < 0) {\n\t\t\trelativeStart = Math.max(size + start, 0);\n\t\t} else {\n\t\t\trelativeStart = Math.min(start, size);\n\t\t}\n\t\tif (end === undefined) {\n\t\t\trelativeEnd = size;\n\t\t} else if (end < 0) {\n\t\t\trelativeEnd = Math.max(size + end, 0);\n\t\t} else {\n\t\t\trelativeEnd = Math.min(end, size);\n\t\t}\n\t\tconst span = Math.max(relativeEnd - relativeStart, 0);\n\n\t\tconst buffer = this[BUFFER];\n\t\tconst slicedBuffer = buffer.slice(relativeStart, relativeStart + span);\n\t\tconst blob = new Blob([], { type: arguments[2] });\n\t\tblob[BUFFER] = slicedBuffer;\n\t\treturn blob;\n\t}\n}\n\nObject.defineProperties(Blob.prototype, {\n\tsize: { enumerable: true },\n\ttype: { enumerable: true },\n\tslice: { enumerable: true }\n});\n\nObject.defineProperty(Blob.prototype, Symbol.toStringTag, {\n\tvalue: 'Blob',\n\twritable: false,\n\tenumerable: false,\n\tconfigurable: true\n});\n\n/**\n * fetch-error.js\n *\n * FetchError interface for operational errors\n */\n\n/**\n * Create FetchError instance\n *\n * @param   String      message      Error message for human\n * @param   String      type         Error type for machine\n * @param   String      systemError  For Node.js system error\n * @return  FetchError\n */\nfunction FetchError(message, type, systemError) {\n  Error.call(this, message);\n\n  this.message = message;\n  this.type = type;\n\n  // when err.type is `system`, err.code contains system error code\n  if (systemError) {\n    this.code = this.errno = systemError.code;\n  }\n\n  // hide custom error implementation details from end-users\n  Error.captureStackTrace(this, this.constructor);\n}\n\nFetchError.prototype = Object.create(Error.prototype);\nFetchError.prototype.constructor = FetchError;\nFetchError.prototype.name = 'FetchError';\n\nlet convert;\ntry {\n\tconvert = require('encoding').convert;\n} catch (e) {}\n\nconst INTERNALS = Symbol('Body internals');\n\n// fix an issue where \"PassThrough\" isn't a named export for node <10\nconst PassThrough = Stream.PassThrough;\n\n/**\n * Body mixin\n *\n * Ref: https://fetch.spec.whatwg.org/#body\n *\n * @param   Stream  body  Readable stream\n * @param   Object  opts  Response options\n * @return  Void\n */\nfunction Body(body) {\n\tvar _this = this;\n\n\tvar _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n\t    _ref$size = _ref.size;\n\n\tlet size = _ref$size === undefined ? 0 : _ref$size;\n\tvar _ref$timeout = _ref.timeout;\n\tlet timeout = _ref$timeout === undefined ? 0 : _ref$timeout;\n\n\tif (body == null) {\n\t\t// body is undefined or null\n\t\tbody = null;\n\t} else if (isURLSearchParams(body)) {\n\t\t// body is a URLSearchParams\n\t\tbody = Buffer.from(body.toString());\n\t} else if (isBlob(body)) ; else if (Buffer.isBuffer(body)) ; else if (Object.prototype.toString.call(body) === '[object ArrayBuffer]') {\n\t\t// body is ArrayBuffer\n\t\tbody = Buffer.from(body);\n\t} else if (ArrayBuffer.isView(body)) {\n\t\t// body is ArrayBufferView\n\t\tbody = Buffer.from(body.buffer, body.byteOffset, body.byteLength);\n\t} else if (body instanceof Stream) ; else {\n\t\t// none of the above\n\t\t// coerce to string then buffer\n\t\tbody = Buffer.from(String(body));\n\t}\n\tthis[INTERNALS] = {\n\t\tbody,\n\t\tdisturbed: false,\n\t\terror: null\n\t};\n\tthis.size = size;\n\tthis.timeout = timeout;\n\n\tif (body instanceof Stream) {\n\t\tbody.on('error', function (err) {\n\t\t\tconst error = err.name === 'AbortError' ? err : new FetchError(`Invalid response body while trying to fetch ${_this.url}: ${err.message}`, 'system', err);\n\t\t\t_this[INTERNALS].error = error;\n\t\t});\n\t}\n}\n\nBody.prototype = {\n\tget body() {\n\t\treturn this[INTERNALS].body;\n\t},\n\n\tget bodyUsed() {\n\t\treturn this[INTERNALS].disturbed;\n\t},\n\n\t/**\n  * Decode response as ArrayBuffer\n  *\n  * @return  Promise\n  */\n\tarrayBuffer() {\n\t\treturn consumeBody.call(this).then(function (buf) {\n\t\t\treturn buf.buffer.slice(buf.byteOffset, buf.byteOffset + buf.byteLength);\n\t\t});\n\t},\n\n\t/**\n  * Return raw response as Blob\n  *\n  * @return Promise\n  */\n\tblob() {\n\t\tlet ct = this.headers && this.headers.get('content-type') || '';\n\t\treturn consumeBody.call(this).then(function (buf) {\n\t\t\treturn Object.assign(\n\t\t\t// Prevent copying\n\t\t\tnew Blob([], {\n\t\t\t\ttype: ct.toLowerCase()\n\t\t\t}), {\n\t\t\t\t[BUFFER]: buf\n\t\t\t});\n\t\t});\n\t},\n\n\t/**\n  * Decode response as json\n  *\n  * @return  Promise\n  */\n\tjson() {\n\t\tvar _this2 = this;\n\n\t\treturn consumeBody.call(this).then(function (buffer) {\n\t\t\ttry {\n\t\t\t\treturn JSON.parse(buffer.toString());\n\t\t\t} catch (err) {\n\t\t\t\treturn Body.Promise.reject(new FetchError(`invalid json response body at ${_this2.url} reason: ${err.message}`, 'invalid-json'));\n\t\t\t}\n\t\t});\n\t},\n\n\t/**\n  * Decode response as text\n  *\n  * @return  Promise\n  */\n\ttext() {\n\t\treturn consumeBody.call(this).then(function (buffer) {\n\t\t\treturn buffer.toString();\n\t\t});\n\t},\n\n\t/**\n  * Decode response as buffer (non-spec api)\n  *\n  * @return  Promise\n  */\n\tbuffer() {\n\t\treturn consumeBody.call(this);\n\t},\n\n\t/**\n  * Decode response as text, while automatically detecting the encoding and\n  * trying to decode to UTF-8 (non-spec api)\n  *\n  * @return  Promise\n  */\n\ttextConverted() {\n\t\tvar _this3 = this;\n\n\t\treturn consumeBody.call(this).then(function (buffer) {\n\t\t\treturn convertBody(buffer, _this3.headers);\n\t\t});\n\t}\n};\n\n// In browsers, all properties are enumerable.\nObject.defineProperties(Body.prototype, {\n\tbody: { enumerable: true },\n\tbodyUsed: { enumerable: true },\n\tarrayBuffer: { enumerable: true },\n\tblob: { enumerable: true },\n\tjson: { enumerable: true },\n\ttext: { enumerable: true }\n});\n\nBody.mixIn = function (proto) {\n\tfor (const name of Object.getOwnPropertyNames(Body.prototype)) {\n\t\t// istanbul ignore else: future proof\n\t\tif (!(name in proto)) {\n\t\t\tconst desc = Object.getOwnPropertyDescriptor(Body.prototype, name);\n\t\t\tObject.defineProperty(proto, name, desc);\n\t\t}\n\t}\n};\n\n/**\n * Consume and convert an entire Body to a Buffer.\n *\n * Ref: https://fetch.spec.whatwg.org/#concept-body-consume-body\n *\n * @return  Promise\n */\nfunction consumeBody() {\n\tvar _this4 = this;\n\n\tif (this[INTERNALS].disturbed) {\n\t\treturn Body.Promise.reject(new TypeError(`body used already for: ${this.url}`));\n\t}\n\n\tthis[INTERNALS].disturbed = true;\n\n\tif (this[INTERNALS].error) {\n\t\treturn Body.Promise.reject(this[INTERNALS].error);\n\t}\n\n\tlet body = this.body;\n\n\t// body is null\n\tif (body === null) {\n\t\treturn Body.Promise.resolve(Buffer.alloc(0));\n\t}\n\n\t// body is blob\n\tif (isBlob(body)) {\n\t\tbody = body.stream();\n\t}\n\n\t// body is buffer\n\tif (Buffer.isBuffer(body)) {\n\t\treturn Body.Promise.resolve(body);\n\t}\n\n\t// istanbul ignore if: should never happen\n\tif (!(body instanceof Stream)) {\n\t\treturn Body.Promise.resolve(Buffer.alloc(0));\n\t}\n\n\t// body is stream\n\t// get ready to actually consume the body\n\tlet accum = [];\n\tlet accumBytes = 0;\n\tlet abort = false;\n\n\treturn new Body.Promise(function (resolve, reject) {\n\t\tlet resTimeout;\n\n\t\t// allow timeout on slow response body\n\t\tif (_this4.timeout) {\n\t\t\tresTimeout = setTimeout(function () {\n\t\t\t\tabort = true;\n\t\t\t\treject(new FetchError(`Response timeout while trying to fetch ${_this4.url} (over ${_this4.timeout}ms)`, 'body-timeout'));\n\t\t\t}, _this4.timeout);\n\t\t}\n\n\t\t// handle stream errors\n\t\tbody.on('error', function (err) {\n\t\t\tif (err.name === 'AbortError') {\n\t\t\t\t// if the request was aborted, reject with this Error\n\t\t\t\tabort = true;\n\t\t\t\treject(err);\n\t\t\t} else {\n\t\t\t\t// other errors, such as incorrect content-encoding\n\t\t\t\treject(new FetchError(`Invalid response body while trying to fetch ${_this4.url}: ${err.message}`, 'system', err));\n\t\t\t}\n\t\t});\n\n\t\tbody.on('data', function (chunk) {\n\t\t\tif (abort || chunk === null) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (_this4.size && accumBytes + chunk.length > _this4.size) {\n\t\t\t\tabort = true;\n\t\t\t\treject(new FetchError(`content size at ${_this4.url} over limit: ${_this4.size}`, 'max-size'));\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\taccumBytes += chunk.length;\n\t\t\taccum.push(chunk);\n\t\t});\n\n\t\tbody.on('end', function () {\n\t\t\tif (abort) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tclearTimeout(resTimeout);\n\n\t\t\ttry {\n\t\t\t\tresolve(Buffer.concat(accum, accumBytes));\n\t\t\t} catch (err) {\n\t\t\t\t// handle streams that have accumulated too much data (issue #414)\n\t\t\t\treject(new FetchError(`Could not create Buffer from response body for ${_this4.url}: ${err.message}`, 'system', err));\n\t\t\t}\n\t\t});\n\t});\n}\n\n/**\n * Detect buffer encoding and convert to target encoding\n * ref: http://www.w3.org/TR/2011/WD-html5-20110113/parsing.html#determining-the-character-encoding\n *\n * @param   Buffer  buffer    Incoming buffer\n * @param   String  encoding  Target encoding\n * @return  String\n */\nfunction convertBody(buffer, headers) {\n\tif (typeof convert !== 'function') {\n\t\tthrow new Error('The package `encoding` must be installed to use the textConverted() function');\n\t}\n\n\tconst ct = headers.get('content-type');\n\tlet charset = 'utf-8';\n\tlet res, str;\n\n\t// header\n\tif (ct) {\n\t\tres = /charset=([^;]*)/i.exec(ct);\n\t}\n\n\t// no charset in content type, peek at response body for at most 1024 bytes\n\tstr = buffer.slice(0, 1024).toString();\n\n\t// html5\n\tif (!res && str) {\n\t\tres = /<meta.+?charset=(['\"])(.+?)\\1/i.exec(str);\n\t}\n\n\t// html4\n\tif (!res && str) {\n\t\tres = /<meta[\\s]+?http-equiv=(['\"])content-type\\1[\\s]+?content=(['\"])(.+?)\\2/i.exec(str);\n\t\tif (!res) {\n\t\t\tres = /<meta[\\s]+?content=(['\"])(.+?)\\1[\\s]+?http-equiv=(['\"])content-type\\3/i.exec(str);\n\t\t\tif (res) {\n\t\t\t\tres.pop(); // drop last quote\n\t\t\t}\n\t\t}\n\n\t\tif (res) {\n\t\t\tres = /charset=(.*)/i.exec(res.pop());\n\t\t}\n\t}\n\n\t// xml\n\tif (!res && str) {\n\t\tres = /<\\?xml.+?encoding=(['\"])(.+?)\\1/i.exec(str);\n\t}\n\n\t// found charset\n\tif (res) {\n\t\tcharset = res.pop();\n\n\t\t// prevent decode issues when sites use incorrect encoding\n\t\t// ref: https://hsivonen.fi/encoding-menu/\n\t\tif (charset === 'gb2312' || charset === 'gbk') {\n\t\t\tcharset = 'gb18030';\n\t\t}\n\t}\n\n\t// turn raw buffers into a single utf-8 buffer\n\treturn convert(buffer, 'UTF-8', charset).toString();\n}\n\n/**\n * Detect a URLSearchParams object\n * ref: https://github.com/bitinn/node-fetch/issues/296#issuecomment-307598143\n *\n * @param   Object  obj     Object to detect by type or brand\n * @return  String\n */\nfunction isURLSearchParams(obj) {\n\t// Duck-typing as a necessary condition.\n\tif (typeof obj !== 'object' || typeof obj.append !== 'function' || typeof obj.delete !== 'function' || typeof obj.get !== 'function' || typeof obj.getAll !== 'function' || typeof obj.has !== 'function' || typeof obj.set !== 'function') {\n\t\treturn false;\n\t}\n\n\t// Brand-checking and more duck-typing as optional condition.\n\treturn obj.constructor.name === 'URLSearchParams' || Object.prototype.toString.call(obj) === '[object URLSearchParams]' || typeof obj.sort === 'function';\n}\n\n/**\n * Check if `obj` is a W3C `Blob` object (which `File` inherits from)\n * @param  {*} obj\n * @return {boolean}\n */\nfunction isBlob(obj) {\n\treturn typeof obj === 'object' && typeof obj.arrayBuffer === 'function' && typeof obj.type === 'string' && typeof obj.stream === 'function' && typeof obj.constructor === 'function' && typeof obj.constructor.name === 'string' && /^(Blob|File)$/.test(obj.constructor.name) && /^(Blob|File)$/.test(obj[Symbol.toStringTag]);\n}\n\n/**\n * Clone body given Res/Req instance\n *\n * @param   Mixed  instance  Response or Request instance\n * @return  Mixed\n */\nfunction clone(instance) {\n\tlet p1, p2;\n\tlet body = instance.body;\n\n\t// don't allow cloning a used body\n\tif (instance.bodyUsed) {\n\t\tthrow new Error('cannot clone body after it is used');\n\t}\n\n\t// check that body is a stream and not form-data object\n\t// note: we can't clone the form-data object without having it as a dependency\n\tif (body instanceof Stream && typeof body.getBoundary !== 'function') {\n\t\t// tee instance body\n\t\tp1 = new PassThrough();\n\t\tp2 = new PassThrough();\n\t\tbody.pipe(p1);\n\t\tbody.pipe(p2);\n\t\t// set instance body to teed body and return the other teed body\n\t\tinstance[INTERNALS].body = p1;\n\t\tbody = p2;\n\t}\n\n\treturn body;\n}\n\n/**\n * Performs the operation \"extract a `Content-Type` value from |object|\" as\n * specified in the specification:\n * https://fetch.spec.whatwg.org/#concept-bodyinit-extract\n *\n * This function assumes that instance.body is present.\n *\n * @param   Mixed  instance  Any options.body input\n */\nfunction extractContentType(body) {\n\tif (body === null) {\n\t\t// body is null\n\t\treturn null;\n\t} else if (typeof body === 'string') {\n\t\t// body is string\n\t\treturn 'text/plain;charset=UTF-8';\n\t} else if (isURLSearchParams(body)) {\n\t\t// body is a URLSearchParams\n\t\treturn 'application/x-www-form-urlencoded;charset=UTF-8';\n\t} else if (isBlob(body)) {\n\t\t// body is blob\n\t\treturn body.type || null;\n\t} else if (Buffer.isBuffer(body)) {\n\t\t// body is buffer\n\t\treturn null;\n\t} else if (Object.prototype.toString.call(body) === '[object ArrayBuffer]') {\n\t\t// body is ArrayBuffer\n\t\treturn null;\n\t} else if (ArrayBuffer.isView(body)) {\n\t\t// body is ArrayBufferView\n\t\treturn null;\n\t} else if (typeof body.getBoundary === 'function') {\n\t\t// detect form data input from form-data module\n\t\treturn `multipart/form-data;boundary=${body.getBoundary()}`;\n\t} else if (body instanceof Stream) {\n\t\t// body is stream\n\t\t// can't really do much about this\n\t\treturn null;\n\t} else {\n\t\t// Body constructor defaults other things to string\n\t\treturn 'text/plain;charset=UTF-8';\n\t}\n}\n\n/**\n * The Fetch Standard treats this as if \"total bytes\" is a property on the body.\n * For us, we have to explicitly get it with a function.\n *\n * ref: https://fetch.spec.whatwg.org/#concept-body-total-bytes\n *\n * @param   Body    instance   Instance of Body\n * @return  Number?            Number of bytes, or null if not possible\n */\nfunction getTotalBytes(instance) {\n\tconst body = instance.body;\n\n\n\tif (body === null) {\n\t\t// body is null\n\t\treturn 0;\n\t} else if (isBlob(body)) {\n\t\treturn body.size;\n\t} else if (Buffer.isBuffer(body)) {\n\t\t// body is buffer\n\t\treturn body.length;\n\t} else if (body && typeof body.getLengthSync === 'function') {\n\t\t// detect form data input from form-data module\n\t\tif (body._lengthRetrievers && body._lengthRetrievers.length == 0 || // 1.x\n\t\tbody.hasKnownLength && body.hasKnownLength()) {\n\t\t\t// 2.x\n\t\t\treturn body.getLengthSync();\n\t\t}\n\t\treturn null;\n\t} else {\n\t\t// body is stream\n\t\treturn null;\n\t}\n}\n\n/**\n * Write a Body to a Node.js WritableStream (e.g. http.Request) object.\n *\n * @param   Body    instance   Instance of Body\n * @return  Void\n */\nfunction writeToStream(dest, instance) {\n\tconst body = instance.body;\n\n\n\tif (body === null) {\n\t\t// body is null\n\t\tdest.end();\n\t} else if (isBlob(body)) {\n\t\tbody.stream().pipe(dest);\n\t} else if (Buffer.isBuffer(body)) {\n\t\t// body is buffer\n\t\tdest.write(body);\n\t\tdest.end();\n\t} else {\n\t\t// body is stream\n\t\tbody.pipe(dest);\n\t}\n}\n\n// expose Promise\nBody.Promise = global.Promise;\n\n/**\n * headers.js\n *\n * Headers class offers convenient helpers\n */\n\nconst invalidTokenRegex = /[^\\^_`a-zA-Z\\-0-9!#$%&'*+.|~]/;\nconst invalidHeaderCharRegex = /[^\\t\\x20-\\x7e\\x80-\\xff]/;\n\nfunction validateName(name) {\n\tname = `${name}`;\n\tif (invalidTokenRegex.test(name) || name === '') {\n\t\tthrow new TypeError(`${name} is not a legal HTTP header name`);\n\t}\n}\n\nfunction validateValue(value) {\n\tvalue = `${value}`;\n\tif (invalidHeaderCharRegex.test(value)) {\n\t\tthrow new TypeError(`${value} is not a legal HTTP header value`);\n\t}\n}\n\n/**\n * Find the key in the map object given a header name.\n *\n * Returns undefined if not found.\n *\n * @param   String  name  Header name\n * @return  String|Undefined\n */\nfunction find(map, name) {\n\tname = name.toLowerCase();\n\tfor (const key in map) {\n\t\tif (key.toLowerCase() === name) {\n\t\t\treturn key;\n\t\t}\n\t}\n\treturn undefined;\n}\n\nconst MAP = Symbol('map');\nclass Headers {\n\t/**\n  * Headers class\n  *\n  * @param   Object  headers  Response headers\n  * @return  Void\n  */\n\tconstructor() {\n\t\tlet init = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : undefined;\n\n\t\tthis[MAP] = Object.create(null);\n\n\t\tif (init instanceof Headers) {\n\t\t\tconst rawHeaders = init.raw();\n\t\t\tconst headerNames = Object.keys(rawHeaders);\n\n\t\t\tfor (const headerName of headerNames) {\n\t\t\t\tfor (const value of rawHeaders[headerName]) {\n\t\t\t\t\tthis.append(headerName, value);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn;\n\t\t}\n\n\t\t// We don't worry about converting prop to ByteString here as append()\n\t\t// will handle it.\n\t\tif (init == null) ; else if (typeof init === 'object') {\n\t\t\tconst method = init[Symbol.iterator];\n\t\t\tif (method != null) {\n\t\t\t\tif (typeof method !== 'function') {\n\t\t\t\t\tthrow new TypeError('Header pairs must be iterable');\n\t\t\t\t}\n\n\t\t\t\t// sequence<sequence<ByteString>>\n\t\t\t\t// Note: per spec we have to first exhaust the lists then process them\n\t\t\t\tconst pairs = [];\n\t\t\t\tfor (const pair of init) {\n\t\t\t\t\tif (typeof pair !== 'object' || typeof pair[Symbol.iterator] !== 'function') {\n\t\t\t\t\t\tthrow new TypeError('Each header pair must be iterable');\n\t\t\t\t\t}\n\t\t\t\t\tpairs.push(Array.from(pair));\n\t\t\t\t}\n\n\t\t\t\tfor (const pair of pairs) {\n\t\t\t\t\tif (pair.length !== 2) {\n\t\t\t\t\t\tthrow new TypeError('Each header pair must be a name/value tuple');\n\t\t\t\t\t}\n\t\t\t\t\tthis.append(pair[0], pair[1]);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// record<ByteString, ByteString>\n\t\t\t\tfor (const key of Object.keys(init)) {\n\t\t\t\t\tconst value = init[key];\n\t\t\t\t\tthis.append(key, value);\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tthrow new TypeError('Provided initializer must be an object');\n\t\t}\n\t}\n\n\t/**\n  * Return combined header value given name\n  *\n  * @param   String  name  Header name\n  * @return  Mixed\n  */\n\tget(name) {\n\t\tname = `${name}`;\n\t\tvalidateName(name);\n\t\tconst key = find(this[MAP], name);\n\t\tif (key === undefined) {\n\t\t\treturn null;\n\t\t}\n\n\t\treturn this[MAP][key].join(', ');\n\t}\n\n\t/**\n  * Iterate over all headers\n  *\n  * @param   Function  callback  Executed for each item with parameters (value, name, thisArg)\n  * @param   Boolean   thisArg   `this` context for callback function\n  * @return  Void\n  */\n\tforEach(callback) {\n\t\tlet thisArg = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : undefined;\n\n\t\tlet pairs = getHeaders(this);\n\t\tlet i = 0;\n\t\twhile (i < pairs.length) {\n\t\t\tvar _pairs$i = pairs[i];\n\t\t\tconst name = _pairs$i[0],\n\t\t\t      value = _pairs$i[1];\n\n\t\t\tcallback.call(thisArg, value, name, this);\n\t\t\tpairs = getHeaders(this);\n\t\t\ti++;\n\t\t}\n\t}\n\n\t/**\n  * Overwrite header values given name\n  *\n  * @param   String  name   Header name\n  * @param   String  value  Header value\n  * @return  Void\n  */\n\tset(name, value) {\n\t\tname = `${name}`;\n\t\tvalue = `${value}`;\n\t\tvalidateName(name);\n\t\tvalidateValue(value);\n\t\tconst key = find(this[MAP], name);\n\t\tthis[MAP][key !== undefined ? key : name] = [value];\n\t}\n\n\t/**\n  * Append a value onto existing header\n  *\n  * @param   String  name   Header name\n  * @param   String  value  Header value\n  * @return  Void\n  */\n\tappend(name, value) {\n\t\tname = `${name}`;\n\t\tvalue = `${value}`;\n\t\tvalidateName(name);\n\t\tvalidateValue(value);\n\t\tconst key = find(this[MAP], name);\n\t\tif (key !== undefined) {\n\t\t\tthis[MAP][key].push(value);\n\t\t} else {\n\t\t\tthis[MAP][name] = [value];\n\t\t}\n\t}\n\n\t/**\n  * Check for header name existence\n  *\n  * @param   String   name  Header name\n  * @return  Boolean\n  */\n\thas(name) {\n\t\tname = `${name}`;\n\t\tvalidateName(name);\n\t\treturn find(this[MAP], name) !== undefined;\n\t}\n\n\t/**\n  * Delete all header values given name\n  *\n  * @param   String  name  Header name\n  * @return  Void\n  */\n\tdelete(name) {\n\t\tname = `${name}`;\n\t\tvalidateName(name);\n\t\tconst key = find(this[MAP], name);\n\t\tif (key !== undefined) {\n\t\t\tdelete this[MAP][key];\n\t\t}\n\t}\n\n\t/**\n  * Return raw headers (non-spec api)\n  *\n  * @return  Object\n  */\n\traw() {\n\t\treturn this[MAP];\n\t}\n\n\t/**\n  * Get an iterator on keys.\n  *\n  * @return  Iterator\n  */\n\tkeys() {\n\t\treturn createHeadersIterator(this, 'key');\n\t}\n\n\t/**\n  * Get an iterator on values.\n  *\n  * @return  Iterator\n  */\n\tvalues() {\n\t\treturn createHeadersIterator(this, 'value');\n\t}\n\n\t/**\n  * Get an iterator on entries.\n  *\n  * This is the default iterator of the Headers object.\n  *\n  * @return  Iterator\n  */\n\t[Symbol.iterator]() {\n\t\treturn createHeadersIterator(this, 'key+value');\n\t}\n}\nHeaders.prototype.entries = Headers.prototype[Symbol.iterator];\n\nObject.defineProperty(Headers.prototype, Symbol.toStringTag, {\n\tvalue: 'Headers',\n\twritable: false,\n\tenumerable: false,\n\tconfigurable: true\n});\n\nObject.defineProperties(Headers.prototype, {\n\tget: { enumerable: true },\n\tforEach: { enumerable: true },\n\tset: { enumerable: true },\n\tappend: { enumerable: true },\n\thas: { enumerable: true },\n\tdelete: { enumerable: true },\n\tkeys: { enumerable: true },\n\tvalues: { enumerable: true },\n\tentries: { enumerable: true }\n});\n\nfunction getHeaders(headers) {\n\tlet kind = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'key+value';\n\n\tconst keys = Object.keys(headers[MAP]).sort();\n\treturn keys.map(kind === 'key' ? function (k) {\n\t\treturn k.toLowerCase();\n\t} : kind === 'value' ? function (k) {\n\t\treturn headers[MAP][k].join(', ');\n\t} : function (k) {\n\t\treturn [k.toLowerCase(), headers[MAP][k].join(', ')];\n\t});\n}\n\nconst INTERNAL = Symbol('internal');\n\nfunction createHeadersIterator(target, kind) {\n\tconst iterator = Object.create(HeadersIteratorPrototype);\n\titerator[INTERNAL] = {\n\t\ttarget,\n\t\tkind,\n\t\tindex: 0\n\t};\n\treturn iterator;\n}\n\nconst HeadersIteratorPrototype = Object.setPrototypeOf({\n\tnext() {\n\t\t// istanbul ignore if\n\t\tif (!this || Object.getPrototypeOf(this) !== HeadersIteratorPrototype) {\n\t\t\tthrow new TypeError('Value of `this` is not a HeadersIterator');\n\t\t}\n\n\t\tvar _INTERNAL = this[INTERNAL];\n\t\tconst target = _INTERNAL.target,\n\t\t      kind = _INTERNAL.kind,\n\t\t      index = _INTERNAL.index;\n\n\t\tconst values = getHeaders(target, kind);\n\t\tconst len = values.length;\n\t\tif (index >= len) {\n\t\t\treturn {\n\t\t\t\tvalue: undefined,\n\t\t\t\tdone: true\n\t\t\t};\n\t\t}\n\n\t\tthis[INTERNAL].index = index + 1;\n\n\t\treturn {\n\t\t\tvalue: values[index],\n\t\t\tdone: false\n\t\t};\n\t}\n}, Object.getPrototypeOf(Object.getPrototypeOf([][Symbol.iterator]())));\n\nObject.defineProperty(HeadersIteratorPrototype, Symbol.toStringTag, {\n\tvalue: 'HeadersIterator',\n\twritable: false,\n\tenumerable: false,\n\tconfigurable: true\n});\n\n/**\n * Export the Headers object in a form that Node.js can consume.\n *\n * @param   Headers  headers\n * @return  Object\n */\nfunction exportNodeCompatibleHeaders(headers) {\n\tconst obj = Object.assign({ __proto__: null }, headers[MAP]);\n\n\t// http.request() only supports string as Host header. This hack makes\n\t// specifying custom Host header possible.\n\tconst hostHeaderKey = find(headers[MAP], 'Host');\n\tif (hostHeaderKey !== undefined) {\n\t\tobj[hostHeaderKey] = obj[hostHeaderKey][0];\n\t}\n\n\treturn obj;\n}\n\n/**\n * Create a Headers object from an object of headers, ignoring those that do\n * not conform to HTTP grammar productions.\n *\n * @param   Object  obj  Object of headers\n * @return  Headers\n */\nfunction createHeadersLenient(obj) {\n\tconst headers = new Headers();\n\tfor (const name of Object.keys(obj)) {\n\t\tif (invalidTokenRegex.test(name)) {\n\t\t\tcontinue;\n\t\t}\n\t\tif (Array.isArray(obj[name])) {\n\t\t\tfor (const val of obj[name]) {\n\t\t\t\tif (invalidHeaderCharRegex.test(val)) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tif (headers[MAP][name] === undefined) {\n\t\t\t\t\theaders[MAP][name] = [val];\n\t\t\t\t} else {\n\t\t\t\t\theaders[MAP][name].push(val);\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (!invalidHeaderCharRegex.test(obj[name])) {\n\t\t\theaders[MAP][name] = [obj[name]];\n\t\t}\n\t}\n\treturn headers;\n}\n\nconst INTERNALS$1 = Symbol('Response internals');\n\n// fix an issue where \"STATUS_CODES\" aren't a named export for node <10\nconst STATUS_CODES = http.STATUS_CODES;\n\n/**\n * Response class\n *\n * @param   Stream  body  Readable stream\n * @param   Object  opts  Response options\n * @return  Void\n */\nclass Response {\n\tconstructor() {\n\t\tlet body = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\t\tlet opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n\t\tBody.call(this, body, opts);\n\n\t\tconst status = opts.status || 200;\n\t\tconst headers = new Headers(opts.headers);\n\n\t\tif (body != null && !headers.has('Content-Type')) {\n\t\t\tconst contentType = extractContentType(body);\n\t\t\tif (contentType) {\n\t\t\t\theaders.append('Content-Type', contentType);\n\t\t\t}\n\t\t}\n\n\t\tthis[INTERNALS$1] = {\n\t\t\turl: opts.url,\n\t\t\tstatus,\n\t\t\tstatusText: opts.statusText || STATUS_CODES[status],\n\t\t\theaders,\n\t\t\tcounter: opts.counter\n\t\t};\n\t}\n\n\tget url() {\n\t\treturn this[INTERNALS$1].url || '';\n\t}\n\n\tget status() {\n\t\treturn this[INTERNALS$1].status;\n\t}\n\n\t/**\n  * Convenience property representing if the request ended normally\n  */\n\tget ok() {\n\t\treturn this[INTERNALS$1].status >= 200 && this[INTERNALS$1].status < 300;\n\t}\n\n\tget redirected() {\n\t\treturn this[INTERNALS$1].counter > 0;\n\t}\n\n\tget statusText() {\n\t\treturn this[INTERNALS$1].statusText;\n\t}\n\n\tget headers() {\n\t\treturn this[INTERNALS$1].headers;\n\t}\n\n\t/**\n  * Clone this response\n  *\n  * @return  Response\n  */\n\tclone() {\n\t\treturn new Response(clone(this), {\n\t\t\turl: this.url,\n\t\t\tstatus: this.status,\n\t\t\tstatusText: this.statusText,\n\t\t\theaders: this.headers,\n\t\t\tok: this.ok,\n\t\t\tredirected: this.redirected\n\t\t});\n\t}\n}\n\nBody.mixIn(Response.prototype);\n\nObject.defineProperties(Response.prototype, {\n\turl: { enumerable: true },\n\tstatus: { enumerable: true },\n\tok: { enumerable: true },\n\tredirected: { enumerable: true },\n\tstatusText: { enumerable: true },\n\theaders: { enumerable: true },\n\tclone: { enumerable: true }\n});\n\nObject.defineProperty(Response.prototype, Symbol.toStringTag, {\n\tvalue: 'Response',\n\twritable: false,\n\tenumerable: false,\n\tconfigurable: true\n});\n\nconst INTERNALS$2 = Symbol('Request internals');\nconst URL = Url.URL || whatwgUrl.URL;\n\n// fix an issue where \"format\", \"parse\" aren't a named export for node <10\nconst parse_url = Url.parse;\nconst format_url = Url.format;\n\n/**\n * Wrapper around `new URL` to handle arbitrary URLs\n *\n * @param  {string} urlStr\n * @return {void}\n */\nfunction parseURL(urlStr) {\n\t/*\n \tCheck whether the URL is absolute or not\n \t\tScheme: https://tools.ietf.org/html/rfc3986#section-3.1\n \tAbsolute URL: https://tools.ietf.org/html/rfc3986#section-4.3\n */\n\tif (/^[a-zA-Z][a-zA-Z\\d+\\-.]*:/.exec(urlStr)) {\n\t\turlStr = new URL(urlStr).toString();\n\t}\n\n\t// Fallback to old implementation for arbitrary URLs\n\treturn parse_url(urlStr);\n}\n\nconst streamDestructionSupported = 'destroy' in Stream.Readable.prototype;\n\n/**\n * Check if a value is an instance of Request.\n *\n * @param   Mixed   input\n * @return  Boolean\n */\nfunction isRequest(input) {\n\treturn typeof input === 'object' && typeof input[INTERNALS$2] === 'object';\n}\n\nfunction isAbortSignal(signal) {\n\tconst proto = signal && typeof signal === 'object' && Object.getPrototypeOf(signal);\n\treturn !!(proto && proto.constructor.name === 'AbortSignal');\n}\n\n/**\n * Request class\n *\n * @param   Mixed   input  Url or Request instance\n * @param   Object  init   Custom options\n * @return  Void\n */\nclass Request {\n\tconstructor(input) {\n\t\tlet init = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n\t\tlet parsedURL;\n\n\t\t// normalize input\n\t\tif (!isRequest(input)) {\n\t\t\tif (input && input.href) {\n\t\t\t\t// in order to support Node.js' Url objects; though WHATWG's URL objects\n\t\t\t\t// will fall into this branch also (since their `toString()` will return\n\t\t\t\t// `href` property anyway)\n\t\t\t\tparsedURL = parseURL(input.href);\n\t\t\t} else {\n\t\t\t\t// coerce input to a string before attempting to parse\n\t\t\t\tparsedURL = parseURL(`${input}`);\n\t\t\t}\n\t\t\tinput = {};\n\t\t} else {\n\t\t\tparsedURL = parseURL(input.url);\n\t\t}\n\n\t\tlet method = init.method || input.method || 'GET';\n\t\tmethod = method.toUpperCase();\n\n\t\tif ((init.body != null || isRequest(input) && input.body !== null) && (method === 'GET' || method === 'HEAD')) {\n\t\t\tthrow new TypeError('Request with GET/HEAD method cannot have body');\n\t\t}\n\n\t\tlet inputBody = init.body != null ? init.body : isRequest(input) && input.body !== null ? clone(input) : null;\n\n\t\tBody.call(this, inputBody, {\n\t\t\ttimeout: init.timeout || input.timeout || 0,\n\t\t\tsize: init.size || input.size || 0\n\t\t});\n\n\t\tconst headers = new Headers(init.headers || input.headers || {});\n\n\t\tif (inputBody != null && !headers.has('Content-Type')) {\n\t\t\tconst contentType = extractContentType(inputBody);\n\t\t\tif (contentType) {\n\t\t\t\theaders.append('Content-Type', contentType);\n\t\t\t}\n\t\t}\n\n\t\tlet signal = isRequest(input) ? input.signal : null;\n\t\tif ('signal' in init) signal = init.signal;\n\n\t\tif (signal != null && !isAbortSignal(signal)) {\n\t\t\tthrow new TypeError('Expected signal to be an instanceof AbortSignal');\n\t\t}\n\n\t\tthis[INTERNALS$2] = {\n\t\t\tmethod,\n\t\t\tredirect: init.redirect || input.redirect || 'follow',\n\t\t\theaders,\n\t\t\tparsedURL,\n\t\t\tsignal\n\t\t};\n\n\t\t// node-fetch-only options\n\t\tthis.follow = init.follow !== undefined ? init.follow : input.follow !== undefined ? input.follow : 20;\n\t\tthis.compress = init.compress !== undefined ? init.compress : input.compress !== undefined ? input.compress : true;\n\t\tthis.counter = init.counter || input.counter || 0;\n\t\tthis.agent = init.agent || input.agent;\n\t}\n\n\tget method() {\n\t\treturn this[INTERNALS$2].method;\n\t}\n\n\tget url() {\n\t\treturn format_url(this[INTERNALS$2].parsedURL);\n\t}\n\n\tget headers() {\n\t\treturn this[INTERNALS$2].headers;\n\t}\n\n\tget redirect() {\n\t\treturn this[INTERNALS$2].redirect;\n\t}\n\n\tget signal() {\n\t\treturn this[INTERNALS$2].signal;\n\t}\n\n\t/**\n  * Clone this request\n  *\n  * @return  Request\n  */\n\tclone() {\n\t\treturn new Request(this);\n\t}\n}\n\nBody.mixIn(Request.prototype);\n\nObject.defineProperty(Request.prototype, Symbol.toStringTag, {\n\tvalue: 'Request',\n\twritable: false,\n\tenumerable: false,\n\tconfigurable: true\n});\n\nObject.defineProperties(Request.prototype, {\n\tmethod: { enumerable: true },\n\turl: { enumerable: true },\n\theaders: { enumerable: true },\n\tredirect: { enumerable: true },\n\tclone: { enumerable: true },\n\tsignal: { enumerable: true }\n});\n\n/**\n * Convert a Request to Node.js http request options.\n *\n * @param   Request  A Request instance\n * @return  Object   The options object to be passed to http.request\n */\nfunction getNodeRequestOptions(request) {\n\tconst parsedURL = request[INTERNALS$2].parsedURL;\n\tconst headers = new Headers(request[INTERNALS$2].headers);\n\n\t// fetch step 1.3\n\tif (!headers.has('Accept')) {\n\t\theaders.set('Accept', '*/*');\n\t}\n\n\t// Basic fetch\n\tif (!parsedURL.protocol || !parsedURL.hostname) {\n\t\tthrow new TypeError('Only absolute URLs are supported');\n\t}\n\n\tif (!/^https?:$/.test(parsedURL.protocol)) {\n\t\tthrow new TypeError('Only HTTP(S) protocols are supported');\n\t}\n\n\tif (request.signal && request.body instanceof Stream.Readable && !streamDestructionSupported) {\n\t\tthrow new Error('Cancellation of streamed requests with AbortSignal is not supported in node < 8');\n\t}\n\n\t// HTTP-network-or-cache fetch steps 2.4-2.7\n\tlet contentLengthValue = null;\n\tif (request.body == null && /^(POST|PUT)$/i.test(request.method)) {\n\t\tcontentLengthValue = '0';\n\t}\n\tif (request.body != null) {\n\t\tconst totalBytes = getTotalBytes(request);\n\t\tif (typeof totalBytes === 'number') {\n\t\t\tcontentLengthValue = String(totalBytes);\n\t\t}\n\t}\n\tif (contentLengthValue) {\n\t\theaders.set('Content-Length', contentLengthValue);\n\t}\n\n\t// HTTP-network-or-cache fetch step 2.11\n\tif (!headers.has('User-Agent')) {\n\t\theaders.set('User-Agent', 'node-fetch/1.0 (+https://github.com/bitinn/node-fetch)');\n\t}\n\n\t// HTTP-network-or-cache fetch step 2.15\n\tif (request.compress && !headers.has('Accept-Encoding')) {\n\t\theaders.set('Accept-Encoding', 'gzip,deflate');\n\t}\n\n\tlet agent = request.agent;\n\tif (typeof agent === 'function') {\n\t\tagent = agent(parsedURL);\n\t}\n\n\tif (!headers.has('Connection') && !agent) {\n\t\theaders.set('Connection', 'close');\n\t}\n\n\t// HTTP-network fetch step 4.2\n\t// chunked encoding is handled by Node.js\n\n\treturn Object.assign({}, parsedURL, {\n\t\tmethod: request.method,\n\t\theaders: exportNodeCompatibleHeaders(headers),\n\t\tagent\n\t});\n}\n\n/**\n * abort-error.js\n *\n * AbortError interface for cancelled requests\n */\n\n/**\n * Create AbortError instance\n *\n * @param   String      message      Error message for human\n * @return  AbortError\n */\nfunction AbortError(message) {\n  Error.call(this, message);\n\n  this.type = 'aborted';\n  this.message = message;\n\n  // hide custom error implementation details from end-users\n  Error.captureStackTrace(this, this.constructor);\n}\n\nAbortError.prototype = Object.create(Error.prototype);\nAbortError.prototype.constructor = AbortError;\nAbortError.prototype.name = 'AbortError';\n\nconst URL$1 = Url.URL || whatwgUrl.URL;\n\n// fix an issue where \"PassThrough\", \"resolve\" aren't a named export for node <10\nconst PassThrough$1 = Stream.PassThrough;\n\nconst isDomainOrSubdomain = function isDomainOrSubdomain(destination, original) {\n\tconst orig = new URL$1(original).hostname;\n\tconst dest = new URL$1(destination).hostname;\n\n\treturn orig === dest || orig[orig.length - dest.length - 1] === '.' && orig.endsWith(dest);\n};\n\n/**\n * isSameProtocol reports whether the two provided URLs use the same protocol.\n *\n * Both domains must already be in canonical form.\n * @param {string|URL} original\n * @param {string|URL} destination\n */\nconst isSameProtocol = function isSameProtocol(destination, original) {\n\tconst orig = new URL$1(original).protocol;\n\tconst dest = new URL$1(destination).protocol;\n\n\treturn orig === dest;\n};\n\n/**\n * Fetch function\n *\n * @param   Mixed    url   Absolute url or Request instance\n * @param   Object   opts  Fetch options\n * @return  Promise\n */\nfunction fetch(url, opts) {\n\n\t// allow custom promise\n\tif (!fetch.Promise) {\n\t\tthrow new Error('native promise missing, set fetch.Promise to your favorite alternative');\n\t}\n\n\tBody.Promise = fetch.Promise;\n\n\t// wrap http.request into fetch\n\treturn new fetch.Promise(function (resolve, reject) {\n\t\t// build request object\n\t\tconst request = new Request(url, opts);\n\t\tconst options = getNodeRequestOptions(request);\n\n\t\tconst send = (options.protocol === 'https:' ? https : http).request;\n\t\tconst signal = request.signal;\n\n\t\tlet response = null;\n\n\t\tconst abort = function abort() {\n\t\t\tlet error = new AbortError('The user aborted a request.');\n\t\t\treject(error);\n\t\t\tif (request.body && request.body instanceof Stream.Readable) {\n\t\t\t\tdestroyStream(request.body, error);\n\t\t\t}\n\t\t\tif (!response || !response.body) return;\n\t\t\tresponse.body.emit('error', error);\n\t\t};\n\n\t\tif (signal && signal.aborted) {\n\t\t\tabort();\n\t\t\treturn;\n\t\t}\n\n\t\tconst abortAndFinalize = function abortAndFinalize() {\n\t\t\tabort();\n\t\t\tfinalize();\n\t\t};\n\n\t\t// send request\n\t\tconst req = send(options);\n\t\tlet reqTimeout;\n\n\t\tif (signal) {\n\t\t\tsignal.addEventListener('abort', abortAndFinalize);\n\t\t}\n\n\t\tfunction finalize() {\n\t\t\treq.abort();\n\t\t\tif (signal) signal.removeEventListener('abort', abortAndFinalize);\n\t\t\tclearTimeout(reqTimeout);\n\t\t}\n\n\t\tif (request.timeout) {\n\t\t\treq.once('socket', function (socket) {\n\t\t\t\treqTimeout = setTimeout(function () {\n\t\t\t\t\treject(new FetchError(`network timeout at: ${request.url}`, 'request-timeout'));\n\t\t\t\t\tfinalize();\n\t\t\t\t}, request.timeout);\n\t\t\t});\n\t\t}\n\n\t\treq.on('error', function (err) {\n\t\t\treject(new FetchError(`request to ${request.url} failed, reason: ${err.message}`, 'system', err));\n\n\t\t\tif (response && response.body) {\n\t\t\t\tdestroyStream(response.body, err);\n\t\t\t}\n\n\t\t\tfinalize();\n\t\t});\n\n\t\tfixResponseChunkedTransferBadEnding(req, function (err) {\n\t\t\tif (signal && signal.aborted) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tdestroyStream(response.body, err);\n\t\t});\n\n\t\t/* c8 ignore next 18 */\n\t\tif (parseInt(process.version.substring(1)) < 14) {\n\t\t\t// Before Node.js 14, pipeline() does not fully support async iterators and does not always\n\t\t\t// properly handle when the socket close/end events are out of order.\n\t\t\treq.on('socket', function (s) {\n\t\t\t\ts.addListener('close', function (hadError) {\n\t\t\t\t\t// if a data listener is still present we didn't end cleanly\n\t\t\t\t\tconst hasDataListener = s.listenerCount('data') > 0;\n\n\t\t\t\t\t// if end happened before close but the socket didn't emit an error, do it now\n\t\t\t\t\tif (response && hasDataListener && !hadError && !(signal && signal.aborted)) {\n\t\t\t\t\t\tconst err = new Error('Premature close');\n\t\t\t\t\t\terr.code = 'ERR_STREAM_PREMATURE_CLOSE';\n\t\t\t\t\t\tresponse.body.emit('error', err);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\n\t\treq.on('response', function (res) {\n\t\t\tclearTimeout(reqTimeout);\n\n\t\t\tconst headers = createHeadersLenient(res.headers);\n\n\t\t\t// HTTP fetch step 5\n\t\t\tif (fetch.isRedirect(res.statusCode)) {\n\t\t\t\t// HTTP fetch step 5.2\n\t\t\t\tconst location = headers.get('Location');\n\n\t\t\t\t// HTTP fetch step 5.3\n\t\t\t\tlet locationURL = null;\n\t\t\t\ttry {\n\t\t\t\t\tlocationURL = location === null ? null : new URL$1(location, request.url).toString();\n\t\t\t\t} catch (err) {\n\t\t\t\t\t// error here can only be invalid URL in Location: header\n\t\t\t\t\t// do not throw when options.redirect == manual\n\t\t\t\t\t// let the user extract the errorneous redirect URL\n\t\t\t\t\tif (request.redirect !== 'manual') {\n\t\t\t\t\t\treject(new FetchError(`uri requested responds with an invalid redirect URL: ${location}`, 'invalid-redirect'));\n\t\t\t\t\t\tfinalize();\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// HTTP fetch step 5.5\n\t\t\t\tswitch (request.redirect) {\n\t\t\t\t\tcase 'error':\n\t\t\t\t\t\treject(new FetchError(`uri requested responds with a redirect, redirect mode is set to error: ${request.url}`, 'no-redirect'));\n\t\t\t\t\t\tfinalize();\n\t\t\t\t\t\treturn;\n\t\t\t\t\tcase 'manual':\n\t\t\t\t\t\t// node-fetch-specific step: make manual redirect a bit easier to use by setting the Location header value to the resolved URL.\n\t\t\t\t\t\tif (locationURL !== null) {\n\t\t\t\t\t\t\t// handle corrupted header\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\theaders.set('Location', locationURL);\n\t\t\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\t\t\t// istanbul ignore next: nodejs server prevent invalid response headers, we can't test this through normal request\n\t\t\t\t\t\t\t\treject(err);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'follow':\n\t\t\t\t\t\t// HTTP-redirect fetch step 2\n\t\t\t\t\t\tif (locationURL === null) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// HTTP-redirect fetch step 5\n\t\t\t\t\t\tif (request.counter >= request.follow) {\n\t\t\t\t\t\t\treject(new FetchError(`maximum redirect reached at: ${request.url}`, 'max-redirect'));\n\t\t\t\t\t\t\tfinalize();\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// HTTP-redirect fetch step 6 (counter increment)\n\t\t\t\t\t\t// Create a new Request object.\n\t\t\t\t\t\tconst requestOpts = {\n\t\t\t\t\t\t\theaders: new Headers(request.headers),\n\t\t\t\t\t\t\tfollow: request.follow,\n\t\t\t\t\t\t\tcounter: request.counter + 1,\n\t\t\t\t\t\t\tagent: request.agent,\n\t\t\t\t\t\t\tcompress: request.compress,\n\t\t\t\t\t\t\tmethod: request.method,\n\t\t\t\t\t\t\tbody: request.body,\n\t\t\t\t\t\t\tsignal: request.signal,\n\t\t\t\t\t\t\ttimeout: request.timeout,\n\t\t\t\t\t\t\tsize: request.size\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tif (!isDomainOrSubdomain(request.url, locationURL) || !isSameProtocol(request.url, locationURL)) {\n\t\t\t\t\t\t\tfor (const name of ['authorization', 'www-authenticate', 'cookie', 'cookie2']) {\n\t\t\t\t\t\t\t\trequestOpts.headers.delete(name);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// HTTP-redirect fetch step 9\n\t\t\t\t\t\tif (res.statusCode !== 303 && request.body && getTotalBytes(request) === null) {\n\t\t\t\t\t\t\treject(new FetchError('Cannot follow redirect with body being a readable stream', 'unsupported-redirect'));\n\t\t\t\t\t\t\tfinalize();\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// HTTP-redirect fetch step 11\n\t\t\t\t\t\tif (res.statusCode === 303 || (res.statusCode === 301 || res.statusCode === 302) && request.method === 'POST') {\n\t\t\t\t\t\t\trequestOpts.method = 'GET';\n\t\t\t\t\t\t\trequestOpts.body = undefined;\n\t\t\t\t\t\t\trequestOpts.headers.delete('content-length');\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// HTTP-redirect fetch step 15\n\t\t\t\t\t\tresolve(fetch(new Request(locationURL, requestOpts)));\n\t\t\t\t\t\tfinalize();\n\t\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// prepare response\n\t\t\tres.once('end', function () {\n\t\t\t\tif (signal) signal.removeEventListener('abort', abortAndFinalize);\n\t\t\t});\n\t\t\tlet body = res.pipe(new PassThrough$1());\n\n\t\t\tconst response_options = {\n\t\t\t\turl: request.url,\n\t\t\t\tstatus: res.statusCode,\n\t\t\t\tstatusText: res.statusMessage,\n\t\t\t\theaders: headers,\n\t\t\t\tsize: request.size,\n\t\t\t\ttimeout: request.timeout,\n\t\t\t\tcounter: request.counter\n\t\t\t};\n\n\t\t\t// HTTP-network fetch step 12.1.1.3\n\t\t\tconst codings = headers.get('Content-Encoding');\n\n\t\t\t// HTTP-network fetch step 12.1.1.4: handle content codings\n\n\t\t\t// in following scenarios we ignore compression support\n\t\t\t// 1. compression support is disabled\n\t\t\t// 2. HEAD request\n\t\t\t// 3. no Content-Encoding header\n\t\t\t// 4. no content response (204)\n\t\t\t// 5. content not modified response (304)\n\t\t\tif (!request.compress || request.method === 'HEAD' || codings === null || res.statusCode === 204 || res.statusCode === 304) {\n\t\t\t\tresponse = new Response(body, response_options);\n\t\t\t\tresolve(response);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// For Node v6+\n\t\t\t// Be less strict when decoding compressed responses, since sometimes\n\t\t\t// servers send slightly invalid responses that are still accepted\n\t\t\t// by common browsers.\n\t\t\t// Always using Z_SYNC_FLUSH is what cURL does.\n\t\t\tconst zlibOptions = {\n\t\t\t\tflush: zlib.Z_SYNC_FLUSH,\n\t\t\t\tfinishFlush: zlib.Z_SYNC_FLUSH\n\t\t\t};\n\n\t\t\t// for gzip\n\t\t\tif (codings == 'gzip' || codings == 'x-gzip') {\n\t\t\t\tbody = body.pipe(zlib.createGunzip(zlibOptions));\n\t\t\t\tresponse = new Response(body, response_options);\n\t\t\t\tresolve(response);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// for deflate\n\t\t\tif (codings == 'deflate' || codings == 'x-deflate') {\n\t\t\t\t// handle the infamous raw deflate response from old servers\n\t\t\t\t// a hack for old IIS and Apache servers\n\t\t\t\tconst raw = res.pipe(new PassThrough$1());\n\t\t\t\traw.once('data', function (chunk) {\n\t\t\t\t\t// see http://stackoverflow.com/questions/37519828\n\t\t\t\t\tif ((chunk[0] & 0x0F) === 0x08) {\n\t\t\t\t\t\tbody = body.pipe(zlib.createInflate());\n\t\t\t\t\t} else {\n\t\t\t\t\t\tbody = body.pipe(zlib.createInflateRaw());\n\t\t\t\t\t}\n\t\t\t\t\tresponse = new Response(body, response_options);\n\t\t\t\t\tresolve(response);\n\t\t\t\t});\n\t\t\t\traw.on('end', function () {\n\t\t\t\t\t// some old IIS servers return zero-length OK deflate responses, so 'data' is never emitted.\n\t\t\t\t\tif (!response) {\n\t\t\t\t\t\tresponse = new Response(body, response_options);\n\t\t\t\t\t\tresolve(response);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// for br\n\t\t\tif (codings == 'br' && typeof zlib.createBrotliDecompress === 'function') {\n\t\t\t\tbody = body.pipe(zlib.createBrotliDecompress());\n\t\t\t\tresponse = new Response(body, response_options);\n\t\t\t\tresolve(response);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// otherwise, use response as-is\n\t\t\tresponse = new Response(body, response_options);\n\t\t\tresolve(response);\n\t\t});\n\n\t\twriteToStream(req, request);\n\t});\n}\nfunction fixResponseChunkedTransferBadEnding(request, errorCallback) {\n\tlet socket;\n\n\trequest.on('socket', function (s) {\n\t\tsocket = s;\n\t});\n\n\trequest.on('response', function (response) {\n\t\tconst headers = response.headers;\n\n\t\tif (headers['transfer-encoding'] === 'chunked' && !headers['content-length']) {\n\t\t\tresponse.once('close', function (hadError) {\n\t\t\t\t// if a data listener is still present we didn't end cleanly\n\t\t\t\tconst hasDataListener = socket.listenerCount('data') > 0;\n\n\t\t\t\tif (hasDataListener && !hadError) {\n\t\t\t\t\tconst err = new Error('Premature close');\n\t\t\t\t\terr.code = 'ERR_STREAM_PREMATURE_CLOSE';\n\t\t\t\t\terrorCallback(err);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t});\n}\n\nfunction destroyStream(stream, err) {\n\tif (stream.destroy) {\n\t\tstream.destroy(err);\n\t} else {\n\t\t// node < 8\n\t\tstream.emit('error', err);\n\t\tstream.end();\n\t}\n}\n\n/**\n * Redirect code matching\n *\n * @param   Number   code  Status code\n * @return  Boolean\n */\nfetch.isRedirect = function (code) {\n\treturn code === 301 || code === 302 || code === 303 || code === 307 || code === 308;\n};\n\n// expose Promise\nfetch.Promise = global.Promise;\n\nexport default fetch;\nexport { Headers, Request, Response, FetchError };\n","const Stream = require('stream')\n\nfunction serializeHeaders (headers) {\n  return headers.raw()\n}\n\nfunction deserializeHeaders (fetch, old = {}) {\n  const headers = new fetch.Headers()\n  for (const name in old) {\n    for (const value of old[name]) {\n      headers.append(name, value)\n    }\n  }\n  return headers\n}\n\nfunction serializeRequest (request) {\n  return [\n    request.url,\n    {\n      method: request.method,\n      headers: request.headers,\n      body: request.body,\n      mode: request.mode,\n      credentials: request.credentials,\n      cache: request.cache,\n      redirect: request.redirect,\n      referrer: request.referrer,\n      referrerPolicy: request.referrerPolicy,\n      integrity: request.integrity,\n      keepalive: request.keepalive,\n      // signal: request.signal,\n\n      // node-fetch props\n      follow: request.follow,\n      timeout: request.timeout,\n      compress: request.compress,\n      size: request.size\n      // agent: request.agent\n    }\n  ]\n}\n\nfunction deserializeRequest (fetch, resource, init) {\n  return new fetch.Request(resource, {\n    ...init,\n    body: init.body ? Buffer.from(init.body) : undefined,\n    headers: deserializeHeaders(fetch, init.headers)\n  })\n}\n\nfunction serializeResponse (response) {\n  return {\n    url: response.url,\n    headers: response.headers.raw(),\n    status: response.status,\n    statusText: response.statusText,\n    counter: response.redirected ? 1 : 0 // could be more than one, but no way of telling\n  }\n}\n\nfunction deserializeResponse (fetch, body, init, bodyError) {\n  const buffer = Buffer.from(body, 'base64')\n\n  return new fetch.Response(\n    body ? createStream(buffer) : createStream(null),\n    {\n      ...init,\n      headers: deserializeHeaders(fetch, init.headers)\n    },\n    {\n      buffer,\n      bodyError\n    }\n  )\n}\n\nconst errors = {\n  TypeError\n}\n\nfunction serializeError ({ constructor, message, type, code }) {\n  return [\n    constructor.name,\n    [message, type, { code }]\n  ]\n}\n\nfunction deserializeError (fetch, name, init) {\n  if (name in errors) {\n    return new errors[name](...init)\n  } else {\n    return new fetch.FetchError(...init)\n  }\n}\n\nfunction parseBodyType (body) {\n  if (body == null) {\n    return 'Null'\n  } else if (body.constructor.name === 'URLSearchParams') {\n    return 'URLSearchParams'\n  } else if (Buffer.isBuffer(body)) {\n    return 'Buffer'\n  } else if (Object.prototype.toString.call(body) === '[object ArrayBuffer]') {\n    return 'ArrayBuffer'\n  } else if (ArrayBuffer.isView(body)) {\n    return 'ArrayBufferView'\n  } else if (body instanceof Stream) {\n    return 'Stream'\n  } else {\n    return 'String'\n  }\n}\n\nfunction parseBody (body, type = parseBodyType(body)) {\n  switch (type) {\n    case 'Null': return null\n    case 'URLSearchParams': return Buffer.from(body.toString())\n    case 'Buffer': return body\n    case 'ArrayBuffer': return Buffer.from(body)\n    case 'ArrayBufferView': return Buffer.from(body.buffer, body.byteOffset, body.byteLength)\n    case 'String': return Buffer.from(String(body))\n    default: throw new TypeError(`sync-fetch does not support bodies of type: ${type}`)\n  }\n}\n\nfunction createStream (buffer) {\n  return new Stream.Transform({\n    read () {\n      this.push(buffer)\n      this.push(null)\n    }\n  })\n}\n\nmodule.exports = {\n  serializeHeaders,\n  deserializeHeaders,\n  serializeRequest,\n  deserializeRequest,\n  serializeResponse,\n  deserializeResponse,\n  serializeError,\n  deserializeError,\n\n  parseBodyType,\n  parseBody,\n  createStream\n}\n","const exec = require('child_process').execFileSync\nconst path = require('path')\nconst { URL } = require('url')\nconst _fetch = require('node-fetch')\nconst shared = require('./shared')\n\nfunction fetch (resource, init) {\n  const request = []\n\n  if (resource instanceof fetch.Request) {\n    request.push(...shared.serializeRequest(resource))\n  } else if (resource instanceof URL) {\n    request.push(resource.href, {})\n  } else {\n    request.push(resource, {})\n  }\n\n  Object.assign(request[1], init)\n\n  request[1].headers = new _fetch.Headers(request[1].headers)\n\n  if (request[1].body) {\n    const contentType = extractContentType(request)\n    if (contentType && !request[1].headers.get('content-type')) { request[1].headers.append('content-type', contentType) }\n    request[1].body = shared.parseBody(init.body).toString()\n  }\n\n  request[1].headers = shared.serializeHeaders(request[1].headers)\n\n  // TODO credentials\n\n  const response = JSON.parse(sendMessage(request))\n  if ('headers' in response[1]) {\n    return shared.deserializeResponse(fetch, ...response)\n  } else {\n    throw shared.deserializeError(fetch, ...response)\n  }\n}\n\nfunction sendMessage (message) {\n  return exec(process.execPath, [path.join(__dirname, 'worker.js')], {\n    windowsHide: true,\n    maxBuffer: Infinity,\n    input: JSON.stringify(message),\n    shell: false\n  }).toString()\n}\n\nfunction extractContentType (input) {\n  const request = new _fetch.Request(...input)\n  return request.headers.get('content-type') || undefined\n}\n\nconst _body = Symbol('bodyBuffer')\nconst _bodyError = Symbol('bodyError')\n\nclass SyncRequest extends _fetch.Request {\n  constructor (resource, init = {}) {\n    const buffer = shared.parseBody(init.body)\n\n    super(resource, init)\n    defineBuffer(this, buffer)\n  }\n\n  clone () {\n    checkBody(this)\n    return new SyncRequest(...shared.serializeRequest(this))\n  }\n}\n\nclass SyncResponse extends _fetch.Response {\n  constructor (body, init, options = {}) {\n    const {\n      buffer = shared.parseBody(body),\n      bodyError\n    } = options\n\n    super(body, init)\n    defineBuffer(this, buffer)\n    if (bodyError) defineBodyError(this, bodyError)\n  }\n\n  clone () {\n    checkBody(this)\n    const buffer = Buffer.from(this[_body])\n    return new SyncResponse(\n      shared.createStream(buffer),\n      shared.serializeResponse(this),\n      {\n        buffer,\n        bodyError: this[_bodyError]\n      }\n    )\n  }\n}\n\nclass Body {\n  static mixin (proto) {\n    for (const name of Object.getOwnPropertyNames(Body.prototype)) {\n      if (name === 'constructor') { continue }\n      const desc = Object.getOwnPropertyDescriptor(Body.prototype, name)\n      Object.defineProperty(proto, name, {\n        ...desc,\n        enumerable: true\n      })\n    }\n  }\n\n  arrayBuffer () {\n    checkBody(this)\n    const buf = consumeBody(this)\n    return buf.buffer.slice(buf.byteOffset, buf.byteOffset + buf.byteLength)\n  }\n\n  text () {\n    checkBody(this)\n    return consumeBody(this).toString()\n  }\n\n  json () {\n    checkBody(this)\n    try {\n      return JSON.parse(consumeBody(this).toString())\n    } catch (err) {\n      throw new fetch.FetchError(`invalid json response body at ${this.url} reason: ${err.message}`, 'invalid-json')\n    }\n  }\n\n  buffer () {\n    checkBody(this)\n    return Buffer.from(consumeBody(this))\n  }\n\n  textConverted () {\n    throw new fetch.FetchError('textConverted not implemented')\n  }\n}\n\nfunction _super (self, method) {\n  return Object.getPrototypeOf(Object.getPrototypeOf(self))[method].bind(self)\n}\n\nfunction checkBody (body) {\n  if (body[_bodyError]) {\n    throw body[_bodyError]\n  }\n  if (body.bodyUsed) {\n    throw new TypeError(`body used already for: ${body.url}`)\n  }\n}\n\nfunction consumeBody (body) {\n  _super(body, 'buffer')().catch(error => console.error(error))\n  return body[_body] || Buffer.alloc(0)\n}\n\nfunction defineBuffer (body, buffer) {\n  Object.defineProperty(body, _body, {\n    value: buffer,\n    enumerable: false\n  })\n}\n\nfunction defineBodyError (body, error) {\n  Object.defineProperty(body, _bodyError, {\n    value: shared.deserializeError(fetch, ...error),\n    enumerable: false\n  })\n}\n\nBody.mixin(SyncRequest.prototype)\nBody.mixin(SyncResponse.prototype)\nObject.defineProperties(SyncRequest.prototype, { clone: { enumerable: true } })\nObject.defineProperties(SyncResponse.prototype, { clone: { enumerable: true } })\n\nfetch.Headers = _fetch.Headers\nfetch.FetchError = _fetch.FetchError\nfetch.Request = SyncRequest\nfetch.Response = SyncResponse\nmodule.exports = fetch\n","'use strict';\n\nvar fetch = require('node-fetch');\n\nfunction wrapFetchForNode(fetch) {\n  // Support schemaless URIs on the server for parity with the browser.\n  // https://github.com/matthew-andrews/isomorphic-fetch/pull/10\n  return function (u, options) {\n    if (typeof u === 'string' && u.slice(0, 2) === '//') {\n      return fetch('https:' + u, options);\n    }\n\n    return fetch(u, options);\n  };\n}\n\nmodule.exports = function (context) {\n  // Support webpack module import weirdness.\n  var fetchFn = fetch.default ? fetch.default : fetch;\n\n  // This modifies the global `node-fetch` object, which isn't great, since\n  // different callers to `fetch-ponyfill` which pass a different Promise\n  // implementation would each expect to have their implementation used. But,\n  // given the way `node-fetch` is implemented, this is the only way to make\n  // it work at all.\n  if (context && context.Promise) {\n    fetchFn.Promise = context.Promise;\n  }\n\n  return {\n    fetch: wrapFetchForNode(fetchFn),\n    Headers: fetch.Headers,\n    Request: fetch.Request,\n    Response: fetch.Response\n  };\n};\n","//@ts-nocheck\nimport syncFetch from 'sync-fetch';\nimport fetchPolyfill from 'fetch-ponyfill';\nimport logger from '../logger.js';\n// import pkg from '../../package.json';\nconst {\n  fetch,\n  Headers\n} = fetchPolyfill();\nconst corsEnabled = typeof location !== 'undefined' && typeof document !== 'undefined';\nlet userAgent = `Citation.js/0.65`;\nfunction normaliseHeaders(headers) {\n  const result = {};\n  const entries = headers instanceof Headers || headers instanceof syncFetch.Headers ? Array.from(headers) : Object.entries(headers);\n  for (const [name, header] of entries) {\n    result[name.toLowerCase()] = header.toString();\n  }\n  return result;\n}\nfunction parseOpts(opts = {}) {\n  const reqOpts = {\n    headers: {\n      accept: '*/*'\n    },\n    method: 'GET',\n    checkContentType: opts.checkContentType\n  };\n  if (userAgent && !corsEnabled) {\n    reqOpts.headers['user-agent'] = userAgent;\n  }\n  if (opts.body) {\n    reqOpts.method = 'POST';\n    const isJson = typeof opts.body !== 'string';\n    reqOpts.body = isJson ? JSON.stringify(opts.body) : opts.body;\n    reqOpts.headers['content-type'] = isJson ? 'application/json' : 'text/plain';\n  }\n  if (opts.headers) {\n    Object.assign(reqOpts.headers, normaliseHeaders(opts.headers));\n  }\n  return reqOpts;\n}\nfunction sameType(request, response) {\n  if (!request.accept || request.accept === '*/*' || !response['content-type']) {\n    return true;\n  }\n  const [a, b] = response['content-type'].split(';')[0].trim().split('/');\n  return request.accept.split(',').map(type => type.split(';')[0].trim().split('/')).some(([c, d]) => (c === a || c === '*') && (d === b || d === '*'));\n}\nfunction checkResponse(response, opts) {\n  const {\n    status,\n    headers\n  } = response;\n  let error;\n  if (status >= 400) {\n    error = new Error(`Server responded with status code ${status}`);\n  } else if (opts.checkContentType === true && !sameType(opts.headers, normaliseHeaders(headers))) {\n    error = new Error(`Server responded with content-type ${headers.get('content-type')}`);\n  }\n  if (error) {\n    error.status = status;\n    error.headers = headers;\n    error.body = response.body;\n    throw error;\n  }\n  return response;\n}\nexport function fetchFile(url, opts) {\n  const reqOpts = parseOpts(opts);\n  logger.http('[core]', reqOpts.method, url, reqOpts);\n  const response = checkResponse(syncFetch(url, reqOpts), reqOpts);\n  return response.text();\n}\nexport async function fetchFileAsync(url, opts) {\n  const reqOpts = parseOpts(opts);\n  logger.http('[core]', reqOpts.method, url, reqOpts);\n  return fetch(url, reqOpts).then(response => checkResponse(response, reqOpts)).then(response => response.text());\n}\nexport function setUserAgent(newUserAgent) {\n  userAgent = newUserAgent;\n}\nexport default fetchFile;","function fetchId(list, prefix) {\n  let id;\n  while (id === undefined || list.includes(id)) {\n    id = `${prefix}${Math.random().toString().slice(2)}`;\n  }\n  return id;\n}\nexport default fetchId;","class Register {\n  constructor(data = {}) {\n    this.data = data;\n  }\n  set(key, value) {\n    this.data[key] = value;\n    return this;\n  }\n  add(...args) {\n    return this.set(...args);\n  }\n  delete(key) {\n    delete this.data[key];\n    return this;\n  }\n  remove(...args) {\n    return this.delete(...args);\n  }\n  get(key) {\n    return this.data[key];\n  }\n  has(key) {\n    return Object.prototype.hasOwnProperty.call(this.data, key);\n  }\n  list() {\n    return Object.keys(this.data);\n  }\n}\nexport default Register;","//@ts-nocheck\nimport { deepCopy } from './deepCopy.js';\nclass Grammar {\n  constructor(rules, state) {\n    this.rules = rules;\n    this.defaultState = state;\n    this.mainRule = Object.keys(rules)[0];\n    this.log = [];\n  }\n  parse(iterator, mainRule) {\n    this.lexer = iterator;\n    this.token = this.lexer.next();\n    this.state = deepCopy(this.defaultState);\n    this.log = [];\n    return this.consumeRule(mainRule || this.mainRule);\n  }\n  matchEndOfFile() {\n    return !this.token;\n  }\n  matchToken(type) {\n    return this.token && type === this.token.type;\n  }\n  consumeToken(type, optional) {\n    const token = this.token;\n    if (!type || token && token.type === type) {\n      this.token = this.lexer.next();\n      return token;\n    } else if (optional) {\n      return undefined;\n    } else {\n      const got = token ? `\"${token.type}\"` : 'EOF';\n      const error = new SyntaxError(this.lexer.formatError(token, `expected \"${type}\", got ${got}`));\n      error.message += ` (${this.log.join('->')})`;\n      throw error;\n    }\n  }\n  consumeRule(rule) {\n    this.log.push(rule);\n    const result = this.rules[rule].call(this);\n    this.log.pop();\n    return result;\n  }\n}\nexport { Grammar };","//@ts-nocheck\nfunction createConditionEval(condition) {\n  return function conditionEval(input) {\n    if (typeof condition === 'boolean') {\n      return condition;\n    }\n    return Object.keys(condition).every(prop => {\n      const value = condition[prop];\n      if (value === true) {\n        return prop in input;\n      } else if (value === false) {\n        return !(prop in input);\n      } else if (typeof value === 'function') {\n        return value(input[prop]);\n      } else if (Array.isArray(value)) {\n        return value.includes(input[prop]);\n      } else {\n        return input[prop] === value;\n      }\n    });\n  };\n}\nfunction parsePropStatement(prop, toSource) {\n  let inputProp;\n  let outputProp;\n  let convert;\n  let condition;\n  if (typeof prop === 'string') {\n    inputProp = outputProp = prop;\n  } else if (prop) {\n    inputProp = toSource ? prop.target : prop.source;\n    outputProp = toSource ? prop.source : prop.target;\n    if (prop.convert) {\n      convert = toSource ? prop.convert.toSource : prop.convert.toTarget;\n    }\n    if (prop.when) {\n      condition = toSource ? prop.when.target : prop.when.source;\n      if (condition != null) {\n        condition = createConditionEval(condition);\n      }\n    }\n  } else {\n    return null;\n  }\n  inputProp = [].concat(inputProp).filter(Boolean);\n  outputProp = [].concat(outputProp).filter(Boolean);\n  return {\n    inputProp,\n    outputProp,\n    convert,\n    condition\n  };\n}\nfunction createConverter(props, toSource) {\n  toSource = toSource === Translator.CONVERT_TO_SOURCE;\n  props = props.map(prop => parsePropStatement(prop, toSource)).filter(Boolean);\n  return function converter(input) {\n    const output = {};\n    for (const {\n      inputProp,\n      outputProp,\n      convert,\n      condition\n    } of props) {\n      if (outputProp.length === 0) {\n        continue;\n      } else if (condition && !condition(input)) {\n        continue;\n      } else if (inputProp.length !== 0 && inputProp.every(prop => !(prop in input))) {\n        continue;\n      }\n      let outputData = inputProp.map(prop => input[prop]);\n      if (convert) {\n        try {\n          const converted = convert.apply(input, outputData);\n          outputData = outputProp.length === 1 ? [converted] : converted;\n        } catch (cause) {\n          throw new Error(`Failed to convert ${inputProp} to ${outputProp}`, {\n            cause\n          });\n        }\n      }\n      outputProp.forEach((prop, index) => {\n        const value = outputData[index];\n        if (value !== undefined) {\n          output[prop] = value;\n        }\n      });\n    }\n    return output;\n  };\n}\nclass Translator {\n  constructor(props) {\n    this.convertToSource = createConverter(props, Translator.CONVERT_TO_SOURCE);\n    this.convertToTarget = createConverter(props, Translator.CONVERT_TO_TARGET);\n  }\n}\nTranslator.CONVERT_TO_SOURCE = Symbol('convert to source');\nTranslator.CONVERT_TO_TARGET = Symbol('convert to target');\nexport { Translator };","//@ts-nocheck\nimport { deepCopy, upgradeCsl } from '../../util/index.js';\nimport logger from '../../logger.js';\nimport { get as getTypeInfo } from './register.js';\nimport { type as parseType } from './type.js';\nimport { data as parseData, dataAsync as parseDataAsync } from './data.js';\nimport { applyGraph, removeGraph } from './graph.js';\nfunction prepareParseGraph(graph) {\n  return graph.reduce((array, next) => {\n    const last = array[array.length - 1];\n    if (last && last.type === next.type) {\n      last.count = last.count + 1 || 2;\n    } else {\n      array.push(next);\n    }\n    return array;\n  }, []).map(element => (element.count > 1 ? element.count + 'x ' : '') + element.type).join(' -> ');\n}\nclass ChainParser {\n  constructor(input, options = {}) {\n    this.options = Object.assign({\n      generateGraph: true,\n      forceType: parseType(input),\n      maxChainLength: 10,\n      strict: true,\n      target: '@csl/list+object'\n    }, options);\n    this.type = this.options.forceType;\n    this.data = typeof input === 'object' ? deepCopy(input) : input;\n    this.graph = [{\n      type: this.type,\n      data: input\n    }];\n    this.iteration = 0;\n  }\n  iterate() {\n    if (this.iteration !== 0) {\n      const typeInfo = getTypeInfo(this.type);\n      if (typeInfo && typeInfo.outputs) {\n        this.type = typeInfo.outputs;\n      } else {\n        this.type = parseType(this.data);\n      }\n      this.graph.push({\n        type: this.type\n      });\n    }\n    if (this.error || this.type === this.options.target) {\n      return false;\n    } else if (this.iteration >= this.options.maxChainLength) {\n      this.error = new RangeError(`Max. number of parsing iterations reached (${prepareParseGraph(this.graph)})`);\n      return false;\n    } else {\n      this.iteration++;\n      return true;\n    }\n  }\n  end() {\n    if (this.error) {\n      logger.error('[core]', this.error.message);\n      if (this.options.strict !== false) {\n        throw this.error;\n      } else {\n        return [];\n      }\n    } else if (this.options.target === '@csl/list+object') {\n      return upgradeCsl(this.data).map(this.options.generateGraph ? entry => applyGraph(entry, this.graph) : removeGraph);\n    } else {\n      return this.data;\n    }\n  }\n}\nexport const chain = (...args) => {\n  const chain = new ChainParser(...args);\n  while (chain.iterate()) {\n    try {\n      chain.data = parseData(chain.data, chain.type);\n    } catch (e) {\n      chain.error = e;\n    }\n  }\n  return chain.end();\n};\nexport const chainLink = input => {\n  const type = parseType(input);\n  const output = type.match(/array|object/) ? deepCopy(input) : input;\n  return parseData(output, type);\n};\nexport const chainAsync = async (...args) => {\n  const chain = new ChainParser(...args);\n  while (chain.iterate()) {\n    chain.data = await parseDataAsync(chain.data, chain.type).catch(e => {\n      chain.error = e;\n    });\n  }\n  return chain.end();\n};\nexport const chainLinkAsync = async input => {\n  const type = parseType(input);\n  const output = type.match(/array|object/) ? deepCopy(input) : input;\n  return parseDataAsync(output, type);\n};","import { chain, chainAsync } from './chain.js';\nconst parsers = {};\nconst asyncParsers = {};\nconst nativeParsers = {\n  '@csl/object': input => [input],\n  '@csl/list+object': input => input,\n  '@else/list+object': input => input.map(chain).flat(),\n  '@invalid': () => {\n    throw new Error('This format is not supported or recognized');\n  }\n};\nconst nativeAsyncParsers = {\n  '@else/list+object': async input => (await Promise.all(input.map(chainAsync))).flat()\n};\nexport function data(input, type) {\n  if (typeof parsers[type] === 'function') {\n    return parsers[type](input);\n  } else if (typeof nativeParsers[type] === 'function') {\n    return nativeParsers[type](input);\n  } else {\n    throw new TypeError(`No synchronous parser found for ${type}`);\n  }\n}\nexport async function dataAsync(input, type) {\n  if (typeof asyncParsers[type] === 'function') {\n    return asyncParsers[type](input);\n  } else if (typeof nativeAsyncParsers[type] === 'function') {\n    return nativeAsyncParsers[type](input);\n  } else if (hasDataParser(type, false)) {\n    return data(input, type);\n  } else {\n    throw new TypeError(`No parser found for ${type}`);\n  }\n}\nexport function addDataParser(format, {\n  parser,\n  async\n}) {\n  if (async) {\n    asyncParsers[format] = parser;\n  } else {\n    parsers[format] = parser;\n  }\n}\nexport function hasDataParser(type, async) {\n  return async ? asyncParsers[type] || nativeAsyncParsers[type] : parsers[type] || nativeParsers[type];\n}\nexport function removeDataParser(type, async) {\n  delete (async ? asyncParsers : parsers)[type];\n}\nexport function listDataParser(async) {\n  return Object.keys(async ? asyncParsers : parsers);\n}","import { FormatParser } from './parser.js';\nimport { addTypeParser, removeTypeParser } from './type.js';\nimport { addDataParser, removeDataParser } from './data.js';\nconst formats = {};\nexport function add(format, parsers) {\n  const formatParser = new FormatParser(format, parsers);\n  formatParser.validate();\n  const index = formats[format] || (formats[format] = {});\n  if (formatParser.typeParser) {\n    addTypeParser(format, formatParser.typeParser);\n    index.type = true;\n  }\n  if (formatParser.dataParser) {\n    addDataParser(format, formatParser.dataParser);\n    index.data = true;\n  }\n  if (formatParser.asyncDataParser) {\n    addDataParser(format, formatParser.asyncDataParser);\n    index.asyncData = true;\n  }\n  if (parsers.outputs) {\n    index.outputs = parsers.outputs;\n  }\n}\nexport function get(format) {\n  return formats[format];\n}\nexport function remove(format) {\n  const index = formats[format];\n  if (!index) {\n    return;\n  }\n  if (index.type) {\n    removeTypeParser(format);\n  }\n  if (index.data) {\n    removeDataParser(format);\n  }\n  if (index.asyncData) {\n    removeDataParser(format, true);\n  }\n  delete formats[format];\n}\nexport function has(format) {\n  return format in formats;\n}\nexport function list() {\n  return Object.keys(formats);\n}","//@ts-nocheck\nimport * as dataType from './dataType.js';\nimport * as graph from './graph.js';\nimport * as parser from './parser.js';\nimport * as csl from './csl.js';\nexport const util = Object.assign({}, dataType, graph, parser, csl);\nexport * from './register';\nexport * from './chain';\nexport * from './type';\nexport * from './data';","//@ts-nocheck\nimport { chain as parseInput, chainAsync as parseInputAsync } from '../plugins/input/index.js';\nimport fetchId from '../util/fetchId.js';\nfunction add(data, options = {}, log = false) {\n  if (options === true || log === true) {\n    this.save();\n  }\n  this.data.push(...parseInput(data, options));\n  this.data.filter(entry => !Object.prototype.hasOwnProperty.call(entry, 'id')).forEach(entry => {\n    entry.id = fetchId(this.getIds(), 'temp_id_');\n  });\n  return this;\n}\nasync function addAsync(data, options = {}, log = false) {\n  if (options === true || log === true) {\n    this.save();\n  }\n  this.data.push(...(await parseInputAsync(data, options)));\n  this.data.filter(entry => !Object.prototype.hasOwnProperty.call(entry, 'id')).forEach(entry => {\n    entry.id = fetchId(this.getIds(), 'temp_id_');\n  });\n  return this;\n}\nfunction set(data, options = {}, log = false) {\n  if (options === true || log === true) {\n    this.save();\n  }\n  this.data = [];\n  return typeof options !== 'boolean' ? this.add(data, options) : this.add(data);\n}\nasync function setAsync(data, options = {}, log = false) {\n  if (options === true || log === true) {\n    this.save();\n  }\n  this.data = [];\n  return typeof options !== 'boolean' ? this.addAsync(data, options) : this.addAsync(data);\n}\nfunction reset(log) {\n  if (log) {\n    this.save();\n  }\n  this.data = [];\n  this._options = {};\n  return this;\n}\nexport { add, addAsync, set, setAsync, reset };","function getLabel(entry) {\n  if ('citation-label' in entry) {\n    return entry['citation-label'];\n  }\n  let res = '';\n  if (entry.author) {\n    res += entry.author[0].family || entry.author[0].literal;\n  }\n  if (entry.issued && entry.issued['date-parts'] && entry.issued['date-parts'][0]) {\n    res += entry.issued['date-parts'][0][0];\n  }\n  if (entry['year-suffix']) {\n    res += entry['year-suffix'];\n  } else if (entry.title) {\n    res += entry.title.replace(/<\\/?.*?>/g, '').match(/^(?:(?:the|a|an)\\s+)?(\\S+)/i)[1];\n  }\n  return res;\n}\nexport { getLabel };\nexport default {\n  label(data) {\n    return data.reduce((object, entry) => {\n      object[entry.id] = getLabel(entry);\n      return object;\n    }, {});\n  }\n};","//@ts-nocheck\nimport { getLabel } from '../plugin-common/output/label.js';\nimport { format as getName } from '@citation-js/name';\nfunction getComparisonValue(obj, prop, label = prop === 'label') {\n  let value = label ? getLabel(obj) : obj[prop];\n  switch (prop) {\n    case 'author':\n    case 'editor':\n      return value.map(name => name.literal || name.family || getName(name));\n    case 'accessed':\n    case 'issued':\n      return value['date-parts'][0];\n    case 'page':\n      return value.split('-').map(num => parseInt(num));\n    case 'edition':\n    case 'issue':\n    case 'volume':\n      value = parseInt(value);\n      return !isNaN(value) ? value : -Infinity;\n    default:\n      return value || -Infinity;\n  }\n}\nfunction compareProp(entryA, entryB, prop, flip = /^!/.test(prop)) {\n  prop = prop.replace(/^!/, '');\n  const a = getComparisonValue(entryA, prop);\n  const b = getComparisonValue(entryB, prop);\n  return (flip ? -1 : 1) * (a > b ? 1 : a < b ? -1 : 0);\n}\nfunction getSortCallback(...props) {\n  return (a, b) => {\n    const keys = props.slice();\n    let output = 0;\n    while (!output && keys.length) {\n      output = compareProp(a, b, keys.shift());\n    }\n    return output;\n  };\n}\nfunction sort(method = [], log) {\n  if (log) {\n    this.save();\n  }\n  this.data.sort(typeof method === 'function' ? method : getSortCallback(...method, 'label'));\n  return this;\n}\nexport { sort };","//@ts-nocheck\nimport Cite from './index.js';\nfunction async(data, options, callback) {\n  if (typeof options === 'function' && !callback) {\n    callback = options;\n    options = undefined;\n  }\n  const promise = Cite().setAsync(data, options);\n  if (typeof callback === 'function') {\n    promise.then(callback);\n    return undefined;\n  } else {\n    return promise;\n  }\n}\nexport default async;","//@ts-nocheck\nexport { default as async } from './async.js';\nexport * from './validate.js';","import Register from '../util/register.js';\nfunction validate(name, formatter) {\n  if (typeof name !== 'string') {\n    throw new TypeError(`Invalid output format name, expected string, got ${typeof name}`);\n  } else if (typeof formatter !== 'function') {\n    throw new TypeError(`Invalid formatter, expected function, got ${typeof formatter}`);\n  }\n}\nexport const register = new Register();\nexport function add(name, formatter) {\n  validate(name, formatter);\n  register.set(name, formatter);\n}\nexport function remove(name) {\n  register.remove(name);\n}\nexport function has(name) {\n  return register.has(name);\n}\nexport function list() {\n  return register.list();\n}\nexport function format(name, data, ...options) {\n  if (!register.has(name)) {\n    throw new Error(`Output format \"${name}\" unavailable`);\n  }\n  return register.get(name)(data, ...options);\n}","//@ts-nocheck\nimport { validateOutputOptions as validate } from './static.js';\nimport { format as formatData } from '../plugins/output.js';\nimport { clean as parseCsl } from '../plugins/input/csl.js';\nexport function getIds() {\n  return this.data.map(entry => entry.id);\n}\nexport function format(format, ...options) {\n  return formatData(format, parseCsl(this.data), ...options);\n}\nexport function get(options = {}) {\n  validate(options);\n  const parsedOptions = Object.assign({}, this.defaultOptions, this._options.output, options);\n  const {\n    type,\n    style\n  } = parsedOptions;\n  const [styleType, styleFormat] = style.split('-');\n  const newStyle = styleType === 'citation' ? 'bibliography' : styleType === 'csl' ? 'data' : styleType;\n  const newType = type === 'string' ? 'text' : type === 'json' ? 'object' : type;\n  let formatOptions;\n  switch (newStyle) {\n    case 'bibliography':\n      {\n        const {\n          lang,\n          append,\n          prepend\n        } = parsedOptions;\n        formatOptions = {\n          template: styleFormat,\n          lang,\n          format: newType,\n          append,\n          prepend\n        };\n        break;\n      }\n    case 'data':\n    case 'bibtex':\n    case 'bibtxt':\n    case 'ndjson':\n    case 'ris':\n      formatOptions = {\n        type: newType\n      };\n      break;\n    default:\n      throw new Error(`Invalid style \"${newStyle}\"`);\n  }\n  const result = this.format(newStyle, Object.assign(formatOptions, options._newOptions));\n  const {\n    format\n  } = parsedOptions;\n  if (format === 'real' && newType === 'html' && typeof document !== 'undefined' && typeof document.createElement === 'function') {\n    const tmp = document.createElement('div');\n    tmp.innerHTML = result;\n    return tmp.firstChild;\n  } else if (format === 'string' && typeof result === 'object') {\n    return JSON.stringify(result);\n  } else {\n    return result;\n  }\n}","//@ts-nocheck\nimport * as log from './log.js';\nimport * as options from './options.js';\nimport * as set from './set.js';\nimport * as sort from './sort.js';\nimport * as get from './get.js';\nimport * as staticMethods from './static.js';\nfunction Cite(data, options = {}) {\n  if (!(this instanceof Cite)) {\n    return new Cite(data, options);\n  }\n  this._options = options;\n  this.log = [];\n  this.data = [];\n  this.set(data, options);\n  this.options(options);\n  return this;\n}\nObject.assign(Cite.prototype, log, options, set, sort, get);\nCite.prototype[Symbol.iterator] = function* () {\n  yield* this.data;\n};\nObject.assign(Cite, staticMethods);\nexport default Cite;","import Register from '../util/register.js';\nfunction validate(name, dict) {\n  if (typeof name !== 'string') {\n    throw new TypeError(`Invalid dict name, expected string, got ${typeof name}`);\n  } else if (typeof dict !== 'object') {\n    throw new TypeError(`Invalid dict, expected object, got ${typeof dict}`);\n  }\n  for (const entryName in dict) {\n    const entry = dict[entryName];\n    if (!Array.isArray(entry) || entry.some(part => typeof part !== 'string')) {\n      throw new TypeError(`Invalid dict entry \"${entryName}\", expected array of strings`);\n    }\n  }\n}\nexport const register = new Register({\n  html: {\n    bibliographyContainer: ['<div class=\"csl-bib-body\">', '</div>'],\n    entry: ['<div class=\"csl-entry\">', '</div>'],\n    list: ['<ul style=\"list-style-type:none\">', '</ul>'],\n    listItem: ['<li>', '</li>']\n  },\n  text: {\n    bibliographyContainer: ['', '\\n'],\n    entry: ['', '\\n'],\n    list: ['\\n', ''],\n    listItem: ['\\t', '\\n']\n  }\n});\nexport function add(name, dict) {\n  validate(name, dict);\n  register.set(name, dict);\n}\nexport function remove(name) {\n  register.remove(name);\n}\nexport function has(name) {\n  return register.has(name);\n}\nexport function list() {\n  return register.list();\n}\nexport function get(name) {\n  if (!register.has(name)) {\n    throw new Error(`Dict \"${name}\" unavailable`);\n  }\n  return register.get(name);\n}\nexport const htmlDict = {\n  wr_start: '<div class=\"csl-bib-body\">',\n  wr_end: '</div>',\n  en_start: '<div class=\"csl-entry\">',\n  en_end: '</div>',\n  ul_start: '<ul style=\"list-style-type:none\">',\n  ul_end: '</ul>',\n  li_start: '<li>',\n  li_end: '</li>'\n};\nexport const textDict = {\n  wr_start: '',\n  wr_end: '\\n',\n  en_start: '',\n  en_end: '\\n',\n  ul_start: '\\n',\n  ul_end: '',\n  li_start: '\\t',\n  li_end: '\\n'\n};","const configs = {};\nexport function add(ref, config) {\n  configs[ref] = config;\n}\nexport function get(ref) {\n  return configs[ref];\n}\nexport function has(ref) {\n  return Object.prototype.hasOwnProperty.call(configs, ref);\n}\nexport function remove(ref) {\n  delete configs[ref];\n}\nexport function list() {\n  return Object.keys(configs);\n}","//@ts-nocheck\nimport * as input from './input/index.js';\nimport * as output from './output.js';\nimport * as dict from './dict.js';\nimport * as config from './config.js';\nconst registers = {\n  input,\n  output,\n  dict,\n  config\n};\nconst indices = {};\nexport function add(ref, plugins = {}) {\n  const mainIndex = indices[ref] = {};\n  for (const type in plugins) {\n    if (type === 'config') {\n      mainIndex.config = {\n        [ref]: plugins.config\n      };\n      registers.config.add(ref, plugins.config);\n      continue;\n    }\n    const typeIndex = mainIndex[type] = {};\n    const typePlugins = plugins[type];\n    for (const name in typePlugins) {\n      const typePlugin = typePlugins[name];\n      typeIndex[name] = true;\n      registers[type].add(name, typePlugin);\n    }\n  }\n}\nexport function remove(ref) {\n  const mainIndex = indices[ref];\n  for (const type in mainIndex) {\n    const typeIndex = mainIndex[type];\n    for (const name in typeIndex) {\n      registers[type].remove(name);\n    }\n  }\n  delete indices[ref];\n}\nexport function has(ref) {\n  return ref in indices;\n}\nexport function list() {\n  return Object.keys(indices);\n}\nexport { input, output, dict, config };","export function parse() {\n  return [];\n}","import logger from '../../logger.js';\nconst substituters = [[/((?:\\[|:|,)\\s*)'((?:\\\\'|[^'])*?[^\\\\])?'(?=\\s*(?:\\]|}|,))/g, '$1\"$2\"'], [/((?:(?:\"|]|}|\\/[gmiuys]|\\.|(?:\\d|\\.|-)*\\d)\\s*,|{)\\s*)(?:\"([^\":\\n]+?)\"|'([^\":\\n]+?)'|([^\":\\n]+?))(\\s*):/g, '$1\"$2$3$4\"$5:']];\nfunction parseJSON(str) {\n  if (typeof str !== 'string') {\n    return JSON.parse(str);\n  }\n  try {\n    return JSON.parse(str);\n  } catch (e) {\n    logger.debug('[plugin-common]', 'Invalid JSON, switching to experimental parser');\n    substituters.forEach(([regex, subst]) => {\n      str = str.replace(regex, subst);\n    });\n    return JSON.parse(str);\n  }\n}\nexport { parseJSON as parse, parseJSON as default };","export function parse(input) {\n  return input.val() || input.text() || input.html();\n}","export function parse(input) {\n  return input.value || input.textContent;\n}","//@ts-nocheck\nimport * as empty from './empty.js';\nimport * as url from './url.js';\nimport * as json from './json.js';\nimport * as jquery from './jquery.js';\nimport * as html from './html.js';\nexport const ref = '@else';\nexport const parsers = {\n  empty,\n  url,\n  json,\n  jquery,\n  html\n};\nexport const formats = {\n  '@empty/text': {\n    parse: empty.parse,\n    parseType: {\n      dataType: 'String',\n      predicate: input => input === ''\n    }\n  },\n  '@empty/whitespace+text': {\n    parse: empty.parse,\n    parseType: {\n      dataType: 'String',\n      predicate: /^\\s+$/\n    }\n  },\n  '@empty': {\n    parse: empty.parse,\n    parseType: {\n      dataType: 'Primitive',\n      predicate: input => input == null\n    }\n  },\n  '@else/json': {\n    parse: json.parse,\n    parseType: {\n      dataType: 'String',\n      predicate: /^\\s*(\\{[\\S\\s]*\\}|\\[[\\S\\s]*\\])\\s*$/\n    }\n  },\n  '@else/url': {\n    parse: url.parse,\n    parseAsync: url.parseAsync,\n    parseType: {\n      dataType: 'String',\n      predicate: /^https?:\\/\\/(([\\w-]+\\.)*[\\w-]+)(:\\d+)?(\\/[^?/]*)*(\\?[^#]*)?(#.*)?$/i\n    }\n  },\n  '@else/jquery': {\n    parse: jquery.parse,\n    parseType: {\n      dataType: 'ComplexObject',\n      predicate(input) {\n        return typeof jQuery !== 'undefined' && input instanceof jQuery;\n      }\n    }\n  },\n  '@else/html': {\n    parse: html.parse,\n    parseType: {\n      dataType: 'ComplexObject',\n      predicate(input) {\n        return typeof HTMLElement !== 'undefined' && input instanceof HTMLElement;\n      }\n    }\n  }\n};","//@ts-nocheck\nimport * as plugins from '../../plugins/index.js';\nimport * as util from '../../util/index.js';\nimport logger from '../../logger.js';\nfunction appendCommas(string, index, array) {\n  return string + (index < array.length - 1 ? ',' : '');\n}\nfunction getJsonObject(src, dict) {\n  const isArray = Array.isArray(src);\n  let entries;\n  if (isArray) {\n    entries = src.map(entry => getJsonValue(entry, dict));\n  } else {\n    entries = Object.keys(src).filter(prop => JSON.stringify(src[prop])).map(prop => `\"${prop}\": ${getJsonValue(src[prop], dict)}`);\n  }\n  entries = entries.map(appendCommas).map(entry => dict.listItem.join(entry));\n  entries = dict.list.join(entries.join(''));\n  return isArray ? `[${entries}]` : `{${entries}}`;\n}\nfunction getJsonValue(src, dict) {\n  if (typeof src === 'object' && src !== null) {\n    if (src.length === 0) {\n      return '[]';\n    } else if (Object.keys(src).length === 0) {\n      return '{}';\n    } else {\n      return getJsonObject(src, dict);\n    }\n  } else {\n    return JSON.stringify(src);\n  }\n}\nfunction getJson(src, dict) {\n  let entries = src.map(entry => getJsonObject(entry, dict));\n  entries = entries.map(appendCommas).map(entry => dict.entry.join(entry));\n  entries = entries.join('');\n  return dict.bibliographyContainer.join(`[${entries}]`);\n}\nexport function getJsonWrapper(src) {\n  return getJson(src, plugins.dict.get('html'));\n}\nexport default {\n  data(data, {\n    type,\n    format = type || 'text',\n    version = '1.0.2'\n  } = {}) {\n    if (version < '1.0.2') {\n      data = util.downgradeCsl(data);\n    }\n    if (format === 'object') {\n      return util.deepCopy(data);\n    } else if (format === 'text') {\n      return JSON.stringify(data, null, 2);\n    } else {\n      logger.warn('[core]', 'This feature (JSON output with special formatting) is unstable. See https://github.com/larsgw/citation.js/issues/144');\n      return getJson(data, plugins.dict.get(format));\n    }\n  },\n  ndjson(data, {\n    version = '1.0.2'\n  } = {}) {\n    if (version < '1.0.2') {\n      data = util.downgradeCsl(data);\n    }\n    return data.map(entry => JSON.stringify(entry)).join('\\n');\n  }\n};","//@ts-nocheck\nimport json from './json.js';\nimport label from './label.js';\nexport default Object.assign({}, json, label);","import * as plugins from '../plugins';\nimport { ref, formats as input } from './input/';\nimport output from './output/';\nplugins.add(ref, {\n  input,\n  output\n});","//@ts-nocheck\nimport { parse as parseDate } from '@citation-js/date';\nimport { parse as parseName } from '@citation-js/name';\nfunction nameProps(person) {\n  const {\n    firstname,\n    lastname,\n    firstName: given = firstname,\n    lastName: family = lastname\n  } = person;\n  if (given && family) {\n    return {\n      given,\n      family\n    };\n  } else if (person.name) {\n    return parseName(person.name);\n  }\n}\nconst identifiers = ['PMID', 'PMCID', 'DOI', 'ISBN'];\nconst journalIdentifiers = ['ISSN'];\nfunction idProps(input, identifiers) {\n  const output = {};\n  for (const prop in input) {\n    const upperCaseProp = prop.toUpperCase();\n    if (identifiers.includes(upperCaseProp)) {\n      output[upperCaseProp] = input[prop];\n    }\n  }\n  if (input.identifier) {\n    for (let {\n      id,\n      type = ''\n    } of input.identifier) {\n      type = type.toUpperCase();\n      if (identifiers.includes(type)) {\n        output[type] = id;\n      }\n    }\n  }\n  return output;\n}\nconst typeMap = {\n  article: 'article',\n  book: 'book',\n  booklet: 'book',\n  proceedings: 'book',\n  mastersthesis: 'thesis',\n  inbook: 'chapter',\n  incollection: 'chapter',\n  conference: 'paper-conference',\n  inproceedings: 'paper-conference',\n  manual: 'report',\n  misc: 'document',\n  online: 'website',\n  patent: 'patent',\n  phdthesis: 'thesis',\n  techreport: 'report',\n  unpublished: 'manuscript'\n};\nfunction quickscrapeSpecificProps() {\n  return {\n    type: 'article-journal'\n  };\n}\nfunction generalProps(input) {\n  const output = {\n    type: typeMap[input.type] || 'document'\n  };\n  if (input.title) {\n    output.title = input.title;\n  }\n  if (input.author) {\n    output.author = input.author.map(nameProps).filter(Boolean);\n  }\n  if (input.editor) {\n    output.editor = input.editor.map(nameProps).filter(Boolean);\n  }\n  if (input.reviewer) {\n    if (input.author) {\n      output['reviewed-author'] = output.author;\n    }\n    output.author = input.reviewer.map(nameProps).filter(Boolean);\n  }\n  if (Array.isArray(input.keywords)) {\n    output.keyword = input.keywords.join();\n  } else if (input.keywords) {\n    output.keyword = input.keywords;\n  }\n  if (input.publisher) {\n    output.publisher = input.publisher.name || input.publisher;\n  }\n  if (input.date && Object.keys(input.date).length > 0) {\n    const dates = input.date;\n    if (dates.submitted) {\n      output.submitted = parseDate(dates.submitted);\n    }\n    if (dates.published) {\n      output.issued = parseDate(dates.published);\n    }\n  } else if (input.year) {\n    output.issued = {\n      'date-parts': [[+input.year]]\n    };\n  }\n  if (input.journal) {\n    const journal = input.journal;\n    if (journal.name) {\n      output['container-title'] = journal.name;\n    }\n    if (journal.volume) {\n      output.volume = +journal.volume;\n    }\n    if (journal.issue) {\n      output.issue = +journal.issue;\n    }\n    Object.assign(output, idProps(journal, journalIdentifiers));\n    if (journal.firstpage) {\n      output['page-first'] = journal.firstpage;\n    }\n    if (journal.pages) {\n      output.page = journal.pages.replace('--', '-');\n    } else if (journal.firstpage && journal.lastpage) {\n      output.page = journal.firstpage + '-' + journal.lastpage;\n    }\n  }\n  if (input.link && typeof input.link[0] === 'object') {\n    output.URL = input.link[0].url;\n  }\n  Object.assign(output, idProps(input, identifiers));\n  if (input.cid) {\n    output.id = input.cid;\n  } else if (output.DOI) {\n    output.id = output.DOI;\n  }\n  return output;\n}\nconst parseContentMine = function (data) {\n  return Object.assign(generalProps(data), quickscrapeSpecificProps(data));\n};\nconst parseBibJson = function (data) {\n  return generalProps(data);\n};\nexport { parseContentMine as quickscrapeRecord, parseBibJson as record };","import * as json from './json.js';\nimport { plugins } from '../core/index.js';\nconst scraperLinks = ['fulltext_html', 'fulltext_xml', 'fulltext_pdf'];\nconst ref = '@bibjson';\nconst parsers = {\n  json\n};\nconst formats = {\n  '@bibjson/quickscrape+record+object': {\n    parse: json.quickscrapeRecord,\n    parseType: {\n      propertyConstraint: {\n        props: 'link',\n        value(links) {\n          return scraperLinks.some(link => links.find(({\n            type\n          }) => type === link));\n        }\n      },\n      extends: '@bibjson/record+object'\n    }\n  },\n  '@bibjson/record+object': {\n    parse: json.record,\n    parseType: {\n      dataType: 'SimpleObject',\n      propertyConstraint: [{\n        props: 'title'\n      }, {\n        props: ['author', 'editor'],\n        match: 'some',\n        value(authors) {\n          return Array.isArray(authors) && authors[0] && 'name' in authors[0];\n        }\n      }]\n    }\n  },\n  '@bibjson/collection+object': {\n    parse(collection) {\n      return collection.records;\n    },\n    parseType: {\n      dataType: 'SimpleObject',\n      propertyConstraint: [{\n        props: 'metadata',\n        value(metadata) {\n          return 'collection' in metadata;\n        }\n      }, {\n        props: 'records',\n        value(records) {\n          return Array.isArray(records);\n        }\n      }]\n    }\n  }\n};\nplugins.add(ref, {\n  input: formats\n});\nexport { ref, parsers, formats };","(function(root, factory) {\n  if (typeof define === 'function' && define.amd) {\n    define([], factory) /* global define */\n  } else if (typeof module === 'object' && module.exports) {\n    module.exports = factory()\n  } else {\n    root.moo = factory()\n  }\n}(this, function() {\n  'use strict';\n\n  var hasOwnProperty = Object.prototype.hasOwnProperty\n  var toString = Object.prototype.toString\n  var hasSticky = typeof new RegExp().sticky === 'boolean'\n\n  /***************************************************************************/\n\n  function isRegExp(o) { return o && toString.call(o) === '[object RegExp]' }\n  function isObject(o) { return o && typeof o === 'object' && !isRegExp(o) && !Array.isArray(o) }\n\n  function reEscape(s) {\n    return s.replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g, '\\\\$&')\n  }\n  function reGroups(s) {\n    var re = new RegExp('|' + s)\n    return re.exec('').length - 1\n  }\n  function reCapture(s) {\n    return '(' + s + ')'\n  }\n  function reUnion(regexps) {\n    if (!regexps.length) return '(?!)'\n    var source =  regexps.map(function(s) {\n      return \"(?:\" + s + \")\"\n    }).join('|')\n    return \"(?:\" + source + \")\"\n  }\n\n  function regexpOrLiteral(obj) {\n    if (typeof obj === 'string') {\n      return '(?:' + reEscape(obj) + ')'\n\n    } else if (isRegExp(obj)) {\n      // TODO: consider /u support\n      if (obj.ignoreCase) throw new Error('RegExp /i flag not allowed')\n      if (obj.global) throw new Error('RegExp /g flag is implied')\n      if (obj.sticky) throw new Error('RegExp /y flag is implied')\n      if (obj.multiline) throw new Error('RegExp /m flag is implied')\n      return obj.source\n\n    } else {\n      throw new Error('Not a pattern: ' + obj)\n    }\n  }\n\n  function pad(s, length) {\n    if (s.length > length) {\n      return s\n    }\n    return Array(length - s.length + 1).join(\" \") + s\n  }\n\n  function lastNLines(string, numLines) {\n    var position = string.length\n    var lineBreaks = 0;\n    while (true) {\n      var idx = string.lastIndexOf(\"\\n\", position - 1)\n      if (idx === -1) {\n        break;\n      } else {\n        lineBreaks++\n      }\n      position = idx\n      if (lineBreaks === numLines) {\n        break;\n      }\n      if (position === 0) {\n        break;\n      }\n    }\n    var startPosition = \n      lineBreaks < numLines ?\n      0 : \n      position + 1\n    return string.substring(startPosition).split(\"\\n\")\n  }\n\n  function objectToRules(object) {\n    var keys = Object.getOwnPropertyNames(object)\n    var result = []\n    for (var i = 0; i < keys.length; i++) {\n      var key = keys[i]\n      var thing = object[key]\n      var rules = [].concat(thing)\n      if (key === 'include') {\n        for (var j = 0; j < rules.length; j++) {\n          result.push({include: rules[j]})\n        }\n        continue\n      }\n      var match = []\n      rules.forEach(function(rule) {\n        if (isObject(rule)) {\n          if (match.length) result.push(ruleOptions(key, match))\n          result.push(ruleOptions(key, rule))\n          match = []\n        } else {\n          match.push(rule)\n        }\n      })\n      if (match.length) result.push(ruleOptions(key, match))\n    }\n    return result\n  }\n\n  function arrayToRules(array) {\n    var result = []\n    for (var i = 0; i < array.length; i++) {\n      var obj = array[i]\n      if (obj.include) {\n        var include = [].concat(obj.include)\n        for (var j = 0; j < include.length; j++) {\n          result.push({include: include[j]})\n        }\n        continue\n      }\n      if (!obj.type) {\n        throw new Error('Rule has no type: ' + JSON.stringify(obj))\n      }\n      result.push(ruleOptions(obj.type, obj))\n    }\n    return result\n  }\n\n  function ruleOptions(type, obj) {\n    if (!isObject(obj)) {\n      obj = { match: obj }\n    }\n    if (obj.include) {\n      throw new Error('Matching rules cannot also include states')\n    }\n\n    // nb. error and fallback imply lineBreaks\n    var options = {\n      defaultType: type,\n      lineBreaks: !!obj.error || !!obj.fallback,\n      pop: false,\n      next: null,\n      push: null,\n      error: false,\n      fallback: false,\n      value: null,\n      type: null,\n      shouldThrow: false,\n    }\n\n    // Avoid Object.assign(), so we support IE9+\n    for (var key in obj) {\n      if (hasOwnProperty.call(obj, key)) {\n        options[key] = obj[key]\n      }\n    }\n\n    // type transform cannot be a string\n    if (typeof options.type === 'string' && type !== options.type) {\n      throw new Error(\"Type transform cannot be a string (type '\" + options.type + \"' for token '\" + type + \"')\")\n    }\n\n    // convert to array\n    var match = options.match\n    options.match = Array.isArray(match) ? match : match ? [match] : []\n    options.match.sort(function(a, b) {\n      return isRegExp(a) && isRegExp(b) ? 0\n           : isRegExp(b) ? -1 : isRegExp(a) ? +1 : b.length - a.length\n    })\n    return options\n  }\n\n  function toRules(spec) {\n    return Array.isArray(spec) ? arrayToRules(spec) : objectToRules(spec)\n  }\n\n  var defaultErrorRule = ruleOptions('error', {lineBreaks: true, shouldThrow: true})\n  function compileRules(rules, hasStates) {\n    var errorRule = null\n    var fast = Object.create(null)\n    var fastAllowed = true\n    var unicodeFlag = null\n    var groups = []\n    var parts = []\n\n    // If there is a fallback rule, then disable fast matching\n    for (var i = 0; i < rules.length; i++) {\n      if (rules[i].fallback) {\n        fastAllowed = false\n      }\n    }\n\n    for (var i = 0; i < rules.length; i++) {\n      var options = rules[i]\n\n      if (options.include) {\n        // all valid inclusions are removed by states() preprocessor\n        throw new Error('Inheritance is not allowed in stateless lexers')\n      }\n\n      if (options.error || options.fallback) {\n        // errorRule can only be set once\n        if (errorRule) {\n          if (!options.fallback === !errorRule.fallback) {\n            throw new Error(\"Multiple \" + (options.fallback ? \"fallback\" : \"error\") + \" rules not allowed (for token '\" + options.defaultType + \"')\")\n          } else {\n            throw new Error(\"fallback and error are mutually exclusive (for token '\" + options.defaultType + \"')\")\n          }\n        }\n        errorRule = options\n      }\n\n      var match = options.match.slice()\n      if (fastAllowed) {\n        while (match.length && typeof match[0] === 'string' && match[0].length === 1) {\n          var word = match.shift()\n          fast[word.charCodeAt(0)] = options\n        }\n      }\n\n      // Warn about inappropriate state-switching options\n      if (options.pop || options.push || options.next) {\n        if (!hasStates) {\n          throw new Error(\"State-switching options are not allowed in stateless lexers (for token '\" + options.defaultType + \"')\")\n        }\n        if (options.fallback) {\n          throw new Error(\"State-switching options are not allowed on fallback tokens (for token '\" + options.defaultType + \"')\")\n        }\n      }\n\n      // Only rules with a .match are included in the RegExp\n      if (match.length === 0) {\n        continue\n      }\n      fastAllowed = false\n\n      groups.push(options)\n\n      // Check unicode flag is used everywhere or nowhere\n      for (var j = 0; j < match.length; j++) {\n        var obj = match[j]\n        if (!isRegExp(obj)) {\n          continue\n        }\n\n        if (unicodeFlag === null) {\n          unicodeFlag = obj.unicode\n        } else if (unicodeFlag !== obj.unicode && options.fallback === false) {\n          throw new Error('If one rule is /u then all must be')\n        }\n      }\n\n      // convert to RegExp\n      var pat = reUnion(match.map(regexpOrLiteral))\n\n      // validate\n      var regexp = new RegExp(pat)\n      if (regexp.test(\"\")) {\n        throw new Error(\"RegExp matches empty string: \" + regexp)\n      }\n      var groupCount = reGroups(pat)\n      if (groupCount > 0) {\n        throw new Error(\"RegExp has capture groups: \" + regexp + \"\\nUse (?:  ) instead\")\n      }\n\n      // try and detect rules matching newlines\n      if (!options.lineBreaks && regexp.test('\\n')) {\n        throw new Error('Rule should declare lineBreaks: ' + regexp)\n      }\n\n      // store regex\n      parts.push(reCapture(pat))\n    }\n\n\n    // If there's no fallback rule, use the sticky flag so we only look for\n    // matches at the current index.\n    //\n    // If we don't support the sticky flag, then fake it using an irrefutable\n    // match (i.e. an empty pattern).\n    var fallbackRule = errorRule && errorRule.fallback\n    var flags = hasSticky && !fallbackRule ? 'ym' : 'gm'\n    var suffix = hasSticky || fallbackRule ? '' : '|'\n\n    if (unicodeFlag === true) flags += \"u\"\n    var combined = new RegExp(reUnion(parts) + suffix, flags)\n    return {regexp: combined, groups: groups, fast: fast, error: errorRule || defaultErrorRule}\n  }\n\n  function compile(rules) {\n    var result = compileRules(toRules(rules))\n    return new Lexer({start: result}, 'start')\n  }\n\n  function checkStateGroup(g, name, map) {\n    var state = g && (g.push || g.next)\n    if (state && !map[state]) {\n      throw new Error(\"Missing state '\" + state + \"' (in token '\" + g.defaultType + \"' of state '\" + name + \"')\")\n    }\n    if (g && g.pop && +g.pop !== 1) {\n      throw new Error(\"pop must be 1 (in token '\" + g.defaultType + \"' of state '\" + name + \"')\")\n    }\n  }\n  function compileStates(states, start) {\n    var all = states.$all ? toRules(states.$all) : []\n    delete states.$all\n\n    var keys = Object.getOwnPropertyNames(states)\n    if (!start) start = keys[0]\n\n    var ruleMap = Object.create(null)\n    for (var i = 0; i < keys.length; i++) {\n      var key = keys[i]\n      ruleMap[key] = toRules(states[key]).concat(all)\n    }\n    for (var i = 0; i < keys.length; i++) {\n      var key = keys[i]\n      var rules = ruleMap[key]\n      var included = Object.create(null)\n      for (var j = 0; j < rules.length; j++) {\n        var rule = rules[j]\n        if (!rule.include) continue\n        var splice = [j, 1]\n        if (rule.include !== key && !included[rule.include]) {\n          included[rule.include] = true\n          var newRules = ruleMap[rule.include]\n          if (!newRules) {\n            throw new Error(\"Cannot include nonexistent state '\" + rule.include + \"' (in state '\" + key + \"')\")\n          }\n          for (var k = 0; k < newRules.length; k++) {\n            var newRule = newRules[k]\n            if (rules.indexOf(newRule) !== -1) continue\n            splice.push(newRule)\n          }\n        }\n        rules.splice.apply(rules, splice)\n        j--\n      }\n    }\n\n    var map = Object.create(null)\n    for (var i = 0; i < keys.length; i++) {\n      var key = keys[i]\n      map[key] = compileRules(ruleMap[key], true)\n    }\n\n    for (var i = 0; i < keys.length; i++) {\n      var name = keys[i]\n      var state = map[name]\n      var groups = state.groups\n      for (var j = 0; j < groups.length; j++) {\n        checkStateGroup(groups[j], name, map)\n      }\n      var fastKeys = Object.getOwnPropertyNames(state.fast)\n      for (var j = 0; j < fastKeys.length; j++) {\n        checkStateGroup(state.fast[fastKeys[j]], name, map)\n      }\n    }\n\n    return new Lexer(map, start)\n  }\n\n  function keywordTransform(map) {\n\n    // Use a JavaScript Map to map keywords to their corresponding token type\n    // unless Map is unsupported, then fall back to using an Object:\n    var isMap = typeof Map !== 'undefined'\n    var reverseMap = isMap ? new Map : Object.create(null)\n\n    var types = Object.getOwnPropertyNames(map)\n    for (var i = 0; i < types.length; i++) {\n      var tokenType = types[i]\n      var item = map[tokenType]\n      var keywordList = Array.isArray(item) ? item : [item]\n      keywordList.forEach(function(keyword) {\n        if (typeof keyword !== 'string') {\n          throw new Error(\"keyword must be string (in keyword '\" + tokenType + \"')\")\n        }\n        if (isMap) {\n          reverseMap.set(keyword, tokenType)\n        } else {\n          reverseMap[keyword] = tokenType\n        }\n      })\n    }\n    return function(k) {\n      return isMap ? reverseMap.get(k) : reverseMap[k]\n    }\n  }\n\n  /***************************************************************************/\n\n  var Lexer = function(states, state) {\n    this.startState = state\n    this.states = states\n    this.buffer = ''\n    this.stack = []\n    this.reset()\n  }\n\n  Lexer.prototype.reset = function(data, info) {\n    this.buffer = data || ''\n    this.index = 0\n    this.line = info ? info.line : 1\n    this.col = info ? info.col : 1\n    this.queuedToken = info ? info.queuedToken : null\n    this.queuedText = info ? info.queuedText: \"\";\n    this.queuedThrow = info ? info.queuedThrow : null\n    this.setState(info ? info.state : this.startState)\n    this.stack = info && info.stack ? info.stack.slice() : []\n    return this\n  }\n\n  Lexer.prototype.save = function() {\n    return {\n      line: this.line,\n      col: this.col,\n      state: this.state,\n      stack: this.stack.slice(),\n      queuedToken: this.queuedToken,\n      queuedText: this.queuedText,\n      queuedThrow: this.queuedThrow,\n    }\n  }\n\n  Lexer.prototype.setState = function(state) {\n    if (!state || this.state === state) return\n    this.state = state\n    var info = this.states[state]\n    this.groups = info.groups\n    this.error = info.error\n    this.re = info.regexp\n    this.fast = info.fast\n  }\n\n  Lexer.prototype.popState = function() {\n    this.setState(this.stack.pop())\n  }\n\n  Lexer.prototype.pushState = function(state) {\n    this.stack.push(this.state)\n    this.setState(state)\n  }\n\n  var eat = hasSticky ? function(re, buffer) { // assume re is /y\n    return re.exec(buffer)\n  } : function(re, buffer) { // assume re is /g\n    var match = re.exec(buffer)\n    // will always match, since we used the |(?:) trick\n    if (match[0].length === 0) {\n      return null\n    }\n    return match\n  }\n\n  Lexer.prototype._getGroup = function(match) {\n    var groupCount = this.groups.length\n    for (var i = 0; i < groupCount; i++) {\n      if (match[i + 1] !== undefined) {\n        return this.groups[i]\n      }\n    }\n    throw new Error('Cannot find token type for matched text')\n  }\n\n  function tokenToString() {\n    return this.value\n  }\n\n  Lexer.prototype.next = function() {\n    var index = this.index\n\n    // If a fallback token matched, we don't need to re-run the RegExp\n    if (this.queuedGroup) {\n      var token = this._token(this.queuedGroup, this.queuedText, index)\n      this.queuedGroup = null\n      this.queuedText = \"\"\n      return token\n    }\n\n    var buffer = this.buffer\n    if (index === buffer.length) {\n      return // EOF\n    }\n\n    // Fast matching for single characters\n    var group = this.fast[buffer.charCodeAt(index)]\n    if (group) {\n      return this._token(group, buffer.charAt(index), index)\n    }\n\n    // Execute RegExp\n    var re = this.re\n    re.lastIndex = index\n    var match = eat(re, buffer)\n\n    // Error tokens match the remaining buffer\n    var error = this.error\n    if (match == null) {\n      return this._token(error, buffer.slice(index, buffer.length), index)\n    }\n\n    var group = this._getGroup(match)\n    var text = match[0]\n\n    if (error.fallback && match.index !== index) {\n      this.queuedGroup = group\n      this.queuedText = text\n\n      // Fallback tokens contain the unmatched portion of the buffer\n      return this._token(error, buffer.slice(index, match.index), index)\n    }\n\n    return this._token(group, text, index)\n  }\n\n  Lexer.prototype._token = function(group, text, offset) {\n    // count line breaks\n    var lineBreaks = 0\n    if (group.lineBreaks) {\n      var matchNL = /\\n/g\n      var nl = 1\n      if (text === '\\n') {\n        lineBreaks = 1\n      } else {\n        while (matchNL.exec(text)) { lineBreaks++; nl = matchNL.lastIndex }\n      }\n    }\n\n    var token = {\n      type: (typeof group.type === 'function' && group.type(text)) || group.defaultType,\n      value: typeof group.value === 'function' ? group.value(text) : text,\n      text: text,\n      toString: tokenToString,\n      offset: offset,\n      lineBreaks: lineBreaks,\n      line: this.line,\n      col: this.col,\n    }\n    // nb. adding more props to token object will make V8 sad!\n\n    var size = text.length\n    this.index += size\n    this.line += lineBreaks\n    if (lineBreaks !== 0) {\n      this.col = size - nl + 1\n    } else {\n      this.col += size\n    }\n\n    // throw, if no rule with {error: true}\n    if (group.shouldThrow) {\n      var err = new Error(this.formatError(token, \"invalid syntax\"))\n      throw err;\n    }\n\n    if (group.pop) this.popState()\n    else if (group.push) this.pushState(group.push)\n    else if (group.next) this.setState(group.next)\n\n    return token\n  }\n\n  if (typeof Symbol !== 'undefined' && Symbol.iterator) {\n    var LexerIterator = function(lexer) {\n      this.lexer = lexer\n    }\n\n    LexerIterator.prototype.next = function() {\n      var token = this.lexer.next()\n      return {value: token, done: !token}\n    }\n\n    LexerIterator.prototype[Symbol.iterator] = function() {\n      return this\n    }\n\n    Lexer.prototype[Symbol.iterator] = function() {\n      return new LexerIterator(this)\n    }\n  }\n\n  Lexer.prototype.formatError = function(token, message) {\n    if (token == null) {\n      // An undefined token indicates EOF\n      var text = this.buffer.slice(this.index)\n      var token = {\n        text: text,\n        offset: this.index,\n        lineBreaks: text.indexOf('\\n') === -1 ? 0 : 1,\n        line: this.line,\n        col: this.col,\n      }\n    }\n    \n    var numLinesAround = 2\n    var firstDisplayedLine = Math.max(token.line - numLinesAround, 1)\n    var lastDisplayedLine = token.line + numLinesAround\n    var lastLineDigits = String(lastDisplayedLine).length\n    var displayedLines = lastNLines(\n        this.buffer, \n        (this.line - token.line) + numLinesAround + 1\n      )\n      .slice(0, 5)\n    var errorLines = []\n    errorLines.push(message + \" at line \" + token.line + \" col \" + token.col + \":\")\n    errorLines.push(\"\")\n    for (var i = 0; i < displayedLines.length; i++) {\n      var line = displayedLines[i]\n      var lineNo = firstDisplayedLine + i\n      errorLines.push(pad(String(lineNo), lastLineDigits) + \"  \" + line);\n      if (lineNo === token.line) {\n        errorLines.push(pad(\"\", lastLineDigits + token.col + 1) + \"^\")\n      }\n    }\n    return errorLines.join(\"\\n\")\n  }\n\n  Lexer.prototype.clone = function() {\n    return new Lexer(this.states, this.state)\n  }\n\n  Lexer.prototype.has = function(tokenType) {\n    return true\n  }\n\n\n  return {\n    compile: compile,\n    states: compileStates,\n    error: Object.freeze({error: true}),\n    fallback: Object.freeze({fallback: true}),\n    keywords: keywordTransform,\n  }\n\n}));\n","import _required from './required.json';\nimport _fieldTypes from './fieldTypes.json';\nimport unicode from './unicode.json';\nexport const required = _required;\nexport const fieldTypes = _fieldTypes;\nexport const diacritics = unicode.diacritics;\nexport const commands = unicode.commands;\nexport const defaultStrings = {\n  jan: '01',\n  feb: '02',\n  mar: '03',\n  apr: '04',\n  may: '05',\n  jun: '06',\n  jul: '07',\n  aug: '08',\n  sep: '09',\n  oct: '10',\n  nov: '11',\n  dec: '12',\n  acmcs: 'ACM Computing Surveys',\n  acta: 'Acta Informatica',\n  cacm: 'Communications of the ACM',\n  ibmjrd: 'IBM Journal of Research and Development',\n  ibmsj: 'IBM Systems Journal',\n  ieeese: 'IEEE Transactions on Software Engineering',\n  ieeetc: 'IEEE Transactions on Computers',\n  ieeetcad: 'IEEE Transactions on Computer-Aided Design of Integrated Circuits',\n  ipl: 'Information Processing Letters',\n  jacm: 'Journal of the ACM',\n  jcss: 'Journal of Computer and System Sciences',\n  scp: 'Science of Computer Programming',\n  sicomp: 'SIAM Journal on Computing',\n  tocs: 'ACM Transactions on Computer Systems',\n  tods: 'ACM Transactions on Database Systems',\n  tog: 'ACM Transactions on Graphics',\n  toms: 'ACM Transactions on Mathematical Software',\n  toois: 'ACM Transactions on Office Information Systems',\n  toplas: 'ACM Transactions on Programming Languages and Systems',\n  tcs: 'Theoretical Computer Science'\n};\nexport const formattingEnvs = {\n  it: 'italics',\n  itshape: 'italics',\n  sl: 'italics',\n  slshape: 'italics',\n  em: 'italics',\n  bf: 'bold',\n  bfseries: 'bold',\n  sc: 'smallcaps',\n  scshape: 'smallcaps',\n  rm: undefined,\n  sf: undefined,\n  tt: undefined\n};\nexport const formattingCommands = {\n  textit: 'italics',\n  textsl: 'italics',\n  emph: 'italics',\n  mkbibitalic: 'italics',\n  mkbibemph: 'italics',\n  textbf: 'bold',\n  strong: 'bold',\n  mkbibbold: 'bold',\n  textsc: 'smallcaps',\n  textsuperscript: 'superscript',\n  textsubscript: 'subscript',\n  enquote: 'quotes',\n  mkbibquote: 'quotes',\n  textmd: undefined,\n  textrm: undefined,\n  textsf: undefined,\n  texttt: undefined,\n  textup: undefined\n};\nexport const formatting = {\n  italics: ['<i>', '</i>'],\n  bold: ['<b>', '</b>'],\n  superscript: ['<sup>', '</sup>'],\n  subscript: ['<sub>', '</sub>'],\n  smallcaps: ['<span style=\"font-variant:small-caps;\">', '</span>'],\n  nocase: ['<span class=\"nocase\">', '</span>'],\n  quotes: ['\\u201C', '\\u201D']\n};\nexport const argumentCommands = {\n  ElsevierGlyph(glyph) {\n    return String.fromCharCode(parseInt(glyph, 16));\n  },\n  href(url, text) {\n    return url;\n  },\n  url(url) {\n    return url;\n  }\n};\nexport const ligaturePattern = /---?|''|``|~/g;\nexport const ligatures = {\n  '--': '\\u2013',\n  '---': '\\u2014',\n  '``': '\\u201C',\n  \"''\": '\\u201D',\n  '~': '\\u00A0'\n};\nexport const mathScriptFormatting = {\n  '^': 'superscript',\n  sp: 'superscript',\n  _: 'subscript',\n  sb: 'subscript',\n  mathrm: undefined\n};\nexport const mathScripts = {\n  '^': {\n    '0': '\\u2070',\n    '1': '\\u00B9',\n    '2': '\\u00B2',\n    '3': '\\u00B3',\n    '4': '\\u2074',\n    '5': '\\u2075',\n    '6': '\\u2076',\n    '7': '\\u2077',\n    '8': '\\u2078',\n    '9': '\\u2079',\n    '+': '\\u207A',\n    '-': '\\u207B',\n    '=': '\\u207C',\n    '(': '\\u207D',\n    ')': '\\u207E',\n    'i': '\\u2071',\n    'n': '\\u207F'\n  },\n  '_': {\n    '0': '\\u2080',\n    '1': '\\u2081',\n    '2': '\\u2082',\n    '3': '\\u2083',\n    '4': '\\u2084',\n    '5': '\\u2085',\n    '6': '\\u2086',\n    '7': '\\u2087',\n    '8': '\\u2088',\n    '9': '\\u2089',\n    '+': '\\u208A',\n    '-': '\\u208B',\n    '=': '\\u208C',\n    '(': '\\u208D',\n    ')': '\\u208E',\n    'a': '\\u2090',\n    'e': '\\u2091',\n    'o': '\\u2092',\n    'x': '\\u2093',\n    '\\u0259': '\\u2094',\n    'h': '\\u2095',\n    'k': '\\u2096',\n    'l': '\\u2097',\n    'm': '\\u2098',\n    'n': '\\u2099',\n    's': '\\u209A',\n    'p': '\\u209B',\n    't': '\\u209C'\n  }\n};\nexport const sentenceCaseLanguages = ['american', 'british', 'canadian', 'english', 'australian', 'newzealand', 'usenglish', 'ukenglish', 'en', 'eng', 'en-au', 'en-bz', 'en-ca', 'en-cb', 'en-gb', 'en-ie', 'en-jm', 'en-nz', 'en-ph', 'en-tt', 'en-us', 'en-za', 'en-zw', 'anglais'];","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return typeof key === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (typeof input !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (typeof res !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nimport { util, logger } from '../../core/index.js';\nimport moo from 'moo';\nimport { defaultStrings } from './constants.js';\nconst identifier = /[a-zA-Z_][a-zA-Z0-9_:-]*/;\nconst whitespace = {\n  comment: /%.*/,\n  whitespace: {\n    match: /\\s+/,\n    lineBreaks: true\n  }\n};\nconst lexer = moo.states({\n  main: {\n    junk: {\n      match: /@[cC][oO][mM][mM][eE][nN][tT].+|[^@]+/,\n      lineBreaks: true\n    },\n    at: {\n      match: '@',\n      push: 'entry'\n    }\n  },\n  entry: _objectSpread(_objectSpread({}, whitespace), {}, {\n    otherEntryType: {\n      match: /[sS][tT][rR][iI][nN][gG]|[pP][rR][eE][aA][mM][bB][lL][eE]/,\n      next: 'otherEntryContents'\n    },\n    dataEntryType: {\n      match: identifier,\n      next: 'dataEntryContents'\n    }\n  }),\n  otherEntryContents: _objectSpread(_objectSpread({}, whitespace), {}, {\n    lbrace: {\n      match: /[{(]/,\n      next: 'fields'\n    }\n  }),\n  dataEntryContents: _objectSpread(_objectSpread({}, whitespace), {}, {\n    lbrace: {\n      match: /[{(]/,\n      next: 'dataEntryContents'\n    },\n    label: /[^,\\s]+/,\n    comma: {\n      match: ',',\n      next: 'fields'\n    }\n  }),\n  fields: _objectSpread(_objectSpread({}, whitespace), {}, {\n    identifier,\n    number: /-?\\d+/,\n    hash: '#',\n    equals: '=',\n    comma: ',',\n    quote: {\n      match: '\"',\n      push: 'quotedLiteral'\n    },\n    lbrace: {\n      match: '{',\n      push: 'bracedLiteral'\n    },\n    rbrace: {\n      match: /[})]/,\n      pop: true\n    }\n  }),\n  quotedLiteral: {\n    lbrace: {\n      match: '{',\n      push: 'bracedLiteral'\n    },\n    quote: {\n      match: '\"',\n      pop: true\n    },\n    text: {\n      match: /(?:\\\\[\\\\{]|[^{\"])+/,\n      lineBreaks: true\n    }\n  },\n  bracedLiteral: {\n    lbrace: {\n      match: '{',\n      push: 'bracedLiteral'\n    },\n    rbrace: {\n      match: '}',\n      pop: true\n    },\n    text: {\n      match: /(?:\\\\[\\\\{}]|[^{}])+/,\n      lineBreaks: true\n    }\n  }\n});\nconst delimiters = {\n  '(': ')',\n  '{': '}'\n};\nexport const bibtexGrammar = new util.Grammar({\n  Main() {\n    const entries = [];\n    while (true) {\n      while (this.matchToken('junk')) {\n        this.consumeToken('junk');\n      }\n      if (this.matchEndOfFile()) {\n        break;\n      }\n      entries.push(this.consumeRule('Entry'));\n    }\n    return entries.filter(Boolean);\n  },\n  _() {\n    let oldToken;\n    while (oldToken !== this.token) {\n      oldToken = this.token;\n      this.consumeToken('whitespace', true);\n      this.consumeToken('comment', true);\n    }\n  },\n  Entry() {\n    this.consumeToken('at');\n    this.consumeRule('_');\n    const type = (this.matchToken('otherEntryType') ? this.consumeToken('otherEntryType') : this.consumeToken('dataEntryType')).value.toLowerCase();\n    this.consumeRule('_');\n    const openBrace = this.consumeToken('lbrace').value;\n    this.consumeRule('_');\n    let result;\n    if (type === 'string') {\n      const [key, value] = this.consumeRule('Field');\n      this.state.strings[key] = value;\n    } else if (type === 'preamble') {\n      this.consumeRule('Expression');\n    } else {\n      const label = this.consumeToken('label').value;\n      this.consumeRule('_');\n      this.consumeToken('comma');\n      this.consumeRule('_');\n      const properties = this.consumeRule('EntryBody');\n      result = {\n        type,\n        label,\n        properties\n      };\n    }\n    this.consumeRule('_');\n    const closeBrace = this.consumeToken('rbrace').value;\n    if (closeBrace !== delimiters[openBrace]) {\n      logger.warn('[plugin-bibtex]', `entry started with \"${openBrace}\", but ends with \"${closeBrace}\"`);\n    }\n    return result;\n  },\n  EntryBody() {\n    const properties = {};\n    while (this.matchToken('identifier')) {\n      const [field, value] = this.consumeRule('Field');\n      properties[field] = value;\n      this.consumeRule('_');\n      if (this.consumeToken('comma', true)) {\n        this.consumeRule('_');\n      } else {\n        break;\n      }\n    }\n    return properties;\n  },\n  Field() {\n    const field = this.consumeToken('identifier').value.toLowerCase();\n    this.consumeRule('_');\n    this.consumeToken('equals');\n    this.consumeRule('_');\n    const value = this.consumeRule('Expression');\n    return [field, value];\n  },\n  Expression() {\n    let output = this.consumeRule('ExpressionPart');\n    this.consumeRule('_');\n    while (this.matchToken('hash')) {\n      this.consumeToken('hash');\n      this.consumeRule('_');\n      output += this.consumeRule('ExpressionPart').toString();\n      this.consumeRule('_');\n    }\n    return output;\n  },\n  ExpressionPart() {\n    if (this.matchToken('identifier')) {\n      return this.state.strings[this.consumeToken('identifier').value.toLowerCase()] || '';\n    } else if (this.matchToken('number')) {\n      return parseInt(this.consumeToken('number'));\n    } else if (this.matchToken('quote')) {\n      return this.consumeRule('QuoteString');\n    } else {\n      return this.consumeRule('BracketString');\n    }\n  },\n  QuoteString() {\n    let output = '';\n    this.consumeToken('quote');\n    while (!this.matchToken('quote')) {\n      output += this.consumeRule('Text');\n    }\n    this.consumeToken('quote');\n    return output;\n  },\n  BracketString() {\n    let output = '';\n    this.consumeToken('lbrace');\n    while (!this.matchToken('rbrace')) {\n      output += this.consumeRule('Text');\n    }\n    this.consumeToken('rbrace');\n    return output;\n  },\n  Text() {\n    if (this.matchToken('lbrace')) {\n      return `{${this.consumeRule('BracketString')}}`;\n    } else {\n      return this.consumeToken('text').value;\n    }\n  }\n}, {\n  strings: defaultStrings\n});\nexport function parse(text) {\n  return bibtexGrammar.parse(lexer.reset(text));\n}","const bibTxtRegex = {\n  splitEntries: /\\n\\s*(?=\\[)/g,\n  parseEntry: /^\\[(.+?)\\]\\s*(?:\\n([\\s\\S]+))?$/,\n  splitPairs: /((?=.)\\s)*\\n\\s*/g,\n  splitPair: /:(.*)/\n};\nconst parseBibTxtEntry = entry => {\n  const [, label, pairs] = entry.match(bibTxtRegex.parseEntry) || [];\n  if (!label || !pairs) {\n    return {};\n  } else {\n    const out = {\n      type: 'book',\n      label,\n      properties: {}\n    };\n    pairs.trim().split(bibTxtRegex.splitPairs).filter(v => v).forEach(pair => {\n      let [key, value] = pair.split(bibTxtRegex.splitPair);\n      if (value) {\n        key = key.trim();\n        value = value.trim();\n        if (key === 'type') {\n          out.type = value;\n        } else {\n          out.properties[key] = value;\n        }\n      }\n    });\n    return out;\n  }\n};\nconst parseBibTxt = src => src.trim().split(bibTxtRegex.splitEntries).map(parseBibTxtEntry);\nexport { parseBibTxt as parse, parseBibTxt as text, parseBibTxtEntry as textEntry };","import biblatex from './mapping/biblatexTypes.json';\nimport bibtex from './mapping/bibtexTypes.json';\nimport * as constants from './input/constants.js';\nexport default {\n  constants,\n  types: {\n    biblatex,\n    bibtex\n  },\n  parse: {\n    biblatex: true,\n    strict: false,\n    sentenceCase: 'never'\n  },\n  format: {\n    useIdAsLabel: false\n  }\n};","//@ts-nocheck\nimport { util } from '../../core/index.js';\nimport config from '../config.js';\nconst stopWords = new Set(['the', 'a', 'an']);\nconst unsafeChars = /(?:<\\/?.*?>|[\\u0020-\\u002F\\u003A-\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F])+/g;\nconst unicode = /[^\\u0020-\\u007F]+/g;\nfunction firstWord(text) {\n  if (!text) {\n    return '';\n  } else {\n    return text.normalize('NFKD').replace(unicode, '').split(unsafeChars).find(word => word.length && !stopWords.has(word.toLowerCase()));\n  }\n}\nconst name = new util.Translator([{\n  source: 'given',\n  target: 'given'\n}, {\n  source: 'family',\n  target: 'family'\n}, {\n  source: 'suffix',\n  target: 'suffix'\n}, {\n  source: 'prefix',\n  target: 'non-dropping-particle'\n}, {\n  source: 'family',\n  target: 'literal',\n  when: {\n    source: false,\n    target: {\n      family: false,\n      given: false\n    }\n  }\n}]);\nconst months = ['jan', 'feb', 'mar', 'apr', 'may', 'jun', 'jul', 'aug', 'sep', 'oct', 'nov', 'dec'];\nexport const TYPE = 'BibTeX type';\nexport const LABEL = 'BibTeX label';\nexport const MONTHS = {\n  jan: 1,\n  feb: 2,\n  mar: 3,\n  apr: 4,\n  may: 5,\n  jun: 6,\n  jul: 7,\n  aug: 8,\n  sep: 9,\n  oct: 10,\n  nov: 11,\n  dec: 12,\n  january: 1,\n  february: 2,\n  march: 3,\n  april: 4,\n  may: 5,\n  june: 6,\n  july: 7,\n  august: 8,\n  september: 9,\n  october: 10,\n  november: 11,\n  december: 12\n};\nexport const TYPE_KEYS = {\n  bathesis: 'Bachelor\\'s thesis',\n  mathesis: 'Master\\'s thesis',\n  phdthesis: 'PhD thesis',\n  candthesis: 'Candidate thesis',\n  techreport: 'technical report',\n  resreport: 'research report',\n  software: 'computer software',\n  datacd: 'data cd',\n  audiocd: 'audio cd',\n  patent: 'patent',\n  patentde: 'German patent',\n  patenteu: 'European patent',\n  patentfr: 'French patent',\n  patentuk: 'British patent',\n  patentus: 'U.S. patent',\n  patreq: 'patent request',\n  patreqde: 'German patent request',\n  patreqeu: 'European patent request',\n  patreqfr: 'French patent request',\n  patrequk: 'British patent request',\n  patrequs: 'U.S. patent request'\n};\nexport const STANDARD_NUMBERS_PATTERN = /(^(?:ISAN )?(?:[0-9a-f]{4}-){4}[0-9a-z](?:-(?:[0-9a-f]{4}-){2}[0-9a-z])?$)|(^(?:979-?0-?|M-?)(?:\\d{9}|(?=[\\d-]{11}$)\\d+-\\d+-\\d)$)|(^ISRN .{1,36}$)|(^(?:ISWC )?T-?\\d{9}-?\\d$)/i;\nexport function parseDate(date) {\n  const parts = date.split('T')[0].replace(/[?~%]$/, '').split('-');\n  const year = +parts[0].replace(/^Y(?=-?\\d{4}\\d+)/, '').replace(/X/g, '0');\n  const month = +parts[1];\n  const day = +parts[2];\n  if (!month || month > 20) {\n    return [year];\n  } else if (!day) {\n    return [year, month];\n  } else {\n    return [year, month, day];\n  }\n}\nexport function parseMonth(value) {\n  if (value == null) {\n    return [];\n  }\n  if (+value) {\n    return [parseInt(value, 10)];\n  }\n  value = value.trim().toLowerCase();\n  if (value in MONTHS) {\n    return [MONTHS[value]];\n  }\n  const parts = value.split(/\\s+/);\n  let month;\n  let day;\n  if (parts[0] in MONTHS) {\n    month = MONTHS[parts[0]];\n    day = parseInt(parts[1]);\n  } else if (parts[1] in MONTHS) {\n    month = MONTHS[parts[1]];\n    day = parseInt(parts[0]);\n  }\n  return day ? [month, day] : month ? [month] : [];\n}\nexport function formatLabel(author, issued, suffix, title) {\n  let label = '';\n  if (author && author[0]) {\n    label += firstWord(author[0].family || author[0].literal);\n  }\n  if (issued && issued['date-parts'] && issued['date-parts'][0]) {\n    label += issued['date-parts'][0][0];\n  }\n  if (suffix) {\n    label += suffix;\n  } else if (title) {\n    label += firstWord(title);\n  }\n  return label;\n}\nexport const Converters = {\n  PICK: {\n    toTarget(...args) {\n      return args.find(Boolean);\n    },\n    toSource(value) {\n      return [value];\n    }\n  },\n  DATE: {\n    toTarget(date) {\n      const parts = date.split('/').map(part => part && part !== '..' ? parseDate(part) : undefined);\n      return isNaN(parts[0][0]) ? {\n        literal: date\n      } : {\n        'date-parts': parts\n      };\n    },\n    toSource(date) {\n      if ('date-parts' in date) {\n        return date['date-parts'].map(datePart => datePart.map(datePart => datePart.toString().padStart(2, '0')).join('-')).join('/');\n      }\n    }\n  },\n  YEAR_MONTH: {\n    toTarget(year, month, day) {\n      if (isNaN(+year)) {\n        return {\n          literal: year\n        };\n      } else if (!isNaN(+day) && !isNaN(+month)) {\n        return {\n          'date-parts': [[+year, +month, +day]]\n        };\n      } else {\n        return {\n          'date-parts': [[+year, ...parseMonth(month)]]\n        };\n      }\n    },\n    toSource(date) {\n      if ('date-parts' in date) {\n        const [year, month, day] = date['date-parts'][0];\n        return [year.toString(), month ? day ? `${months[month - 1]} ${day}` : month : undefined];\n      } else {\n        return [];\n      }\n    }\n  },\n  EPRINT: {\n    toTarget(id, type) {\n      if (type === 'pubmed') {\n        return id;\n      }\n    },\n    toSource(id) {\n      return [id, 'pubmed'];\n    }\n  },\n  EVENT_TITLE: {\n    toTarget(title, addon) {\n      if (addon) {\n        title += ' (' + addon + ')';\n      }\n      return title;\n    },\n    toSource(title) {\n      return title.match(/^(.+)(?: \\((.+)\\))?$/).slice(1, 3);\n    }\n  },\n  HOW_PUBLISHED: {\n    toTarget(howPublished) {\n      if (howPublished.startsWith('http')) {\n        return howPublished;\n      }\n    }\n  },\n  KEYWORDS: {\n    toTarget(list) {\n      return list.join(',');\n    },\n    toSource(list) {\n      return list.split(',');\n    }\n  },\n  LABEL: {\n    toTarget(label) {\n      return [label, label];\n    },\n    toSource(id, label, author, issued, suffix, title) {\n      let safeId;\n      if (id === null) {\n        safeId = 'null';\n      } else if (id === undefined) {\n        safeId = 'undefined';\n      } else {\n        safeId = id.toString().replace(unsafeChars, '');\n      }\n      if (config.format.useIdAsLabel) {\n        return safeId;\n      }\n      if (label && !unsafeChars.test(label)) {\n        return label;\n      } else {\n        return formatLabel(author, issued, suffix, title) || safeId;\n      }\n    }\n  },\n  NAMES: {\n    toTarget(list) {\n      return list.map(name.convertToTarget);\n    },\n    toSource(list) {\n      return list.map(name.convertToSource);\n    }\n  },\n  PAGES: {\n    toTarget(pages) {\n      return pages.replace(/[]/, '-');\n    },\n    toSource(pages) {\n      return pages.replace('-', '--');\n    }\n  },\n  STANDARD_NUMBERS: {\n    toTarget(...args) {\n      return args.find(Boolean);\n    },\n    toSource(number) {\n      const match = number.toString().match(STANDARD_NUMBERS_PATTERN);\n      return match ? match.slice(1, 5) : [];\n    }\n  },\n  STATUS: {\n    toSource(state) {\n      if (/^(inpreparation|submitted|forthcoming|inpress|prepublished)$/i.test(state)) {\n        return state;\n      }\n    }\n  },\n  TITLE: {\n    toTarget(title, subtitle, addon) {\n      if (subtitle) {\n        title += ': ' + subtitle;\n      }\n      return title;\n    },\n    toSource(title) {\n      return [title];\n    }\n  }\n};","import { util } from '../../core/index.js';\nimport { format as formatDate } from '@citation-js/date';\nimport types from './biblatexTypes.json';\nimport { TYPE, LABEL, TYPE_KEYS, Converters } from './shared.js';\nconst nonSpec = [{\n  source: 'note',\n  target: 'accessed',\n  when: {\n    source: false,\n    target: {\n      note: false,\n      addendum: false\n    }\n  },\n  convert: {\n    toSource(accessed) {\n      return `[Online; accessed ${formatDate(accessed)}]`;\n    }\n  }\n}, {\n  source: 'numpages',\n  target: 'number-of-pages',\n  when: {\n    source: {\n      pagetotal: false\n    },\n    target: false\n  }\n}, {\n  source: 'pmid',\n  target: 'PMID',\n  when: {\n    source: {\n      eprinttype(type) {\n        return type !== 'pmid';\n      },\n      archiveprefix(type) {\n        return type !== 'pmid';\n      }\n    },\n    target: false\n  }\n}, {\n  source: 'pmcid',\n  target: 'PMCID',\n  when: {\n    target: false\n  }\n}, {\n  source: 's2id',\n  target: 'custom',\n  convert: {\n    toTarget(S2ID) {\n      return {\n        S2ID\n      };\n    },\n    toSource({\n      S2ID\n    }) {\n      return S2ID;\n    }\n  }\n}];\nconst aliases = [{\n  source: 'annote',\n  target: 'annote',\n  when: {\n    source: {\n      annotation: false\n    },\n    target: false\n  }\n}, {\n  source: 'address',\n  target: 'publisher-place',\n  convert: Converters.PICK,\n  when: {\n    source: {\n      location: false\n    },\n    target: false\n  }\n}, {\n  source: ['eprint', 'archiveprefix'],\n  target: 'PMID',\n  convert: Converters.EPRINT,\n  when: {\n    source: {\n      eprinttype: false\n    },\n    target: false\n  }\n}, {\n  source: 'journal',\n  target: 'container-title',\n  when: {\n    source: {\n      maintitle: false,\n      booktitle: false,\n      journaltitle: false\n    },\n    target: false\n  }\n}, {\n  source: 'school',\n  target: 'publisher',\n  convert: Converters.PICK,\n  when: {\n    source: {\n      institution: false,\n      organization: false,\n      publisher: false\n    },\n    target: false\n  }\n}];\nexport default new util.Translator([...aliases, ...nonSpec, {\n  source: 'abstract',\n  target: 'abstract'\n}, {\n  source: 'urldate',\n  target: 'accessed',\n  convert: Converters.DATE\n}, {\n  source: 'annotation',\n  target: 'annote'\n}, {\n  source: 'author',\n  target: 'author',\n  convert: Converters.NAMES\n}, {\n  source: 'library',\n  target: 'call-number'\n}, {\n  source: 'chapter',\n  target: 'chapter-number'\n}, {\n  source: 'bookauthor',\n  target: 'container-author',\n  convert: Converters.NAMES\n}, {\n  source: ['maintitle', 'mainsubtitle', 'maintitleaddon'],\n  target: 'container-title',\n  when: {\n    source: true,\n    target: {\n      'number-of-volumes': true\n    }\n  },\n  convert: Converters.TITLE\n}, {\n  source: ['booktitle', 'booksubtitle', 'booktitleaddon'],\n  target: 'container-title',\n  when: {\n    source: {\n      maintitle: false\n    },\n    target: {\n      'number-of-volumes': false,\n      type(type) {\n        return !type || !type.startsWith('article');\n      }\n    }\n  },\n  convert: Converters.TITLE\n}, {\n  source: ['journaltitle', 'journalsubtitle', 'journaltitleaddon'],\n  target: 'container-title',\n  when: {\n    source: {\n      [TYPE]: 'article'\n    },\n    target: {\n      type: ['article', 'article-newspaper', 'article-journal', 'article-magazine']\n    }\n  },\n  convert: Converters.TITLE\n}, {\n  source: 'shortjournal',\n  target: 'container-title-short',\n  when: {\n    source: {\n      [TYPE]: 'article'\n    },\n    target: {\n      type: ['article', 'article-newspaper', 'article-journal', 'article-magazine']\n    }\n  }\n}, {\n  source: 'shortjournal',\n  target: 'journalAbbreviation',\n  when: {\n    source: false,\n    target: {\n      'container-title-short': false\n    }\n  }\n}, {\n  source: 'number',\n  target: 'collection-number',\n  when: {\n    source: {\n      [TYPE]: ['book', 'mvbook', 'inbook', 'bookinbook', 'suppbook', 'collection', 'mvcollection', 'incollection', 'suppcollection', 'manual', 'suppperiodical', 'proceedings', 'mvproceedings', 'refererence']\n    },\n    target: {\n      type: ['bill', 'book', 'broadcast', 'chapter', 'dataset', 'entry', 'entry-dictionary', 'entry-encyclopedia', 'figure', 'graphic', 'interview', 'legislation', 'legal_case', 'manuscript', 'map', 'motion_picture', 'musical_score', 'pamphlet', 'post', 'post-weblog', 'personal_communication', 'review', 'review-book', 'song', 'speech', 'thesis', 'treaty', 'webpage']\n    }\n  }\n}, {\n  source: 'series',\n  target: 'collection-title'\n}, {\n  source: 'shortseries',\n  target: 'collection-title-short'\n}, {\n  source: 'doi',\n  target: 'DOI'\n}, {\n  source: 'edition',\n  target: 'edition'\n}, {\n  source: 'editor',\n  target: 'editor',\n  convert: Converters.NAMES\n}, {\n  source: [TYPE, 'entrysubtype', 'type'],\n  target: ['type', 'genre'],\n  convert: {\n    toTarget(type, subtype, typeKey) {\n      if (!typeKey) {\n        if (type === 'mastersthesis') {\n          typeKey = 'mathesis';\n        }\n        if (type === 'phdthesis') {\n          typeKey = 'phdthesis';\n        }\n        if (type === 'techreport') {\n          typeKey = 'techreport';\n        }\n      }\n      return [types.source[type] || 'document', typeKey || subtype];\n    },\n    toSource(type, genre) {\n      const sourceType = types.target[type] || 'misc';\n      return genre in TYPE_KEYS ? [sourceType, undefined, genre] : [sourceType, genre];\n    }\n  }\n}, {\n  source: TYPE,\n  when: {\n    target: {\n      type: false\n    }\n  },\n  convert: {\n    toSource() {\n      return 'misc';\n    }\n  }\n}, {\n  source: 'eventdate',\n  target: 'event-date',\n  convert: Converters.DATE\n}, {\n  source: 'venue',\n  target: 'event-place'\n}, {\n  source: ['eventtitle', 'eventtitleaddon'],\n  target: 'event-title',\n  convert: Converters.EVENT_TITLE\n}, {\n  source: ['eventtitle', 'eventtitleaddon'],\n  target: 'event',\n  convert: Converters.EVENT_TITLE,\n  when: {\n    source: false,\n    target: {\n      'event-title': false\n    }\n  }\n}, {\n  source: LABEL,\n  target: ['id', 'citation-key', 'author', 'issued', 'year-suffix', 'title'],\n  convert: Converters.LABEL\n}, {\n  source: 'isbn',\n  target: 'ISBN'\n}, {\n  source: 'issn',\n  target: 'ISSN'\n}, {\n  source: 'issue',\n  target: 'issue',\n  when: {\n    source: {\n      number: false,\n      [TYPE]: ['article', 'periodical']\n    },\n    target: {\n      issue(issue) {\n        return typeof issue === 'string' && !issue.match(/\\d+/);\n      },\n      type: ['article', 'article-journal', 'article-newspaper', 'article-magazine', 'periodical']\n    }\n  }\n}, {\n  source: 'number',\n  target: 'issue',\n  when: {\n    source: {\n      [TYPE]: ['article', 'periodical', 'inproceedings']\n    },\n    target: {\n      issue(issue) {\n        return issue && (typeof issue === 'number' || issue.match(/\\d+/));\n      },\n      type: ['article', 'article-journal', 'article-newspaper', 'article-magazine', 'paper-conference', 'periodical']\n    }\n  }\n}, {\n  source: 'date',\n  target: 'issued',\n  convert: Converters.DATE\n}, {\n  source: ['year', 'month', 'day'],\n  target: 'issued',\n  convert: Converters.YEAR_MONTH,\n  when: {\n    source: {\n      date: false\n    },\n    target: false\n  }\n}, {\n  source: 'location',\n  target: 'jurisdiction',\n  when: {\n    source: {\n      type: 'patent'\n    },\n    target: {\n      type: 'patent'\n    }\n  }\n}, {\n  source: 'keywords',\n  target: 'keyword',\n  convert: Converters.KEYWORDS\n}, {\n  source: 'language',\n  target: 'language',\n  convert: Converters.PICK\n}, {\n  source: 'langid',\n  target: 'language',\n  when: {\n    source: {\n      language: false\n    },\n    target: false\n  }\n}, {\n  source: 'note',\n  target: 'note'\n}, {\n  source: 'addendum',\n  target: 'note',\n  when: {\n    source: {\n      note: false\n    },\n    target: false\n  }\n}, {\n  source: 'eid',\n  target: 'number',\n  when: {\n    target: {\n      type: ['article-journal']\n    }\n  }\n}, {\n  source: ['isan', 'ismn', 'isrn', 'iswc'],\n  target: 'number',\n  convert: Converters.STANDARD_NUMBERS,\n  when: {\n    source: {\n      [TYPE](type) {\n        return type !== 'patent';\n      }\n    },\n    target: {\n      type(type) {\n        return type !== 'patent';\n      }\n    }\n  }\n}, {\n  source: 'number',\n  target: 'number',\n  when: {\n    source: {\n      [TYPE]: ['patent', 'report', 'techreport', 'legislation']\n    },\n    target: {\n      type: ['patent', 'report', 'legislation']\n    }\n  }\n}, {\n  source: 'origdate',\n  target: 'original-date',\n  convert: Converters.DATE\n}, {\n  source: 'origlocation',\n  target: 'original-publisher-place',\n  convert: Converters.PICK\n}, {\n  source: 'origpublisher',\n  target: 'original-publisher',\n  convert: Converters.PICK\n}, {\n  source: 'origtitle',\n  target: 'original-title'\n}, {\n  source: 'pages',\n  target: 'page',\n  when: {\n    source: {\n      bookpagination: [undefined, 'page']\n    }\n  },\n  convert: Converters.PAGES\n}, {\n  source: 'pagetotal',\n  target: 'number-of-pages'\n}, {\n  source: 'part',\n  target: 'part-number'\n}, {\n  source: ['eprint', 'eprinttype'],\n  target: 'PMID',\n  convert: Converters.EPRINT\n}, {\n  source: 'location',\n  target: 'publisher-place',\n  convert: Converters.PICK\n}, {\n  source: 'publisher',\n  target: 'publisher',\n  convert: Converters.PICK,\n  when: {\n    source: true,\n    target: {\n      type: ['article', 'article-journal', 'article-magazine', 'article-newspaper', 'bill', 'book', 'broadcast', 'chapter', 'classic', 'collection', 'dataset', 'document', 'entry', 'entry-dictionary', 'entry-encyclopedia', 'event', 'figure', 'graphic', 'hearing', 'interview', 'legal_case', 'legislation', 'manuscript', 'map', 'motion_picture', 'musical_score', 'pamphlet', 'paper-conference', 'patent', 'performance', 'periodical', 'personal_communication', 'post', 'post-weblog', 'regulation', 'review', 'review-book', 'software', 'song', 'speech', 'standard', 'treaty']\n    }\n  }\n}, {\n  source: 'organization',\n  target: 'publisher',\n  convert: Converters.PICK,\n  when: {\n    source: {\n      publisher: false\n    },\n    target: {\n      type: 'webpage'\n    }\n  }\n}, {\n  source: 'institution',\n  target: 'publisher',\n  convert: Converters.PICK,\n  when: {\n    source: {\n      publisher: false,\n      organization: false\n    },\n    target: {\n      type: ['report', 'thesis']\n    }\n  }\n}, {\n  source: 'howpublished',\n  target: 'publisher',\n  convert: Converters.PICK,\n  when: {\n    source: {\n      publisher: false,\n      organization: false,\n      institution: false\n    },\n    target: {\n      type: 'manuscript'\n    }\n  }\n}, {\n  source: ['pages', 'bookpagination'],\n  target: 'section',\n  when: {\n    source: {\n      bookpagination: 'section'\n    },\n    target: {\n      page: false\n    }\n  },\n  convert: {\n    toTarget(section) {\n      return section;\n    },\n    toSource(section) {\n      return [section, 'section'];\n    }\n  }\n}, {\n  source: 'pubstate',\n  target: 'status',\n  convert: Converters.STATUS\n}, {\n  source: 'shorttitle',\n  target: 'title-short'\n}, {\n  source: 'shorttitle',\n  target: 'shortTitle',\n  when: {\n    source: false,\n    target: {\n      'title-short': false\n    }\n  }\n}, {\n  source: ['title', 'subtitle', 'titleaddon'],\n  target: 'title',\n  convert: Converters.TITLE\n}, {\n  source: 'translator',\n  target: 'translator',\n  convert: Converters.NAMES\n}, {\n  source: 'url',\n  target: 'URL'\n}, {\n  source: 'howpublished',\n  target: 'URL',\n  convert: Converters.HOW_PUBLISHED,\n  when: {\n    source: {\n      url: false\n    },\n    target: false\n  }\n}, {\n  source: 'version',\n  target: 'version'\n}, {\n  source: 'volume',\n  target: 'volume'\n}, {\n  source: 'volumes',\n  target: 'number-of-volumes'\n}, {\n  source: ['issuetitle', 'issuesubtitle', 'issuetitleaddon'],\n  target: 'volume-title',\n  convert: Converters.TITLE\n}]);","import { util } from '../../core/index.js';\nimport { format as formatDate } from '@citation-js/date';\nimport types from './bibtexTypes.json';\nimport { TYPE, LABEL, Converters } from './shared.js';\nexport default new util.Translator([{\n  source: 'note',\n  target: 'accessed',\n  when: {\n    source: false,\n    target: {\n      note: false\n    }\n  },\n  convert: {\n    toSource(accessed) {\n      return `[Online; accessed ${formatDate(accessed)}]`;\n    }\n  }\n}, {\n  source: 'annote',\n  target: 'annote'\n}, {\n  source: 'address',\n  target: 'publisher-place',\n  convert: Converters.PICK\n}, {\n  source: 'author',\n  target: 'author',\n  convert: Converters.NAMES\n}, {\n  source: 'chapter',\n  target: 'chapter-number'\n}, {\n  source: 'number',\n  target: 'collection-number',\n  when: {\n    source: {\n      [TYPE]: ['book', 'mvbook', 'inbook', 'collection', 'mvcollection', 'incollection', 'suppcollection', 'manual', 'suppperiodical', 'proceedings', 'mvproceedings', 'refererence']\n    },\n    target: {\n      type: ['bill', 'book', 'broadcast', 'chapter', 'dataset', 'entry', 'entry-dictionary', 'entry-encyclopedia', 'figure', 'graphic', 'interview', 'legislation', 'legal_case', 'manuscript', 'map', 'motion_picture', 'musical_score', 'pamphlet', 'post', 'post-weblog', 'personal_communication', 'review', 'review-book', 'song', 'speech', 'thesis', 'treaty', 'webpage']\n    }\n  }\n}, {\n  source: 'series',\n  target: 'collection-title'\n}, {\n  source: 'booktitle',\n  target: 'container-title',\n  when: {\n    target: {\n      type: ['chapter', 'paper-conference']\n    }\n  }\n}, {\n  source: 'journal',\n  target: 'container-title',\n  when: {\n    source: {\n      [TYPE]: 'article'\n    },\n    target: {\n      type: ['article', 'article-newspaper', 'article-journal', 'article-magazine']\n    }\n  }\n}, {\n  source: 'edition',\n  target: 'edition'\n}, {\n  source: 'editor',\n  target: 'editor',\n  convert: Converters.NAMES\n}, {\n  source: LABEL,\n  target: ['id', 'citation-key', 'author', 'issued', 'year-suffix', 'title'],\n  convert: Converters.LABEL\n}, {\n  source: 'number',\n  target: 'issue',\n  when: {\n    source: {\n      [TYPE]: ['article', 'periodical', 'inproceedings']\n    },\n    target: {\n      issue(issue) {\n        return typeof issue === 'number' || typeof issue === 'string' && issue.match(/\\d+/);\n      },\n      type: ['article', 'article-journal', 'article-newspaper', 'article-magazine', 'paper-conference', 'periodical']\n    }\n  }\n}, {\n  source: ['year', 'month', 'day'],\n  target: 'issued',\n  convert: Converters.YEAR_MONTH\n}, {\n  source: 'note',\n  target: 'note'\n}, {\n  source: 'number',\n  target: 'number',\n  when: {\n    source: {\n      [TYPE]: ['patent', 'report', 'techreport']\n    },\n    target: {\n      type: ['patent', 'report']\n    }\n  }\n}, {\n  source: 'pages',\n  target: 'page',\n  convert: Converters.PAGES\n}, {\n  source: 'publisher',\n  target: 'publisher',\n  convert: Converters.PICK,\n  when: {\n    target: {\n      type: ['article', 'article-journal', 'article-magazine', 'article-newspaper', 'bill', 'book', 'broadcast', 'chapter', 'classic', 'collection', 'dataset', 'document', 'entry', 'entry-dictionary', 'entry-encyclopedia', 'event', 'figure', 'graphic', 'hearing', 'interview', 'legal_case', 'legislation', 'map', 'motion_picture', 'musical_score', 'pamphlet', 'patent', 'performance', 'periodical', 'personal_communication', 'post', 'post-weblog', 'regulation', 'review', 'review-book', 'software', 'song', 'speech', 'standard', 'treaty', 'webpage']\n    }\n  }\n}, {\n  source: 'organization',\n  target: 'publisher',\n  convert: Converters.PICK,\n  when: {\n    source: {\n      publisher: false\n    },\n    target: {\n      type: 'paper-conference'\n    }\n  }\n}, {\n  source: 'institution',\n  target: 'publisher',\n  convert: Converters.PICK,\n  when: {\n    source: {\n      publisher: false,\n      organization: false\n    },\n    target: {\n      type: 'report'\n    }\n  }\n}, {\n  source: 'school',\n  target: 'publisher',\n  convert: Converters.PICK,\n  when: {\n    source: {\n      institution: false,\n      organization: false,\n      publisher: false\n    },\n    target: {\n      type: 'thesis'\n    }\n  }\n}, {\n  source: 'howpublished',\n  target: 'publisher',\n  convert: Converters.PICK,\n  when: {\n    source: {\n      publisher: false,\n      organization: false,\n      institution: false,\n      school: false\n    },\n    target: {\n      type: 'manuscript'\n    }\n  }\n}, {\n  source: 'title',\n  target: 'title'\n}, {\n  source: [TYPE, 'type'],\n  target: ['type', 'genre'],\n  convert: {\n    toTarget(sourceType, subType) {\n      const type = types.source[sourceType] || 'document';\n      if (subType) {\n        return [type, subType];\n      } else if (sourceType === 'mastersthesis') {\n        return [type, 'Master\\'s thesis'];\n      } else if (sourceType === 'phdthesis') {\n        return [type, 'PhD thesis'];\n      } else {\n        return [type];\n      }\n    },\n    toSource(targetType, genre) {\n      const type = types.target[targetType] || 'misc';\n      if (/^(master'?s|diploma) thesis$/i.test(genre)) {\n        return ['mastersthesis'];\n      } else if (/^(phd|doctoral) thesis$/i.test(genre)) {\n        return ['phdthesis'];\n      } else {\n        return [type, genre];\n      }\n    }\n  }\n}, {\n  source: TYPE,\n  when: {\n    target: {\n      type: false\n    }\n  },\n  convert: {\n    toSource() {\n      return 'misc';\n    }\n  }\n}, {\n  source: 'howpublished',\n  target: 'URL',\n  convert: Converters.HOW_PUBLISHED,\n  when: {\n    target: {\n      publisher: false\n    }\n  }\n}, {\n  source: 'volume',\n  target: 'volume'\n}]);","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return typeof key === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (typeof input !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (typeof res !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nconst BOOK = new Set(['book', 'inbook', 'bookinbook', 'suppbook']);\nconst BOOK_PART = new Set(['inbook', 'bookinbook', 'suppbook']);\nconst COLLECTION = new Set(['collection', 'reference', 'incollection', 'inreference', 'suppcollection']);\nconst COLLECTION_PART = new Set(['incollection', 'inreference', 'suppcollection']);\nconst PROCEEDINGS = new Set(['proceedings', 'inproceedings']);\nconst PROCEEDINGS_PART = new Set(['inproceedings']);\nconst PERIODICAL_PART = new Set(['article', 'suppperiodical']);\nconst TITLE_MAP = {\n  mvbook: ['main', BOOK],\n  mvcollection: ['main', COLLECTION],\n  mvreference: ['main', COLLECTION],\n  mvproceedings: ['main', PROCEEDINGS],\n  book: ['book', BOOK_PART],\n  collection: ['book', COLLECTION_PART],\n  reference: ['book', COLLECTION_PART],\n  proceedings: ['book', PROCEEDINGS_PART],\n  periodical: ['journal', PERIODICAL_PART]\n};\nexport function crossref(target, entry, registry) {\n  if (entry.crossref in registry) {\n    const parent = registry[entry.crossref];\n    if (parent.properties === entry) {\n      return entry;\n    }\n    const data = _objectSpread({}, crossref(parent.type, parent.properties, registry));\n    delete data.ids;\n    delete data.crossref;\n    delete data.xref;\n    delete data.entryset;\n    delete data.entrysubtype;\n    delete data.execute;\n    delete data.label;\n    delete data.options;\n    delete data.presort;\n    delete data.related;\n    delete data.relatedoptions;\n    delete data.relatedstring;\n    delete data.relatedtype;\n    delete data.shortand;\n    delete data.shortandintro;\n    delete data.sortkey;\n    if ((parent.type === 'mvbook' || parent.type === 'book') && BOOK_PART.has(target)) {\n      data.bookauthor = data.author;\n    }\n    if (parent.type in TITLE_MAP) {\n      const [prefix, targets] = TITLE_MAP[parent.type];\n      if (targets.has(target)) {\n        data[prefix + 'title'] = data.title;\n        data[prefix + 'subtitle'] = data.subtitle;\n        if (prefix !== 'journal') {\n          data[prefix + 'titleaddon'] = data.titleaddon;\n        }\n        delete data.title;\n        delete data.subtitle;\n        delete data.titleaddon;\n        delete data.shorttitle;\n        delete data.sorttitle;\n        delete data.indextitle;\n        delete data.indexsorttitle;\n      }\n    }\n    return Object.assign(data, entry);\n  }\n  return entry;\n}","function _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return typeof key === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (typeof input !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (typeof res !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nimport { TYPE, LABEL } from './shared.js';\nimport biblatex from './biblatex.js';\nimport bibtex from './bibtex.js';\nimport { crossref } from './crossref.js';\nfunction _parse(input, spec) {\n  const registry = {};\n  for (const entry of input) {\n    registry[entry.label] = entry;\n  }\n  return input.map(({\n    type,\n    label,\n    properties\n  }) => spec.convertToTarget(_objectSpread({\n    [TYPE]: type,\n    [LABEL]: label\n  }, crossref(type, properties, registry))));\n}\nfunction _format(input, spec) {\n  return input.map(entry => {\n    const _spec$convertToSource = spec.convertToSource(entry),\n      {\n        [TYPE]: type,\n        [LABEL]: label\n      } = _spec$convertToSource,\n      properties = _objectWithoutProperties(_spec$convertToSource, [TYPE, LABEL].map(_toPropertyKey));\n    return {\n      type,\n      label,\n      properties\n    };\n  });\n}\nexport function parseBibtex(input) {\n  return _parse(input, bibtex);\n}\nexport function formatBibtex(input) {\n  return _format(input, bibtex);\n}\nexport function parse(input) {\n  return _parse(input, biblatex);\n}\nexport function format(input) {\n  return _format(input, biblatex);\n}","export function getStringCase(string) {\n  const a = string.toUpperCase();\n  const b = string.toLowerCase();\n  for (let i = 0; i < string.length; i++) {\n    if (a[i] !== b[i]) {\n      return a[i] === string[i];\n    }\n  }\n  return null;\n}\nexport function formatNameParts(parts) {\n  if (parts.length === 0) {\n    return undefined;\n  }\n  let piece = '';\n  while (parts.length > 1) {\n    const {\n      value,\n      hyphenated\n    } = parts.shift();\n    piece += value + (hyphenated ? '-' : ' ');\n  }\n  const output = piece + parts[0].value;\n  return output[0] && output;\n}\nexport function orderNameParts(parts, orderGiven = true) {\n  const given = [];\n  const undecided = [];\n  if (orderGiven) {\n    while (parts.length > 1 && parts[0].upperCase !== false) {\n      given.push(...undecided);\n      undecided.length = 0;\n      while (parts.length > 1 && parts[0].upperCase !== false && !parts[0].hyphenated) {\n        given.push(parts.shift());\n      }\n      while (parts.length > 0 && parts[0].upperCase !== false && parts[0].hyphenated) {\n        undecided.push(parts.shift());\n      }\n    }\n  }\n  const prefix = [];\n  const family = [];\n  while (parts.length > 1) {\n    prefix.push(...family);\n    family.length = 0;\n    while (parts.length > 1 && parts[0].upperCase === false) {\n      prefix.push(parts.shift());\n    }\n    while (parts.length > 0 && parts[0].upperCase !== false) {\n      family.push(parts.shift());\n    }\n  }\n  if (undecided.length) {\n    family.unshift(...undecided);\n  }\n  if (parts.length) {\n    family.push(parts[0]);\n  }\n  return [formatNameParts(given), formatNameParts(prefix), formatNameParts(family)];\n}\nexport function orderNamePieces(pieces) {\n  if (pieces[0][0].label) {\n    const name = {};\n    for (const [{\n      value,\n      label\n    }] of pieces) {\n      name[label] = value;\n    }\n    return name;\n  }\n  const name = {};\n  const [given, prefix, family] = orderNameParts(pieces[0], pieces.length === 1);\n  if (family) {\n    name.family = family;\n  }\n  if (prefix) {\n    name.prefix = prefix;\n  }\n  if (pieces.length === 3) {\n    name.given = formatNameParts(pieces[2]);\n    name.suffix = formatNameParts(pieces[1]);\n  } else if (pieces.length === 2) {\n    name.given = formatNameParts(pieces[1]);\n  } else if (given) {\n    name.given = given;\n  }\n  return name;\n}","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return typeof key === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (typeof input !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (typeof res !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nimport { util } from '../../core/index.js';\nimport moo from 'moo';\nimport config from '../config.js';\nimport * as constants from './constants.js';\nimport { orderNamePieces, formatNameParts, getStringCase } from './name.js';\nconst commandKeywords = {\n  '\\\\begin': 'commandBegin',\n  '\\\\end': 'commandEnd'\n};\nconst text = {\n  command: {\n    match: /\\\\(?:[a-zA-Z]+|.) */,\n    type: command => commandKeywords[command],\n    value: s => s.slice(1).trim()\n  },\n  lbrace: {\n    match: '{',\n    push: 'bracedLiteral'\n  },\n  mathShift: {\n    match: '$',\n    push: 'mathLiteral'\n  },\n  whitespace: {\n    match: /[\\s]+|~/,\n    lineBreaks: true,\n    value(token) {\n      return token === '~' ? '\\xa0' : ' ';\n    }\n  }\n};\nconst lexer = moo.states({\n  stringLiteral: _objectSpread(_objectSpread({}, text), {}, {\n    text: /[^{$}\\s~\\\\]+/\n  }),\n  namesLiteral: _objectSpread(_objectSpread({\n    and: /\\s+[aA][nN][dD]\\s+/,\n    comma: ',',\n    hyphen: '-',\n    equals: '='\n  }, text), {}, {\n    text: /[^{$}\\s~\\\\,=-]+/\n  }),\n  listLiteral: _objectSpread(_objectSpread({\n    and: /\\s+and\\s+/\n  }, text), {}, {\n    text: /[^{$}\\s~\\\\]+/\n  }),\n  separatedLiteral: _objectSpread(_objectSpread({\n    comma: ','\n  }, text), {}, {\n    text: /[^{$}\\s~\\\\,]+/\n  }),\n  bracedLiteral: _objectSpread(_objectSpread({}, text), {}, {\n    rbrace: {\n      match: '}',\n      pop: true\n    },\n    text: /[^{$}\\s~\\\\]+/\n  }),\n  mathLiteral: _objectSpread(_objectSpread({}, text), {}, {\n    mathShift: {\n      match: '$',\n      pop: true\n    },\n    script: /[\\^_]/,\n    text: /[^{$}\\s~\\\\^_]+/\n  })\n});\nfunction flattenConsString(string) {\n  string[0];\n  return string;\n}\nfunction applyFormatting(text, format) {\n  if (format in constants.formatting) {\n    return text && constants.formatting[format].join(text);\n  } else {\n    return text;\n  }\n}\nexport const valueGrammar = new util.Grammar({\n  String() {\n    let output = '';\n    while (!this.matchEndOfFile()) {\n      output += this.consumeRule('Text');\n    }\n    return flattenConsString(output);\n  },\n  StringNames() {\n    const list = [];\n    while (true) {\n      this.consumeToken('whitespace', true);\n      list.push(this.consumeRule('Name'));\n      this.consumeToken('whitespace', true);\n      if (this.matchEndOfFile()) {\n        return list;\n      } else {\n        this.consumeToken('and');\n      }\n    }\n  },\n  Name() {\n    const pieces = [];\n    while (true) {\n      pieces.push(this.consumeRule('NamePiece'));\n      if (this.matchEndOfFile() || this.matchToken('and')) {\n        return orderNamePieces(pieces);\n      } else {\n        this.consumeToken('comma');\n        this.consumeToken('whitespace', true);\n      }\n    }\n  },\n  NamePiece() {\n    const parts = [];\n    while (true) {\n      const part = this.consumeRule('NameToken');\n      if (part.label) {\n        part.label = formatNameParts([...parts, {\n          value: part.label\n        }]);\n        return [part];\n      }\n      parts.push(part);\n      if (this.matchEndOfFile() || this.matchToken('and') || this.matchToken('comma')) {\n        return parts;\n      } else {\n        while (this.matchToken('hyphen') || this.matchToken('whitespace')) {\n          this.consumeToken();\n        }\n      }\n    }\n  },\n  NameToken() {\n    let upperCase = null;\n    let value = '';\n    while (true) {\n      if (upperCase === null && this.matchToken('text')) {\n        const text = this.consumeToken().value;\n        value += text;\n        upperCase = getStringCase(text);\n      } else if (this.matchEndOfFile() || this.matchToken('and') || this.matchToken('comma') || this.matchToken('whitespace')) {\n        return {\n          value,\n          upperCase\n        };\n      } else if (this.matchToken('hyphen')) {\n        return {\n          value,\n          upperCase,\n          hyphenated: true\n        };\n      } else if (this.matchToken('equals')) {\n        this.consumeToken('equals');\n        const text = this.consumeRule('NamePiece');\n        if (text[0].label) {\n          value += '=' + text[0].label;\n        }\n        return {\n          value: formatNameParts(text),\n          label: value\n        };\n      } else {\n        value += this.consumeRule('Text');\n      }\n    }\n  },\n  StringList() {\n    const list = [];\n    while (!this.matchEndOfFile()) {\n      let output = '';\n      while (!this.matchEndOfFile() && !this.matchToken('and')) {\n        output += this.consumeRule('Text');\n      }\n      list.push(flattenConsString(output));\n      this.consumeToken('and', true);\n    }\n    return list.length === 1 ? list[0] : list;\n  },\n  StringSeparated() {\n    const list = [];\n    while (!this.matchEndOfFile()) {\n      let output = '';\n      while (!this.matchEndOfFile() && !this.matchToken('comma')) {\n        output += this.consumeRule('Text');\n      }\n      list.push(output.trim());\n      this.consumeToken('comma', true);\n      this.consumeToken('whitespace', true);\n    }\n    return list;\n  },\n  StringVerbatim() {\n    let output = '';\n    while (!this.matchEndOfFile()) {\n      output += this.consumeToken().text;\n    }\n    return flattenConsString(output);\n  },\n  StringUri() {\n    const uri = this.consumeRule('StringVerbatim');\n    try {\n      if (decodeURI(uri) === uri) {\n        return encodeURI(uri);\n      } else {\n        return uri;\n      }\n    } catch (e) {\n      return encodeURI(uri);\n    }\n  },\n  StringTitleCase() {\n    this.state.sentenceCase = true;\n    let output = '';\n    while (!this.matchEndOfFile()) {\n      output += this.consumeRule('Text');\n    }\n    return flattenConsString(output);\n  },\n  BracketString() {\n    var _this$state;\n    let output = '';\n    this.consumeToken('lbrace');\n    const sentenceCase = this.state.sentenceCase;\n    this.state.sentenceCase = sentenceCase && this.matchToken('command');\n    (_this$state = this.state).partlyLowercase && (_this$state.partlyLowercase = this.state.sentenceCase);\n    while (!this.matchToken('rbrace')) {\n      output += this.consumeRule('Text');\n    }\n    const topLevel = sentenceCase && !this.state.sentenceCase;\n    const protectCase = topLevel && this.state.partlyLowercase;\n    this.state.sentenceCase = sentenceCase;\n    this.consumeToken('rbrace');\n    return protectCase ? applyFormatting(output, 'nocase') : output;\n  },\n  MathString() {\n    let output = '';\n    this.consumeToken('mathShift');\n    while (!this.matchToken('mathShift')) {\n      if (this.matchToken('script')) {\n        const script = this.consumeToken('script').value;\n        const text = this.consumeRule('Text').split('');\n        if (text.every(char => char in constants.mathScripts[script])) {\n          output += text.map(char => constants.mathScripts[script][char]).join('');\n        } else {\n          const formatName = constants.mathScriptFormatting[script];\n          output += constants.formatting[formatName].join(text.join(''));\n        }\n        continue;\n      }\n      if (this.matchToken('command')) {\n        const command = this.token.value;\n        if (command in constants.mathScriptFormatting) {\n          this.consumeToken('command');\n          const text = this.consumeRule('BracketString');\n          output += applyFormatting(text, constants.mathScriptFormatting[command]);\n          continue;\n        }\n      }\n      output += this.consumeRule('Text');\n    }\n    this.consumeToken('mathShift');\n    return output;\n  },\n  Text() {\n    if (this.matchToken('lbrace')) {\n      return this.consumeRule('BracketString');\n    } else if (this.matchToken('mathShift')) {\n      return this.consumeRule('MathString');\n    } else if (this.matchToken('whitespace')) {\n      return this.consumeToken('whitespace').value;\n    } else if (this.matchToken('commandBegin')) {\n      return this.consumeRule('EnclosedEnv');\n    } else if (this.matchToken('command')) {\n      return this.consumeRule('Command');\n    }\n    const text = this.consumeToken('text').value.replace(constants.ligaturePattern, ligature => constants.ligatures[ligature]);\n    const afterPunctuation = this.state.afterPunctuation;\n    this.state.afterPunctuation = /[?!.:]$/.test(text);\n    if (!this.state.sentenceCase) {\n      var _this$state2;\n      (_this$state2 = this.state).partlyLowercase || (_this$state2.partlyLowercase = text === text.toLowerCase() && text !== text.toUpperCase());\n      return text;\n    }\n    const [first, ...otherCharacters] = text;\n    const rest = otherCharacters.join('');\n    const restLowerCase = rest.toLowerCase();\n    if (rest !== restLowerCase) {\n      return text;\n    }\n    if (!afterPunctuation) {\n      return text.toLowerCase();\n    }\n    return first + restLowerCase;\n  },\n  Command() {\n    const commandToken = this.consumeToken('command');\n    const command = commandToken.value;\n    if (command in constants.formattingEnvs) {\n      const text = this.consumeRule('Env');\n      const format = constants.formattingEnvs[command];\n      return applyFormatting(text, format);\n    } else if (command in constants.formattingCommands) {\n      const text = this.consumeRule('BracketString');\n      const format = constants.formattingCommands[command];\n      return applyFormatting(text, format);\n    } else if (command in constants.commands) {\n      return constants.commands[command];\n    } else if (command in constants.diacritics && !this.matchEndOfFile()) {\n      const text = this.consumeRule('Text');\n      const diacritic = text[0] + constants.diacritics[command];\n      return diacritic.normalize('NFC') + text.slice(1);\n    } else if (command in constants.argumentCommands) {\n      const func = constants.argumentCommands[command];\n      const args = [];\n      let arity = func.length;\n      while (arity-- > 0) {\n        this.consumeToken('whitespace', true);\n        args.push(this.consumeRule('BracketString'));\n      }\n      return func(...args);\n    } else if (/^[&%$#_{}]$/.test(command)) {\n      return commandToken.text.slice(1);\n    } else {\n      return commandToken.text;\n    }\n  },\n  Env() {\n    let output = '';\n    while (!this.matchEndOfFile() && !this.matchToken('rbrace')) {\n      output += this.consumeRule('Text');\n    }\n    return output;\n  },\n  EnclosedEnv() {\n    this.consumeToken('commandBegin');\n    const beginEnv = this.consumeRule('BracketString');\n    let output = '';\n    while (!this.matchToken('commandEnd')) {\n      output += this.consumeRule('Text');\n    }\n    const end = this.consumeToken('commandEnd');\n    const endEnv = this.consumeRule('BracketString');\n    if (beginEnv !== endEnv) {\n      throw new SyntaxError(this.lexer.formatError(end, `environment started with \"${beginEnv}\", ended with \"${endEnv}\"`));\n    }\n    return applyFormatting(output, constants.formattingEnvs[beginEnv]);\n  }\n}, {\n  sentenceCase: false,\n  partlyLowercase: false,\n  afterPunctuation: true\n});\nfunction singleLanguageIsEnglish(language) {\n  return constants.sentenceCaseLanguages.includes(language.toLowerCase());\n}\nfunction isEnglish(languages) {\n  if (Array.isArray(languages)) {\n    return languages.every(singleLanguageIsEnglish);\n  }\n  return singleLanguageIsEnglish(languages);\n}\nfunction getMainRule(fieldType, languages) {\n  if (fieldType[1] === 'name') {\n    return fieldType[0] === 'list' ? 'StringNames' : 'Name';\n  }\n  if (fieldType[1] === 'title') {\n    const option = config.parse.sentenceCase;\n    if (option === 'always' || option === 'english' && isEnglish(languages)) {\n      return 'StringTitleCase';\n    } else {\n      return 'String';\n    }\n  }\n  switch (fieldType[0] === 'field' ? fieldType[1] : fieldType[0]) {\n    case 'list':\n      return 'StringList';\n    case 'separated':\n      return 'StringSeparated';\n    case 'verbatim':\n      return 'StringVerbatim';\n    case 'uri':\n      return 'StringUri';\n    case 'title':\n    case 'literal':\n    default:\n      return 'String';\n  }\n}\nfunction getLexerState(fieldType) {\n  if (fieldType[1] === 'name') {\n    return 'namesLiteral';\n  }\n  switch (fieldType[0]) {\n    case 'list':\n      return 'listLiteral';\n    case 'separated':\n      return 'separatedLiteral';\n    case 'field':\n    default:\n      return 'stringLiteral';\n  }\n}\nexport function parse(text, field, languages = []) {\n  const fieldType = constants.fieldTypes[field] || [];\n  return valueGrammar.parse(lexer.reset(text, {\n    state: getLexerState(fieldType),\n    line: 0,\n    col: 0\n  }), getMainRule(fieldType, languages));\n}","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return typeof key === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (typeof input !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (typeof res !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nimport config from '../config.js';\nimport { parse as mapBiblatex, parseBibtex as mapBibtex } from '../mapping/index.js';\nimport { parse as parseValue } from './value.js';\nimport { required } from './constants.js';\nfunction validate(entries, requirements) {\n  const problems = [];\n  for (const {\n    type,\n    label,\n    properties\n  } of entries) {\n    if (type in requirements) {\n      const missing = [];\n      for (const field of requirements[type]) {\n        if (Array.isArray(field) && !field.some(field => field in properties)) {\n          missing.push(field.join('/'));\n        } else if (typeof field === 'string' && !(field in properties)) {\n          missing.push(field);\n        }\n      }\n      if (missing.length) {\n        problems.push([label, `missing fields: ${missing.join(', ')}`]);\n      }\n    } else {\n      problems.push([label, `invalid type: \"${type}\"`]);\n    }\n  }\n  if (problems.length) {\n    throw new RangeError(['Invalid entries:'].concat(problems.map(([label, problem]) => `  - ${label} has ${problem}`)).join('\\n'));\n  }\n}\nfunction parseEntryValues(entry) {\n  const output = {};\n  if ('language' in entry.properties) {\n    output.language = parseValue(entry.properties.language, 'language');\n  }\n  for (const property in entry.properties) {\n    const value = entry.properties[property];\n    if (value === '') {\n      continue;\n    }\n    output[property] = parseValue(value + '', property, output.language);\n  }\n  return _objectSpread(_objectSpread({}, entry), {}, {\n    properties: output\n  });\n}\nexport function parse(entries) {\n  if (config.parse.strict) {\n    validate(entries, required.biblatex);\n  }\n  return mapBiblatex(entries.map(parseEntryValues));\n}\nexport function parseBibtex(entries) {\n  if (config.parse.strict) {\n    validate(entries, required.bibtex);\n  }\n  return mapBibtex(entries.map(parseEntryValues));\n}","import { parse as parseFile } from './file.js';\nimport { parse as parseBibtxt } from './bibtxt.js';\nimport { parse as parseEntries, parseBibtex } from './entries.js';\nexport const ref = '@bibtex';\nexport const formats = {\n  '@biblatex/text': {\n    parse: parseFile,\n    parseType: {\n      dataType: 'String',\n      predicate: /@\\s{0,5}[A-Za-z]{1,13}\\s{0,5}\\{\\s{0,5}[^@{}\"=,\\\\\\s]{0,100}\\s{0,5},[\\s\\S]*\\}/\n    }\n  },\n  '@biblatex/entry+object': {\n    parse(input) {\n      return parseEntries([input]);\n    },\n    parseType: {\n      dataType: 'SimpleObject',\n      propertyConstraint: {\n        props: ['type', 'label', 'properties']\n      }\n    }\n  },\n  '@biblatex/entries+list': {\n    parse: parseEntries,\n    parseType: {\n      elementConstraint: '@biblatex/entry+object'\n    }\n  },\n  '@bibtex/text': {\n    parse: parseFile,\n    outputs: '@bibtex/entries+list'\n  },\n  '@bibtex/entry+object': {\n    parse(input) {\n      return parseBibtex([input]);\n    }\n  },\n  '@bibtex/entries+list': {\n    parse: parseBibtex\n  },\n  '@bibtxt/text': {\n    parse: parseBibtxt,\n    parseType: {\n      dataType: 'String',\n      predicate: /^\\s*(\\[(?!\\s*[{[]).*?\\]\\s*(\\n\\s*[^[]((?!:)\\S)+\\s*:\\s*.+?\\s*)*\\s*)+$/\n    }\n  }\n};","//@ts-nocheck\nimport { diacritics, commands, ligatures, fieldTypes } from '../input/constants.js';\nconst unicode = {};\nfor (const command in commands) {\n  unicode[commands[command]] = command;\n}\nfor (const diacritic in diacritics) {\n  unicode[diacritics[diacritic]] = diacritic;\n}\nfor (const ligature in ligatures) {\n  unicode[ligatures[ligature]] = ligature;\n}\nconst UNSAFE_UNICODE = /[^a-zA-Z0-9\\s!\"#%&'()*+,\\-./:;=?@[\\]{}\\u0300-\\u0308\\u030a-\\u030c\\u0332\\u0323\\u0327\\u0328\\u0361\\u0326]/g;\nconst DIACRITIC_PATTERN = /.[\\u0300-\\u0308\\u030a-\\u030c\\u0332\\u0323\\u0327\\u0328\\u0361\\u0326]+/g;\nconst listDelimiters = {\n  separated: ',',\n  list: ' and '\n};\nconst richTextMappings = {\n  i: '\\\\textit{',\n  b: '\\\\textbf{',\n  sc: '\\\\textsc{',\n  sup: '\\\\textsuperscript{',\n  sub: '\\\\textsubscript{',\n  'span style=\"font-variant:small-caps;\"': '\\\\textsc{',\n  'span class=\"nocase\"': '{'\n};\nfunction escapeValue(value) {\n  return value.normalize('NFKD').replace(UNSAFE_UNICODE, char => char in unicode ? unicode[char] in ligatures ? unicode[char] : `\\\\${unicode[char]}{}` : '').replace(DIACRITIC_PATTERN, match => Array.from(match).reduce((subject, diacritic) => `{\\\\${unicode[diacritic]} ${subject}}`));\n}\nfunction formatRichText(value) {\n  const closingTags = [];\n  let tokens = value.split(/<(\\/?(?:i|b|sc|sup|sub|span)|span .*?)>/g);\n  tokens = tokens.map((token, index) => {\n    if (index % 2 === 0) {\n      return escapeValue(token);\n    } else if (token in richTextMappings) {\n      closingTags.push('/' + token.split(' ')[0]);\n      return richTextMappings[token];\n    } else if (token === closingTags[closingTags.length - 1]) {\n      closingTags.pop();\n      return '}';\n    } else {\n      return '';\n    }\n  });\n  return tokens.join('');\n}\nfunction formatName(name) {\n  if (name.family && !name.prefix && !name.given & !name.suffix) {\n    return name.family.includes(listDelimiters.list) ? name.family : `{${name.family}}`;\n  }\n  const parts = [''];\n  if (name.prefix && name.family) {\n    parts[0] += name.prefix + ' ';\n  }\n  if (name.family) {\n    parts[0] += name.family;\n  }\n  if (name.suffix) {\n    parts.push(name.suffix);\n    parts.push(name.given || '');\n  } else {\n    parts.push(name.given);\n  }\n  return escapeValue(parts.join(', ').trim());\n}\nfunction formatTitle(title) {\n  return formatRichText(title).split(/(:\\s*)/).map((part, i) => i % 2 ? part : part.replace(/(?!^)\\b[a-z]*[A-Z].*?\\b/g, '{$&}')).join('');\n}\nfunction formatSingleValue(value, valueType) {\n  switch (valueType) {\n    case 'title':\n      return formatTitle(value);\n    case 'literal':\n      return formatRichText(value.toString());\n    case 'name':\n      return formatName(value);\n    case 'verbatim':\n    case 'uri':\n      return value.toString();\n    default:\n      return escapeValue(value.toString());\n  }\n}\nfunction formatList(values, valueType, listType) {\n  const delimiter = listDelimiters[listType];\n  return values.map(value => {\n    const formatted = formatSingleValue(value, valueType);\n    return formatted.includes(delimiter) ? `{${formatted}}` : formatted;\n  }).join(delimiter);\n}\nexport function format(field, value) {\n  if (!(field in fieldTypes)) {\n    return formatSingleValue(value, 'verbatim');\n  }\n  const [listType, valueType] = fieldTypes[field];\n  if (listType in listDelimiters) {\n    return formatList(value, valueType, listType);\n  } else {\n    return formatSingleValue(value, valueType);\n  }\n}","import { format as mapBiblatex, formatBibtex as mapBibtex } from '../mapping/index.js';\nimport { format as formatValue } from './value.js';\nfunction formatEntryValues({\n  type,\n  label,\n  properties\n}) {\n  const output = {};\n  for (const property in properties) {\n    const value = properties[property];\n    output[property] = formatValue(property, value);\n  }\n  return {\n    type,\n    label,\n    properties: output\n  };\n}\nexport function format(entries) {\n  return mapBiblatex(entries).map(formatEntryValues);\n}\nexport function formatBibtex(entries) {\n  return mapBibtex(entries).map(formatEntryValues);\n}","function formatEntry({\n  type,\n  label,\n  properties\n}, dict) {\n  const fields = Object.entries(properties).map(([field, value]) => dict.listItem.join(`${field} = {${value}},`));\n  return dict.entry.join(`@${type}{${label},${dict.list.join(fields.join(''))}}`);\n}\nexport function format(src, dict) {\n  const entries = src.map(entry => formatEntry(entry, dict)).join('');\n  return dict.bibliographyContainer.join(entries);\n}","function formatEntry({\n  type,\n  label,\n  properties\n}, dict) {\n  const fields = Object.entries(properties).concat([['type', type]]).map(([field, value]) => dict.listItem.join(`${field}: ${value}`));\n  return dict.entry.join(`[${label}]${dict.list.join(fields.join(''))}`);\n}\nexport function format(src, dict) {\n  const entries = src.map(entry => formatEntry(entry, dict)).join('\\n');\n  return dict.bibliographyContainer.join(entries);\n}","import { plugins } from '../../core/index.js';\nimport { format as mapBiblatex, formatBibtex as mapBibtex } from './entries.js';\nimport { format } from './bibtex.js';\nimport { format as formatBibtxt } from './bibtxt.js';\nconst factory = function (mapper, formatter) {\n  return function (data, opts = {}) {\n    const {\n      type,\n      format = type || 'text'\n    } = opts;\n    data = mapper(data);\n    if (format === 'object') {\n      return data;\n    } else if (plugins.dict.has(format)) {\n      return formatter(data, plugins.dict.get(format), opts);\n    } else {\n      throw new RangeError(`Output dictionary \"${format}\" not available`);\n    }\n  };\n};\nexport default {\n  bibtex: factory(mapBibtex, format),\n  biblatex: factory(mapBiblatex, format),\n  bibtxt: factory(mapBibtex, formatBibtxt)\n};","import { plugins } from '../core/index.js';\nimport { ref, formats as input } from './input/index.js';\nimport config from './config.js';\nimport output from './output/index.js';\nplugins.add(ref, {\n  input,\n  output,\n  config\n});","import { util } from '../core/index.js';\nimport defaultLocales from './locales.json';\nconst locales = new util.Register(defaultLocales);\nconst fetchLocale = lang => {\n  if (locales.has(lang)) {\n    return locales.get(lang);\n  } else {\n    return locales.get('en-US');\n  }\n};\nexport default fetchLocale;\nexport { locales };","import { util } from '../core/index.js';\nimport defaultTemplates from './styles.json';\nconst templates = new util.Register(defaultTemplates);\nconst fetchStyle = style => {\n  if (templates.has(style)) {\n    return templates.get(style);\n  } else {\n    return templates.get('apa');\n  }\n};\nexport default fetchStyle;\nexport { templates };","import CSL from 'citeproc';\nimport { templates } from './styles.js';\nimport { locales } from './locales.js';\nconst proxied = Symbol.for('proxied');\nconst getWrapperProxy = function (original) {\n  const proxy = function (state, entry) {\n    if (state.sys.wrapBibliographyEntry) {\n      const [prefix, postfix] = state.sys.wrapBibliographyEntry(this.system_id);\n      entry = [prefix, entry, postfix].join('');\n    }\n    return original.call(this, state, entry);\n  };\n  proxy[proxied] = true;\n  return proxy;\n};\nfor (const format in CSL.Output.Formats) {\n  const original = CSL.Output.Formats[format]['@bibliography/entry'];\n  if (!original || original[proxied]) {\n    continue;\n  }\n  CSL.Output.Formats[format]['@bibliography/entry'] = getWrapperProxy(original);\n}\nfunction retrieveLocale(locale) {\n  if (locales.has(locale)) {\n    return locales.get(locale);\n  }\n  const unnormalised = locale.replace('-', '_');\n  if (locales.has(unnormalised)) {\n    return locales.get(unnormalised);\n  }\n  return {};\n}\nconst engines = {};\nconst fetchEngine = function (style, locale, styleXml, retrieveItem, retrieveLocale) {\n  const engineHash = `${style}|${locale}`;\n  let engine;\n  if (engines[engineHash] instanceof CSL.Engine) {\n    engine = engines[engineHash];\n    engine.sys.retrieveItem = retrieveItem;\n    engine.updateItems([]);\n  } else {\n    engine = engines[engineHash] = new CSL.Engine({\n      retrieveLocale,\n      retrieveItem\n    }, styleXml, locale, true);\n  }\n  return engine;\n};\nconst prepareEngine = function (data, style, locale, format) {\n  if (!CSL.Output.Formats[format] || !CSL.Output.Formats[format]['@bibliography/entry']) {\n    throw new TypeError(`Cannot find format '${format}'`);\n  }\n  const items = data.reduce((store, entry) => {\n    store[entry.id] = entry;\n    return store;\n  }, {});\n  const template = templates.get(templates.has(style) ? style : 'apa');\n  locale = locales.has(locale) ? locale : undefined;\n  const callback = function (key) {\n    if (Object.prototype.hasOwnProperty.call(items, key)) {\n      return items[key];\n    } else {\n      throw new Error(`Cannot find entry with id '${key}'`);\n    }\n  };\n  const engine = fetchEngine(style, locale, template, callback, retrieveLocale);\n  engine.setOutputFormat(format);\n  return engine;\n};\nexport default prepareEngine;\nexport { fetchEngine };","const getAttributedEntry = (string, name, value) => string.replace(/^\\s*<[a-z]+/i, `$& data-${name}=\"${value}\"`);\nconst getPrefixedEntry = (value, id) => getAttributedEntry(value, 'csl-entry-id', id);\nexport { getAttributedEntry, getPrefixedEntry };","import { util } from '../core/index.js';\nimport prepareEngine from './engines.js';\nimport { getPrefixedEntry } from './attr.js';\nconst getAffix = (source, affix) => typeof affix === 'function' ? affix(source) : affix || '';\nexport default function bibliography(data, options = {}) {\n  const {\n    template = 'apa',\n    lang,\n    format = 'text',\n    nosort = false\n  } = options;\n  const ids = options.entry ? [].concat(options.entry) : data.map(({\n    id\n  }) => id);\n  data = util.downgradeCsl(data);\n  const citeproc = prepareEngine(data, template, lang, format);\n  const sortedIds = citeproc.updateItems(ids, nosort);\n  if (options.append || options.prepend) {\n    const items = data.reduce((items, entry) => {\n      items[entry.id] = entry;\n      return items;\n    }, {});\n    citeproc.sys.wrapBibliographyEntry = function (id) {\n      const entry = items[id];\n      return [getAffix(entry, options.prepend), getAffix(entry, options.append)];\n    };\n  } else {\n    citeproc.sys.wrapBibliographyEntry = () => ['', ''];\n  }\n  const bibliography = citeproc.makeBibliography();\n  const [{\n    bibstart,\n    bibend\n  }, bibBody] = bibliography;\n  const entries = bibBody.map((element, index) => getPrefixedEntry(element, sortedIds[index]));\n  if (options.asEntryArray) {\n    return entries.map((element, index) => [sortedIds[index], element]);\n  }\n  return bibstart + entries.join('') + bibend;\n}","import { util } from '../core/index.js';\nimport prepareEngine from './engines.js';\nfunction prepareCiteItem(citeItem) {\n  return typeof citeItem === 'object' ? citeItem : {\n    id: citeItem\n  };\n}\nfunction prepareCitation(citation) {\n  if (citation.citationItems) {\n    return citation;\n  }\n  return {\n    citationItems: [].concat(citation).map(prepareCiteItem),\n    properties: {\n      noteIndex: 0\n    }\n  };\n}\nfunction prepareCitations(context) {\n  if (!context) {\n    return [];\n  }\n  return context.map(prepareCitation);\n}\nexport default function citation(data, options = {}) {\n  const {\n    template = 'apa',\n    lang,\n    format = 'text'\n  } = options;\n  const ids = data.map(({\n    id\n  }) => id);\n  const entries = options.entry ? [].concat(options.entry) : ids;\n  data = util.downgradeCsl(data);\n  const citeproc = prepareEngine(data, template, lang, format);\n  const before = prepareCitations(options.citationsPre);\n  const citation = prepareCitation(entries);\n  const after = prepareCitations(options.citationsPost);\n  const output = citeproc.rebuildProcessorState([...before, citation, ...after], format, []);\n  return output[before.length][2];\n}","import { plugins } from '../core/index.js';\nimport { locales } from './locales.js';\nimport { templates } from './styles.js';\nimport engine from './engines.js';\nimport bibliography from './bibliography.js';\nimport citation from './citation.js';\nplugins.add('@csl', {\n  output: {\n    bibliography,\n    citation\n  },\n  config: {\n    engine,\n    locales,\n    templates\n  }\n});","import { Cite as CiteCore, plugins } from './citation-js/core/index.js'\nimport './citation-js/plugin-bibjson/index.js'\nimport './citation-js/plugin-bibtex/index.js'\nimport './citation-js/plugin-csl/index.js'\n\nfunction clone(obj) {\n  const copy = {}\n  for (const key in obj) {\n    copy[key] = typeof obj[key] === 'object' ? clone(obj[key]) : obj[key]\n  }\n  return copy\n}\n\nfunction Cite(data, opts) {\n  if (!(this instanceof Cite)) {\n    return new Cite(data, opts)\n  }\n\n  const self = new CiteCore(data, opts)\n  this._options = self._options\n  this.log = self.log\n  this.data = self.data\n}\n\nCite.plugins = clone(plugins)\n\nexport default Cite\n"],"names":["currentVersion","log","length","retrieveVersion","versnum","data","options","image","Cite","JSON","parse","slice","undo","number","retrieveLastVersion","save","push","stringify","_options","formats","types","styles","wrapperTypes","validateOutputOptions","TypeError","format","type","style","lang","append","prepend","includes","test","Error","validateOptions","output","maxChainLength","forceType","generateGraph","strict","target","defaultOptions","validate","Object","assign","typeOf","thing","undefined","constructor","name","dataTypeOf","Array","isArray","applyGraph","entry","graph","_graph","index","findIndex","splice","removeGraph","logger","_output","level","scope","msg","_log","_levels","indexOf","_console","console","Console","process","stderr","dataTypes","unregExts","parseNativeTypes","input","dataType","every","matchType","typeList","predicate","extensions","match","addTypeParser","extends","extend","debug","object","parentTypeParser","hasTypeParser","prototype","hasOwnProperty","call","removeTypeParser","typeLists","keys","map","key","filter","list","forEach","listTypeParser","treeTypeParser","attachNode","children","typeMatcher","_defineProperty","obj","value","_toPropertyKey","defineProperty","enumerable","configurable","writable","arg","_toPrimitive","String","hint","prim","Symbol","toPrimitive","res","Number","TypeParser","validateDataType","validDataTypes","RangeError","validateParseType","RegExp","validateTokenList","tokenList","validatePropertyConstraint","propertyConstraint","validateElementConstraint","elementConstraint","validateExtends","parseTokenList","token","split","trim","trimInput","testTokens","part","parsePropertyConstraint","constraints","concat","props","some","prop","parseElementConstraint","constraint","parsePredicate","bind","getCombinedPredicate","predicates","getDataType","DataParser","parser","async","FormatParser","parsers","parseType","typeParser","dataParser","parseAsync","asyncDataParser","validateFormat","ownKeys","enumerableOnly","getOwnPropertySymbols","symbols","sym","getOwnPropertyDescriptor","apply","_objectSpread","i","arguments","source","getOwnPropertyDescriptors","defineProperties","NAME","NAME_LIST","DATE","TYPE","entryTypes","article","bill","book","broadcast","chapter","classic","collection","dataset","document","event","figure","graphic","hearing","interview","legal_case","legislation","manuscript","motion_picture","musical_score","pamphlet","patent","performance","periodical","personal_communication","post","regulation","report","review","software","song","speech","standard","thesis","treaty","webpage","fieldTypes","author","chair","compiler","composer","contributor","curator","director","editor","guest","host","interviewer","illustrator","narrator","organizer","performer","producer","recipient","translator","accessed","container","issued","submitted","categories","custom","id","language","journalAbbreviation","shortTitle","abstract","annote","archive","archive_collection","archive_location","authority","dimensions","division","DOI","edition","genre","ISBN","ISSN","issue","jurisdiction","keyword","locator","medium","note","page","PMCID","PMID","printing","publisher","references","scale","section","status","supplement","title","URL","version","volume","correctName","bestGuessConversions","literal","given","family","parseName","correctNameList","nameList","names","Boolean","correctDateParts","dateParts","isNaN","parseInt","correctDate","date","dp","range","correctType","correctField","fieldName","fieldType","parseFloat","toString","parseCsl","clean","field","correction","upgradeCsl","item","downgradeCsl","deepCopy","seen","Set","has","add","copy","delete","conversions","sign","x","evenRound","Math","floor","round","createNumberConversion","bitLength","typeOpts","unsigned","lowerBound","pow","upperBound","moduloVal","moduloBitLength","moduloBound","V","opts","enforceRange","isFinite","abs","clamp","val","treatNullAsEmptyString","c","codePointAt","S","n","U","charCodeAt","fromCodePoint","d","a","b","join","Date","module","mixin","getOwnPropertyNames","impl","exports","wrapperSymbol","wrapper","implSymbol","PROCESSING_OPTIONS","TRANSITIONAL","NONTRANSITIONAL","normalize","str","s","findStatus","start","end","mappingTable","mid","regexAstralSymbols","countSymbols","string","replace","mapChars","domain_name","useSTD3","processing_option","hasError","processed","len","codePoint","error","combiningMarksRegex","validateLabel","label","substr","punycode","toUnicode","search","processing","result","labels","validation","e","verifyDnsLength","l","toASCII","total","domain","specialSchemes","ftp","file","gopher","http","https","ws","wss","failure","ucs2","decode","at","idx","isASCIIDigit","isASCIIAlpha","isASCIIAlphanumeric","isASCIIHex","isSingleDot","buffer","toLowerCase","isDoubleDot","isWindowsDriveLetterCodePoints","cp1","cp2","isWindowsDriveLetterString","isNormalizedWindowsDriveLetterString","containsForbiddenHostCodePoint","containsForbiddenHostCodePointExcludingPercent","isSpecialScheme","scheme","isSpecial","url","defaultPort","percentEncode","hex","toUpperCase","utf8PercentEncode","buf","Buffer","utf8PercentDecode","isC0ControlPercentEncode","extraPathPercentEncodeSet","isPathPercentEncode","extraUserinfoPercentEncodeSet","isUserinfoPercentEncode","percentEncodeChar","encodeSetPredicate","cStr","parseIPv4Number","R","charAt","substring","regex","parseIPv4","parts","pop","numbers","ipv4","counter","serializeIPv4","address","parseIPv6","pieceIndex","compress","pointer","numbersSeen","ipv4Piece","swaps","temp","serializeIPv6","seqResult","findLongestZeroSequence","ignore0","separator","parseHost","isSpecialArg","parseOpaqueHost","asciiDomain","tr46","ipv4Host","decoded","arr","maxIdx","maxLen","currStart","currLen","serializeHost","trimControlChars","trimTabAndNewline","shortenPath","path","isNormalizedWindowsDriveLetter","includesCredentials","username","password","cannotHaveAUsernamePasswordPort","cannotBeABaseURL","URLStateMachine","base","encodingOverride","stateOverride","parseError","port","query","fragment","state","atFlag","arrFlag","passwordTokenSeenFlag","ret","parseSchemeStart","parseScheme","parseNoScheme","parseSpecialRelativeOrAuthority","parsePathOrAuthority","parseRelative","parseRelativeSlash","parseSpecialAuthoritySlashes","parseSpecialAuthorityIgnoreSlashes","parseAuthority","encodedCodePoints","parseHostName","parsePort","fileOtherwiseCodePoints","parseFile","parseFileSlash","parseFileHost","parsePathStart","parsePath","shift","parseCannotBeABaseURLPath","parseQuery","parseFragment","serializeURL","excludeFragment","serializeOrigin","tuple","serializeURLOrigin","parseURL","usm","baseURL","integer","basicURLParse","URLImpl","constructorArgs","parsedBase","parsedURL","_url","href","v","origin","protocol","setTheUsername","setThePassword","serializeInteger","hostname","pathname","hash","toJSON","utils","args","setup","is","get","set","Impl","implementation","create","privateData","interface","expose","Window","Worker","require$$0","require$$1","Readable","Stream","BUFFER","Blob","blobParts","buffers","element","ArrayBuffer","isView","from","byteOffset","byteLength","size","text","Promise","resolve","arrayBuffer","ab","stream","readable","_read","relativeStart","relativeEnd","max","min","span","slicedBuffer","blob","toStringTag","FetchError","message","systemError","code","errno","captureStackTrace","convert","require","INTERNALS","PassThrough","Body","body","_this","_ref","_ref$size","_ref$timeout","timeout","isURLSearchParams","isBlob","isBuffer","disturbed","on","err","bodyUsed","consumeBody","then","ct","headers","json","_this2","reject","textConverted","_this3","convertBody","mixIn","proto","desc","_this4","alloc","accum","accumBytes","abort","resTimeout","setTimeout","chunk","clearTimeout","charset","exec","getAll","sort","clone","instance","p1","p2","getBoundary","pipe","extractContentType","getTotalBytes","getLengthSync","_lengthRetrievers","hasKnownLength","writeToStream","dest","write","global","invalidTokenRegex","invalidHeaderCharRegex","validateName","validateValue","find","MAP","Headers","init","rawHeaders","raw","headerNames","headerName","method","iterator","pairs","pair","callback","thisArg","getHeaders","_pairs$i","createHeadersIterator","values","entries","kind","k","INTERNAL","HeadersIteratorPrototype","setPrototypeOf","next","getPrototypeOf","_INTERNAL","done","exportNodeCompatibleHeaders","__proto__","hostHeaderKey","createHeadersLenient","INTERNALS$1","STATUS_CODES","Response","contentType","statusText","ok","redirected","INTERNALS$2","Url","whatwgUrl","parse_url","format_url","urlStr","streamDestructionSupported","isRequest","isAbortSignal","signal","Request","inputBody","redirect","follow","agent","getNodeRequestOptions","request","contentLengthValue","totalBytes","AbortError","URL$1","PassThrough$1","isDomainOrSubdomain","destination","original","orig","endsWith","isSameProtocol","fetch","send","response","destroyStream","emit","aborted","abortAndFinalize","finalize","req","reqTimeout","addEventListener","removeEventListener","once","socket","fixResponseChunkedTransferBadEnding","addListener","hadError","hasDataListener","listenerCount","isRedirect","statusCode","location","locationURL","requestOpts","response_options","statusMessage","codings","zlibOptions","flush","zlib","Z_SYNC_FLUSH","finishFlush","createGunzip","createInflate","createInflateRaw","createBrotliDecompress","errorCallback","destroy","serializeHeaders","deserializeHeaders","old","serializeRequest","mode","credentials","cache","referrer","referrerPolicy","integrity","keepalive","deserializeRequest","resource","serializeResponse","deserializeResponse","bodyError","createStream","errors","serializeError","deserializeError","parseBodyType","parseBody","Transform","read","execFileSync","shared","_fetch","sendMessage","execPath","__dirname","windowsHide","maxBuffer","Infinity","shell","_body","_bodyError","SyncRequest","defineBuffer","checkBody","SyncResponse","defineBodyError","_super","self","catch","wrapFetchForNode","u","context","fetchFn","default","fetchPolyfill","corsEnabled","userAgent","normaliseHeaders","syncFetch","header","parseOpts","reqOpts","accept","checkContentType","isJson","sameType","checkResponse","fetchFile","fetchFileAsync","fetchId","prefix","random","Register","remove","Grammar","rules","defaultState","mainRule","lexer","consumeRule","matchEndOfFile","matchToken","consumeToken","optional","got","SyntaxError","formatError","rule","createConditionEval","condition","conditionEval","parsePropStatement","toSource","inputProp","outputProp","toTarget","when","createConverter","Translator","CONVERT_TO_SOURCE","converter","outputData","converted","cause","convertToSource","convertToTarget","CONVERT_TO_TARGET","prepareParseGraph","reduce","array","last","count","ChainParser","iteration","iterate","typeInfo","getTypeInfo","outputs","chain","parseData","chainLink","chainAsync","parseDataAsync","chainLinkAsync","asyncParsers","nativeParsers","flat","nativeAsyncParsers","all","dataAsync","hasDataParser","addDataParser","removeDataParser","listDataParser","formatParser","asyncData","util","csl","parseInput","getIds","addAsync","parseInputAsync","setAsync","reset","getLabel","getComparisonValue","getName","num","compareProp","entryA","entryB","flip","getSortCallback","promise","formatter","register","formatData","parsedOptions","styleType","styleFormat","newStyle","newType","formatOptions","template","_newOptions","createElement","tmp","innerHTML","firstChild","staticMethods","dict","entryName","html","bibliographyContainer","listItem","htmlDict","wr_start","wr_end","en_start","en_end","ul_start","ul_end","li_start","li_end","textDict","configs","ref","config","registers","indices","plugins","mainIndex","typeIndex","typePlugins","typePlugin","substituters","parseJSON","subst","textContent","empty","jquery","jQuery","HTMLElement","appendCommas","getJsonObject","src","getJsonValue","getJson","warn","ndjson","nameProps","person","firstname","lastname","firstName","lastName","identifiers","journalIdentifiers","idProps","upperCaseProp","identifier","typeMap","booklet","proceedings","mastersthesis","inbook","incollection","conference","inproceedings","manual","misc","online","phdthesis","techreport","unpublished","quickscrapeSpecificProps","generalProps","reviewer","keywords","dates","parseDate","published","year","journal","firstpage","pages","lastpage","link","cid","parseContentMine","parseBibJson","scraperLinks","links","authors","records","metadata","root","factory","moo","this","hasSticky","sticky","isRegExp","o","isObject","reEscape","reGroups","re","reCapture","reUnion","regexps","regexpOrLiteral","ignoreCase","multiline","pad","lastNLines","numLines","position","lineBreaks","lastIndexOf","startPosition","objectToRules","j","include","ruleOptions","arrayToRules","defaultType","fallback","shouldThrow","toRules","spec","defaultErrorRule","compileRules","hasStates","errorRule","fast","fastAllowed","unicodeFlag","groups","word","unicode","pat","regexp","groupCount","fallbackRule","flags","suffix","combined","compile","Lexer","checkStateGroup","g","compileStates","states","$all","ruleMap","included","newRules","newRule","fastKeys","keywordTransform","isMap","Map","reverseMap","tokenType","keywordList","startState","stack","info","line","col","queuedToken","queuedText","queuedThrow","setState","popState","pushState","eat","_getGroup","tokenToString","queuedGroup","_token","group","lastIndex","offset","matchNL","nl","LexerIterator","numLinesAround","firstDisplayedLine","lastDisplayedLine","lastLineDigits","displayedLines","errorLines","lineNo","freeze","required","_required","_fieldTypes","diacritics","commands","defaultStrings","jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec","acmcs","acta","cacm","ibmjrd","ibmsj","ieeese","ieeetc","ieeetcad","ipl","jacm","jcss","scp","sicomp","tocs","tods","tog","toms","toois","toplas","tcs","formattingEnvs","it","itshape","sl","slshape","em","bf","bfseries","sc","scshape","rm","sf","tt","formattingCommands","textit","textsl","emph","mkbibitalic","mkbibemph","textbf","strong","mkbibbold","textsc","textsuperscript","textsubscript","enquote","mkbibquote","textmd","textrm","textsf","texttt","textup","formatting","italics","bold","superscript","subscript","smallcaps","nocase","quotes","argumentCommands","ElsevierGlyph","glyph","fromCharCode","ligaturePattern","ligatures","mathScriptFormatting","sp","_","sb","mathrm","mathScripts","sentenceCaseLanguages","whitespace","comment","main","junk","otherEntryType","dataEntryType","otherEntryContents","lbrace","dataEntryContents","comma","fields","equals","quote","rbrace","quotedLiteral","bracedLiteral","delimiters","bibtexGrammar","Main","oldToken","Entry","openBrace","strings","properties","closeBrace","EntryBody","Field","Expression","ExpressionPart","QuoteString","BracketString","Text","bibTxtRegex","splitEntries","parseEntry","splitPairs","splitPair","parseBibTxtEntry","out","parseBibTxt","constants","biblatex","bibtex","sentenceCase","useIdAsLabel","stopWords","unsafeChars","firstWord","months","LABEL","MONTHS","january","february","march","april","june","july","august","september","october","november","december","TYPE_KEYS","bathesis","mathesis","candthesis","resreport","datacd","audiocd","patentde","patenteu","patentfr","patentuk","patentus","patreq","patreqde","patreqeu","patreqfr","patrequk","patrequs","STANDARD_NUMBERS_PATTERN","month","day","parseMonth","formatLabel","Converters","PICK","datePart","padStart","YEAR_MONTH","EPRINT","EVENT_TITLE","addon","HOW_PUBLISHED","howPublished","startsWith","KEYWORDS","safeId","NAMES","PAGES","STANDARD_NUMBERS","STATUS","TITLE","subtitle","nonSpec","addendum","formatDate","pagetotal","eprinttype","archiveprefix","S2ID","aliases","annotation","maintitle","booktitle","journaltitle","institution","organization","subtype","typeKey","sourceType","bookpagination","school","subType","targetType","BOOK","BOOK_PART","COLLECTION","COLLECTION_PART","PROCEEDINGS","PROCEEDINGS_PART","PERIODICAL_PART","TITLE_MAP","mvbook","mvcollection","mvreference","mvproceedings","reference","crossref","registry","parent","ids","xref","entryset","entrysubtype","execute","presort","related","relatedoptions","relatedstring","relatedtype","shortand","shortandintro","sortkey","bookauthor","targets","titleaddon","shorttitle","sorttitle","indextitle","indexsorttitle","_objectWithoutProperties","excluded","_objectWithoutPropertiesLoose","sourceSymbolKeys","propertyIsEnumerable","sourceKeys","_parse","_format","_spec$convertToSource","parseBibtex","formatBibtex","getStringCase","formatNameParts","piece","hyphenated","orderNameParts","orderGiven","undecided","upperCase","unshift","orderNamePieces","pieces","commandKeywords","command","mathShift","stringLiteral","namesLiteral","and","hyphen","listLiteral","separatedLiteral","mathLiteral","script","flattenConsString","applyFormatting","valueGrammar","StringNames","Name","NamePiece","NameToken","StringList","StringSeparated","StringVerbatim","StringUri","uri","decodeURI","encodeURI","StringTitleCase","_this$state","partlyLowercase","topLevel","protectCase","MathString","char","formatName","ligature","afterPunctuation","_this$state2","first","otherCharacters","rest","restLowerCase","Command","commandToken","diacritic","func","arity","Env","EnclosedEnv","beginEnv","endEnv","singleLanguageIsEnglish","isEnglish","languages","getMainRule","option","getLexerState","requirements","problems","missing","problem","parseEntryValues","parseValue","property","mapBiblatex","mapBibtex","parseEntries","parseBibtxt","UNSAFE_UNICODE","DIACRITIC_PATTERN","listDelimiters","separated","richTextMappings","sup","sub","escapeValue","subject","formatRichText","closingTags","tokens","formatTitle","formatSingleValue","valueType","formatList","listType","delimiter","formatted","formatEntryValues","formatValue","formatEntry","mapper","bibtxt","formatBibtxt","locales","defaultLocales","templates","defaultTemplates","proxied","for","getWrapperProxy","proxy","sys","wrapBibliographyEntry","postfix","system_id","CSL","Output","Formats","retrieveLocale","locale","unnormalised","engines","fetchEngine","styleXml","retrieveItem","engineHash","engine","Engine","updateItems","prepareEngine","items","store","setOutputFormat","getAttributedEntry","getPrefixedEntry","getAffix","affix","bibliography","nosort","citeproc","sortedIds","makeBibliography","bibstart","bibend","bibBody","asEntryArray","prepareCiteItem","citeItem","prepareCitation","citation","citationItems","noteIndex","prepareCitations","before","citationsPre","after","citationsPost","rebuildProcessorState","CiteCore"],"mappings":"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;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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"}